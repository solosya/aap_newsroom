!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,(function(e){"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t});var t={init:function(t){return this.options=e.extend({},e.noty.defaults,t),this.options.layout=this.options.custom?e.noty.layouts.inline:e.noty.layouts[this.options.layout],e.noty.themes[this.options.theme]?this.options.theme=e.noty.themes[this.options.theme]:this.options.themeClassName=this.options.theme,this.options=e.extend({},this.options,this.options.layout.options),this.options.id="noty_"+(new Date).getTime()*Math.floor(1e6*Math.random()),this._build(),this},_build:function(){var t=e('<div class="noty_bar noty_type_'+this.options.type+'"></div>').attr("id",this.options.id);if(t.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=null!==this.options.layout.parent.object?e(this.options.layout.parent.object).css(this.options.layout.parent.css).append(t):t,this.options.themeClassName&&this.$bar.addClass(this.options.themeClassName).addClass("noty_container_type_"+this.options.type),this.options.buttons){this.options.closeWith=[],this.options.timeout=!1;var i=e("<div/>").addClass("noty_buttons");null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(i):this.$bar.append(i);var n=this;e.each(this.options.buttons,(function(t,i){var o=e("<button/>").addClass(i.addClass?i.addClass:"gray").html(i.text).attr("id",i.id?i.id:"button-"+t).attr("title",i.title).appendTo(n.$bar.find(".noty_buttons")).on("click",(function(t){e.isFunction(i.onClick)&&i.onClick.call(o,n,t)}))}))}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),e.noty.store[this.options.id]=this},show:function(){var t=this;return t.options.custom?t.options.custom.find(t.options.layout.container.selector).append(t.$bar):e(t.options.layout.container.selector).append(t.$bar),t.options.theme&&t.options.theme.style&&t.options.theme.style.apply(t),"function"===e.type(t.options.layout.css)?this.options.layout.css.apply(t.$bar):t.$bar.css(this.options.layout.css||{}),t.$bar.addClass(t.options.layout.addClass),t.options.layout.container.style.apply(e(t.options.layout.container.selector),[t.options.within]),t.showing=!0,t.options.theme&&t.options.theme.style&&t.options.theme.callback.onShow.apply(this),e.inArray("click",t.options.closeWith)>-1&&t.$bar.css("cursor","pointer").one("click",(function(e){t.stopPropagation(e),t.options.callback.onCloseClick&&t.options.callback.onCloseClick.apply(t),t.close()})),e.inArray("hover",t.options.closeWith)>-1&&t.$bar.one("mouseenter",(function(){t.close()})),e.inArray("button",t.options.closeWith)>-1&&t.$closeButton.one("click",(function(e){t.stopPropagation(e),t.close()})),-1==e.inArray("button",t.options.closeWith)&&t.$closeButton.remove(),t.options.callback.onShow&&t.options.callback.onShow.apply(t),"string"==typeof t.options.animation.open?(t.$bar.css("height",t.$bar.innerHeight()),t.$bar.on("click",(function(e){t.wasClicked=!0})),t.$bar.show().addClass(t.options.animation.open).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){t.options.callback.afterShow&&t.options.callback.afterShow.apply(t),t.showing=!1,t.shown=!0,t.hasOwnProperty("wasClicked")&&(t.$bar.off("click",(function(e){t.wasClicked=!0})),t.close())}))):t.$bar.animate(t.options.animation.open,t.options.animation.speed,t.options.animation.easing,(function(){t.options.callback.afterShow&&t.options.callback.afterShow.apply(t),t.showing=!1,t.shown=!0})),t.options.timeout&&t.$bar.delay(t.options.timeout).promise().done((function(){t.close()})),this},close:function(){if(!(this.closed||this.$bar&&this.$bar.hasClass("i-am-closing-now"))){var t=this;if(this.showing)return void t.$bar.queue((function(){t.close.apply(t)}));if(!this.shown&&!this.showing){var i=[];return e.each(e.noty.queue,(function(e,n){n.options.id!=t.options.id&&i.push(n)})),void(e.noty.queue=i)}t.$bar.addClass("i-am-closing-now"),t.options.callback.onClose&&t.options.callback.onClose.apply(t),"string"==typeof t.options.animation.close?t.$bar.addClass(t.options.animation.close).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){t.options.callback.afterClose&&t.options.callback.afterClose.apply(t),t.closeCleanUp()})):t.$bar.clearQueue().stop().animate(t.options.animation.close,t.options.animation.speed,t.options.animation.easing,(function(){t.options.callback.afterClose&&t.options.callback.afterClose.apply(t)})).promise().done((function(){t.closeCleanUp()}))}},closeCleanUp:function(){var t=this;t.options.modal&&(e.notyRenderer.setModalCount(-1),0==e.notyRenderer.getModalCount()&&e(".noty_modal").fadeOut(t.options.animation.fadeSpeed,(function(){e(this).remove()}))),e.notyRenderer.setLayoutCountFor(t,-1),0==e.notyRenderer.getLayoutCountFor(t)&&e(t.options.layout.container.selector).remove(),void 0!==t.$bar&&null!==t.$bar&&("string"==typeof t.options.animation.close?(t.$bar.css("transition","all 100ms ease").css("border",0).css("margin",0).height(0),t.$bar.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",(function(){t.$bar.remove(),t.$bar=null,t.closed=!0,t.options.theme.callback&&t.options.theme.callback.onClose&&t.options.theme.callback.onClose.apply(t)}))):(t.$bar.remove(),t.$bar=null,t.closed=!0)),delete e.noty.store[t.options.id],t.options.theme.callback&&t.options.theme.callback.onClose&&t.options.theme.callback.onClose.apply(t),t.options.dismissQueue||(e.noty.ontap=!0,e.notyRenderer.render()),t.options.maxVisible>0&&t.options.dismissQueue&&e.notyRenderer.render()},setText:function(e){return this.closed||(this.options.text=e,this.$bar.find(".noty_text").html(e)),this},setType:function(e){return this.closed||(this.options.type=e,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(e){if(!this.closed){var t=this;this.options.timeout=e,t.$bar.delay(t.options.timeout).promise().done((function(){t.close()}))}return this},stopPropagation:function(e){void 0!==(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0},closed:!1,showing:!1,shown:!1};e.notyRenderer={},e.notyRenderer.init=function(i){var n=Object.create(t).init(i);return n.options.killer&&e.noty.closeAll(),n.options.force?e.noty.queue.unshift(n):e.noty.queue.push(n),e.notyRenderer.render(),"object"==e.noty.returns?n:n.options.id},e.notyRenderer.render=function(){var t=e.noty.queue[0];"object"===e.type(t)?t.options.dismissQueue?t.options.maxVisible>0?e(t.options.layout.container.selector+" > li").length<t.options.maxVisible&&e.notyRenderer.show(e.noty.queue.shift()):e.notyRenderer.show(e.noty.queue.shift()):e.noty.ontap&&(e.notyRenderer.show(e.noty.queue.shift()),e.noty.ontap=!1):e.noty.ontap=!0},e.notyRenderer.show=function(t){t.options.modal&&(e.notyRenderer.createModalFor(t),e.notyRenderer.setModalCount(1)),t.options.custom?0==t.options.custom.find(t.options.layout.container.selector).length?t.options.custom.append(e(t.options.layout.container.object).addClass("i-am-new")):t.options.custom.find(t.options.layout.container.selector).removeClass("i-am-new"):0==e(t.options.layout.container.selector).length?e("body").append(e(t.options.layout.container.object).addClass("i-am-new")):e(t.options.layout.container.selector).removeClass("i-am-new"),e.notyRenderer.setLayoutCountFor(t,1),t.show()},e.notyRenderer.createModalFor=function(t){if(0==e(".noty_modal").length){var i=e("<div/>").addClass("noty_modal").addClass(t.options.theme).data("noty_modal_count",0);t.options.theme.modal&&t.options.theme.modal.css&&i.css(t.options.theme.modal.css),i.prependTo(e("body")).fadeIn(t.options.animation.fadeSpeed),e.inArray("backdrop",t.options.closeWith)>-1&&i.on("click",(function(t){e.noty.closeAll()}))}},e.notyRenderer.getLayoutCountFor=function(t){return e(t.options.layout.container.selector).data("noty_layout_count")||0},e.notyRenderer.setLayoutCountFor=function(t,i){return e(t.options.layout.container.selector).data("noty_layout_count",e.notyRenderer.getLayoutCountFor(t)+i)},e.notyRenderer.getModalCount=function(){return e(".noty_modal").data("noty_modal_count")||0},e.notyRenderer.setModalCount=function(t){return e(".noty_modal").data("noty_modal_count",e.notyRenderer.getModalCount()+t)},e.fn.noty=function(t){return t.custom=e(this),e.notyRenderer.init(t)},e.noty={},e.noty.queue=[],e.noty.ontap=!0,e.noty.layouts={},e.noty.themes={},e.noty.returns="object",e.noty.store={},e.noty.get=function(t){return!!e.noty.store.hasOwnProperty(t)&&e.noty.store[t]},e.noty.close=function(t){return!!e.noty.get(t)&&e.noty.get(t).close()},e.noty.setText=function(t,i){return!!e.noty.get(t)&&e.noty.get(t).setText(i)},e.noty.setType=function(t,i){return!!e.noty.get(t)&&e.noty.get(t).setType(i)},e.noty.clearQueue=function(){e.noty.queue=[]},e.noty.closeAll=function(){e.noty.clearQueue(),e.each(e.noty.store,(function(e,t){t.close()}))};var i=window.alert;return e.noty.consumeAlert=function(t){window.alert=function(i){t?t.text=i:t={text:i},e.notyRenderer.init(t)}},e.noty.stopConsumeAlert=function(){window.alert=i},e.noty.defaults={layout:"top",theme:"defaultTheme",type:"alert",text:"",dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500,fadeSpeed:"fast"},timeout:!1,force:!1,modal:!1,maxVisible:5,killer:!1,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:!1},e(window).on("resize",(function(){e.each(e.noty.layouts,(function(t,i){i.container.style.apply(e(i.container.selector))}))})),window.noty=function(t){return e.notyRenderer.init(t)},e.noty.layouts.bottom={name:"bottom",options:{},container:{object:'<ul id="noty_bottom_layout_container" />',selector:"ul#noty_bottom_layout_container",style:function(){e(this).css({bottom:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},e.noty.layouts.bottomCenter={name:"bottomCenter",options:{},container:{object:'<ul id="noty_bottomCenter_layout_container" />',selector:"ul#noty_bottomCenter_layout_container",style:function(){e(this).css({bottom:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),e(this).css({left:(e(window).width()-e(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},e.noty.layouts.bottomLeft={name:"bottomLeft",options:{},container:{object:'<ul id="noty_bottomLeft_layout_container" />',selector:"ul#noty_bottomLeft_layout_container",style:function(){e(this).css({bottom:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&e(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},e.noty.layouts.bottomRight={name:"bottomRight",options:{},container:{object:'<ul id="noty_bottomRight_layout_container" />',selector:"ul#noty_bottomRight_layout_container",style:function(){e(this).css({bottom:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&e(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},e.noty.layouts.center={name:"center",options:{},container:{object:'<ul id="noty_center_layout_container" />',selector:"ul#noty_center_layout_container",style:function(){e(this).css({position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var t=e(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");e("body").append(t),t.find(".i-am-closing-now").remove(),t.find("li").css("display","block");var i=t.height();t.remove(),e(this).hasClass("i-am-new")?e(this).css({left:(e(window).width()-e(this).outerWidth(!1))/2+"px",top:(e(window).height()-i)/2+"px"}):e(this).animate({left:(e(window).width()-e(this).outerWidth(!1))/2+"px",top:(e(window).height()-i)/2+"px"},500)}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},e.noty.layouts.centerLeft={name:"centerLeft",options:{},container:{object:'<ul id="noty_centerLeft_layout_container" />',selector:"ul#noty_centerLeft_layout_container",style:function(){e(this).css({left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var t=e(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");e("body").append(t),t.find(".i-am-closing-now").remove(),t.find("li").css("display","block");var i=t.height();t.remove(),e(this).hasClass("i-am-new")?e(this).css({top:(e(window).height()-i)/2+"px"}):e(this).animate({top:(e(window).height()-i)/2+"px"},500),window.innerWidth<600&&e(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},e.noty.layouts.centerRight={name:"centerRight",options:{},container:{object:'<ul id="noty_centerRight_layout_container" />',selector:"ul#noty_centerRight_layout_container",style:function(){e(this).css({right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var t=e(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");e("body").append(t),t.find(".i-am-closing-now").remove(),t.find("li").css("display","block");var i=t.height();t.remove(),e(this).hasClass("i-am-new")?e(this).css({top:(e(window).height()-i)/2+"px"}):e(this).animate({top:(e(window).height()-i)/2+"px"},500),window.innerWidth<600&&e(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},e.noty.layouts.inline={name:"inline",options:{},container:{object:'<ul class="noty_inline_layout_container" />',selector:"ul.noty_inline_layout_container",style:function(){e(this).css({width:"100%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},e.noty.layouts.top={name:"top",options:{},container:{object:'<ul id="noty_top_layout_container" />',selector:"ul#noty_top_layout_container",style:function(){e(this).css({top:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},e.noty.layouts.topCenter={name:"topCenter",options:{},container:{object:'<ul id="noty_topCenter_layout_container" />',selector:"ul#noty_topCenter_layout_container",style:function(){e(this).css({top:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),e(this).css({left:(e(window).width()-e(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},e.noty.layouts.topLeft={name:"topLeft",options:{},container:{object:'<ul id="noty_topLeft_layout_container" />',selector:"ul#noty_topLeft_layout_container",style:function(){e(this).css({top:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&e(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},e.noty.layouts.topRight={name:"topRight",options:{},container:{object:'<ul id="noty_topRight_layout_container" />',selector:"ul#noty_topRight_layout_container",style:function(){e(this).css({top:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&e(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},e.noty.themes.bootstrapTheme={name:"bootstrapTheme",modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){var t=this.options.layout.container.selector;switch(e(t).addClass("list-group"),this.$closeButton.append('<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>'),this.$closeButton.addClass("close"),this.$bar.addClass("list-group-item").css("padding","0px"),this.options.type){case"alert":case"notification":this.$bar.addClass("list-group-item-info");break;case"warning":this.$bar.addClass("list-group-item-warning");break;case"error":this.$bar.addClass("list-group-item-danger");break;case"information":this.$bar.addClass("list-group-item-info");break;case"success":this.$bar.addClass("list-group-item-success")}this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"})},callback:{onShow:function(){},onClose:function(){}}},e.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){if(this.options.dismissQueue){var t=this.options.layout.container.selector+" "+this.options.layout.parent.selector;switch(this.options.layout.name){case"top":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).last().css({borderRadius:"0px 0px 5px 5px"});break;case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomLeft":case"bottomRight":case"center":case"centerLeft":case"centerRight":case"inline":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"}),e(t).last().css({"border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"});break;case"bottom":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).first().css({borderRadius:"5px 5px 0px 0px"})}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAQAAAClM0ndAAAAhklEQVR4AdXO0QrCMBBE0bttkk38/w8WRERpdyjzVOc+HxhIHqJGMQcFFkpYRQotLLSw0IJ5aBdovruMYDA/kT8plF9ZKLFQcgF18hDj1SbQOMlCA4kao0iiXmah7qBWPdxpohsgVZyj7e5I9KcID+EhiDI5gxBYKLBQYKHAQoGFAoEks/YEGHYKB7hFxf0AAAAASUVORK5CYII=') repeat-x scroll left top #fff"}),this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){e(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){e(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case"top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){e.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){e.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}},e.noty.themes.relax={name:"relax",helpers:{},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",margin:"4px 0",borderRadius:"2px"}),this.$message.css({fontSize:"14px",lineHeight:"16px",textAlign:"center",padding:"10px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){e(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){e(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case"top":this.$bar.css({borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",borderTop:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",borderBottom:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#dedede",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"#FF8181",borderColor:"#e25353",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#78C5E7",borderColor:"#3badd6",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"#BCF5BC",borderColor:"#7cdd77",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){},onClose:function(){}}},window.noty})),function(){"use strict";function e(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=e.Adapter.extend({},e.defaults,n),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,t+=1}var t=0,i={};e.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},e.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(e){var t=[];for(var n in i)t.push(i[n]);for(var o=0,s=t.length;s>o;o++)t[o][e]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){for(var t in e.Context.refreshAll(),i)i[t].enabled=!0;return this},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}function t(e){this.element=e,this.Adapter=o.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,n[e.waypointContextKey]=this,i+=1,o.windowContext||(o.windowContext=!0,o.windowContext=new t(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},o=window.Waypoint,s=window.onload;t.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},t.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;e&&t&&!i&&(this.adapter.off(".waypoints"),delete n[this.key])},t.prototype.createThrottledResizeHandler=function(){function e(){t.handleResize(),t.didResize=!1}var t=this;this.adapter.on("resize.waypoints",(function(){t.didResize||(t.didResize=!0,o.requestAnimationFrame(e))}))},t.prototype.createThrottledScrollHandler=function(){function e(){t.handleScroll(),t.didScroll=!1}var t=this;this.adapter.on("scroll.waypoints",(function(){(!t.didScroll||o.isTouch)&&(t.didScroll=!0,o.requestAnimationFrame(e))}))},t.prototype.handleResize=function(){o.Context.refreshAll()},t.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in t){var n=t[i],o=n.newScroll>n.oldScroll?n.forward:n.backward;for(var s in this.waypoints[i]){var r=this.waypoints[i][s];if(null!==r.triggerPoint){var a=n.oldScroll<r.triggerPoint,l=n.newScroll>=r.triggerPoint;(a&&l||!a&&!l)&&(r.queueTrigger(o),e[r.group.id]=r.group)}}}for(var c in e)e[c].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.innerHeight=function(){return this.element==this.element.window?o.viewportHeight():this.adapter.innerHeight()},t.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},t.prototype.innerWidth=function(){return this.element==this.element.window?o.viewportWidth():this.adapter.innerWidth()},t.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var i in this.waypoints[t])e.push(this.waypoints[t][i]);for(var n=0,o=e.length;o>n;n++)e[n].destroy()},t.prototype.refresh=function(){var e,t=this.element==this.element.window,i=t?void 0:this.adapter.offset(),n={};for(var s in this.handleScroll(),e={horizontal:{contextOffset:t?0:i.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:i.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var r=e[s];for(var a in this.waypoints[s]){var l,c,u,d,p=this.waypoints[s][a],h=p.options.offset,m=p.triggerPoint,f=0,g=null==m;p.element!==p.element.window&&(f=p.adapter.offset()[r.offsetProp]),"function"==typeof h?h=h.apply(p):"string"==typeof h&&(h=parseFloat(h),p.options.offset.indexOf("%")>-1&&(h=Math.ceil(r.contextDimension*h/100))),l=r.contextScroll-r.contextOffset,p.triggerPoint=Math.floor(f+l-h),c=m<r.oldScroll,u=p.triggerPoint>=r.oldScroll,d=!c&&!u,!g&&(c&&u)?(p.queueTrigger(r.backward),n[p.group.id]=p.group):(!g&&d||g&&r.oldScroll>=p.triggerPoint)&&(p.queueTrigger(r.forward),n[p.group.id]=p.group)}}return o.requestAnimationFrame((function(){for(var e in n)n[e].flushTriggers()})),this},t.findOrCreateByElement=function(e){return t.findByElement(e)||new t(e)},t.refreshAll=function(){for(var e in n)n[e].refresh()},t.findByElement=function(e){return n[e.waypointContextKey]},window.onload=function(){s&&s(),t.refreshAll()},o.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},o.Context=t}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}function i(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},o=window.Waypoint;i.prototype.add=function(e){this.waypoints.push(e)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],o="up"===i||"left"===i;n.sort(o?t:e);for(var s=0,r=n.length;r>s;s+=1){var a=n[s];(a.options.continuous||s===n.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(t){this.waypoints.sort(e);var i=o.Adapter.inArray(t,this.waypoints);return i===this.waypoints.length-1?null:this.waypoints[i+1]},i.prototype.previous=function(t){this.waypoints.sort(e);var i=o.Adapter.inArray(t,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},i.prototype.remove=function(e){var t=o.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(e){return n[e.axis][e.name]||new i(e)},o.Group=i}(),function(){"use strict";function e(e){this.$element=t(e)}var t=window.jQuery,i=window.Waypoint;t.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],(function(t,i){e.prototype[i]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,e)}})),t.each(["extend","inArray","isEmptyObject"],(function(i,n){e[n]=t[n]})),i.adapters.push({name:"jquery",Adapter:e}),i.Adapter=e}(),function(){"use strict";function e(e){return function(){var i=[],n=arguments[0];return e.isFunction(arguments[0])&&((n=e.extend({},arguments[1])).handler=arguments[0]),this.each((function(){var o=e.extend({},n,{element:this});"string"==typeof o.context&&(o.context=e(this).closest(o.context)[0]),i.push(new t(o))})),i}}var t=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}(),
/*!

 handlebars v4.0.5

Copyright (C) 2011-2015 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/
function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}return i.m=e,i.c=t,i.p="",i(0)}([function(e,t,i){"use strict";var n=i(1).default;t.__esModule=!0;var o=n(i(2)),s=n(i(21)),r=i(22),a=i(27),l=n(i(28)),c=n(i(25)),u=n(i(20)),d=o.default.create;function p(){var e=d();return e.compile=function(t,i){return a.compile(t,i,e)},e.precompile=function(t,i){return a.precompile(t,i,e)},e.AST=s.default,e.Compiler=a.Compiler,e.JavaScriptCompiler=l.default,e.Parser=r.parser,e.parse=r.parse,e}var h=p();h.create=p,u.default(h),h.Visitor=c.default,h.default=h,t.default=h,e.exports=t.default},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,i){"use strict";var n=i(3).default,o=i(1).default;t.__esModule=!0;var s=n(i(4)),r=o(i(18)),a=o(i(6)),l=n(i(5)),c=n(i(19)),u=o(i(20));function d(){var e=new s.HandlebarsEnvironment;return l.extend(e,s),e.SafeString=r.default,e.Exception=a.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var p=d();p.create=d,u.default(p),p.default=p,t.default=p,e.exports=t.default},function(e,t){"use strict";t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t},t.__esModule=!0},function(e,t,i){"use strict";var n=i(1).default;t.__esModule=!0,t.HandlebarsEnvironment=c;var o=i(5),s=n(i(6)),r=i(7),a=i(15),l=n(i(17));t.VERSION="4.0.5";t.COMPILER_REVISION=7;t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};function c(e,t,i){this.helpers=e||{},this.partials=t||{},this.decorators=i||{},r.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}c.prototype={constructor:c,logger:l.default,log:l.default.log,registerHelper:function(e,t){if("[object Object]"===o.toString.call(e)){if(t)throw new s.default("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===o.toString.call(e))o.extend(this.partials,e);else{if(void 0===t)throw new s.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===o.toString.call(e)){if(t)throw new s.default("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var u=l.default.log;t.log=u,t.createFrame=o.createFrame,t.logger=l.default},function(e,t){"use strict";t.__esModule=!0,t.extend=r,t.indexOf=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!o.test(e))return e;return e.replace(n,s)},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.createFrame=function(e){var t=r({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},n=/[&<>"'`=]/g,o=/[&<>"'`=]/;function s(e){return i[e]}function r(e){for(var t=1;t<arguments.length;t++)for(var i in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],i)&&(e[i]=arguments[t][i]);return e}var a=Object.prototype.toString;t.toString=a;var l=function(e){return"function"==typeof e};l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)}),t.isFunction=l;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===a.call(e)};t.isArray=c},function(e,t){"use strict";t.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];function n(e,t){var o=t&&t.loc,s=void 0,r=void 0;o&&(e+=" - "+(s=o.start.line)+":"+(r=o.start.column));for(var a=Error.prototype.constructor.call(this,e),l=0;l<i.length;l++)this[i[l]]=a[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),o&&(this.lineNumber=s,this.column=r)}n.prototype=new Error,t.default=n,e.exports=t.default},function(e,t,i){"use strict";var n=i(1).default;t.__esModule=!0,t.registerDefaultHelpers=function(e){o.default(e),s.default(e),r.default(e),a.default(e),l.default(e),c.default(e),u.default(e)};var o=n(i(8)),s=n(i(9)),r=n(i(10)),a=n(i(11)),l=n(i(12)),c=n(i(13)),u=n(i(14))},function(e,t,i){"use strict";t.__esModule=!0;var n=i(5);t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,i){var o=i.inverse,s=i.fn;if(!0===t)return s(this);if(!1===t||null==t)return o(this);if(n.isArray(t))return t.length>0?(i.ids&&(i.ids=[i.name]),e.helpers.each(t,i)):o(this);if(i.data&&i.ids){var r=n.createFrame(i.data);r.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:r}}return s(t,i)}))},e.exports=t.default},function(e,t,i){"use strict";var n=i(1).default;t.__esModule=!0;var o=i(5),s=n(i(6));t.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new s.default("Must pass iterator to #each");var i=t.fn,n=t.inverse,r=0,a="",l=void 0,c=void 0;function u(t,n,s){l&&(l.key=t,l.index=n,l.first=0===n,l.last=!!s,c&&(l.contextPath=c+t)),a+=i(e[t],{data:l,blockParams:o.blockParams([e[t],t],[c+t,null])})}if(t.data&&t.ids&&(c=o.appendContextPath(t.data.contextPath,t.ids[0])+"."),o.isFunction(e)&&(e=e.call(this)),t.data&&(l=o.createFrame(t.data)),e&&"object"==typeof e)if(o.isArray(e))for(var d=e.length;r<d;r++)r in e&&u(r,r,r===e.length-1);else{var p=void 0;for(var h in e)e.hasOwnProperty(h)&&(void 0!==p&&u(p,r-1),p=h,r++);void 0!==p&&u(p,r-1,!0)}return 0===r&&(a=n(this)),a}))},e.exports=t.default},function(e,t,i){"use strict";var n=i(1).default;t.__esModule=!0;var o=n(i(6));t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default},function(e,t,i){"use strict";t.__esModule=!0;var n=i(5);t.default=function(e){e.registerHelper("if",(function(e,t){return n.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||n.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,i){return e.helpers.if.call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})}))},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var o=1;null!=i.hash.level?o=i.hash.level:i.data&&null!=i.data.level&&(o=i.data.level),t[0]=o,e.log.apply(e,t)}))},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t){return e&&e[t]}))},e.exports=t.default},function(e,t,i){"use strict";t.__esModule=!0;var n=i(5);t.default=function(e){e.registerHelper("with",(function(e,t){n.isFunction(e)&&(e=e.call(this));var i=t.fn;if(n.isEmpty(e))return t.inverse(this);var o=t.data;return t.data&&t.ids&&((o=n.createFrame(t.data)).contextPath=n.appendContextPath(t.data.contextPath,t.ids[0])),i(e,{data:o,blockParams:n.blockParams([e],[o&&o.contextPath])})}))},e.exports=t.default},function(e,t,i){"use strict";var n=i(1).default;t.__esModule=!0,t.registerDefaultDecorators=function(e){o.default(e)};var o=n(i(16))},function(e,t,i){"use strict";t.__esModule=!0;var n=i(5);t.default=function(e){e.registerDecorator("inline",(function(e,t,i,o){var s=e;return t.partials||(t.partials={},s=function(o,s){var r=i.partials;i.partials=n.extend({},r,t.partials);var a=e(o,s);return i.partials=r,a}),t.partials[o.args[0]]=o.fn,s}))},e.exports=t.default},function(e,t,i){"use strict";t.__esModule=!0;var n=i(5),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=n.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];console[t].apply(console,n)}}};t.default=o,e.exports=t.default},function(e,t){"use strict";function i(e){this.string=e}t.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},t.default=i,e.exports=t.default},function(e,t,i){"use strict";var n=i(3).default,o=i(1).default;t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,i=a.COMPILER_REVISION;if(t!==i){if(t<i){var n=a.REVISION_CHANGES[i],o=a.REVISION_CHANGES[t];throw new r.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new r.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){if(!t)throw new r.default("No environment passed to template");if(!e||!e.main)throw new r.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var i={strict:function(e,t){if(!(t in e))throw new r.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var i=e.length,n=0;n<i;n++)if(e[n]&&null!=e[n][t])return e[n][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:s.escapeExpression,invokePartial:function(i,n,o){o.hash&&(n=s.extend({},n,o.hash),o.ids&&(o.ids[0]=!0)),i=t.VM.resolvePartial.call(this,i,n,o);var a=t.VM.invokePartial.call(this,i,n,o);if(null==a&&t.compile&&(o.partials[o.name]=t.compile(i,e.compilerOptions,t),a=o.partials[o.name](n,o)),null!=a){if(o.indent){for(var l=a.split("\n"),c=0,u=l.length;c<u&&(l[c]||c+1!==u);c++)l[c]=o.indent+l[c];a=l.join("\n")}return a}throw new r.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var i=e[t];return i.decorator=e[t+"_d"],i},programs:[],program:function(e,t,i,n,o){var s=this.programs[e],r=this.fn(e);return t||o||n||i?s=l(this,e,r,t,i,n,o):s||(s=this.programs[e]=l(this,e,r)),s},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var i=e||t;return e&&t&&e!==t&&(i=s.extend({},t,e)),i},noop:t.VM.noop,compilerInfo:e.compiler};function n(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=o.data;n._setup(o),!o.partial&&e.useData&&(s=u(t,s));var r=void 0,a=e.useBlockParams?[]:void 0;function l(t){return""+e.main(i,t,i.helpers,i.partials,s,a,r)}return e.useDepths&&(r=o.depths?t!==o.depths[0]?[t].concat(o.depths):o.depths:[t]),(l=d(e.main,l,i,o.depths||[],s,a))(t,o)}return n.isTop=!0,n._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials,i.decorators=n.decorators):(i.helpers=i.merge(n.helpers,t.helpers),e.usePartial&&(i.partials=i.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(i.decorators=i.merge(n.decorators,t.decorators)))},n._child=function(t,n,o,s){if(e.useBlockParams&&!o)throw new r.default("must pass block params");if(e.useDepths&&!s)throw new r.default("must pass parent depths");return l(i,t,e[t],n,0,o,s)},n},t.wrapProgram=l,t.resolvePartial=function(e,t,i){e?e.call||i.name||(i.name=e,e=i.partials[e]):e="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name];return e},t.invokePartial=function(e,t,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=void 0;i.fn&&i.fn!==c&&(i.data=a.createFrame(i.data),(n=i.data["partial-block"]=i.fn).partials&&(i.partials=s.extend({},i.partials,n.partials)));void 0===e&&n&&(e=n);if(void 0===e)throw new r.default("The partial "+i.name+" could not be found");if(e instanceof Function)return e(t,i)},t.noop=c;var s=n(i(5)),r=o(i(6)),a=i(4);function l(e,t,i,n,o,s,r){function a(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=r;return r&&t!==r[0]&&(a=[t].concat(r)),i(e,t,e.helpers,e.partials,o.data||n,s&&[o.blockParams].concat(s),a)}return(a=d(i,a,e,r,n,s)).program=t,a.depth=r?r.length:0,a.blockParams=o||0,a}function c(){return""}function u(e,t){return t&&"root"in t||((t=t?a.createFrame(t):{}).root=e),t}function d(e,t,i,n,o,r){if(e.decorator){var a={};t=e.decorator(t,a,i,n&&n[0],o,r,n),s.extend(t,a)}return t}},function(e,t){(function(i){"use strict";t.__esModule=!0,t.default=function(e){var t=void 0!==i?i:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}},e.exports=t.default}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var i={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!i.helpers.scopedId(e)&&!e.depth}}};t.default=i,e.exports=t.default},function(e,t,i){"use strict";var n=i(1).default,o=i(3).default;t.__esModule=!0,t.parse=function(e,t){if("Program"===e.type)return e;return s.default.yy=c,c.locInfo=function(e){return new c.SourceLocation(t&&t.srcName,e)},new r.default(t).accept(s.default.parse(e))};var s=n(i(23)),r=n(i(24)),a=o(i(26)),l=i(5);t.parser=s.default;var c={};l.extend(c,a)},function(e,t){"use strict";var i=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,i,n,o,s,r){var a=s.length-1;switch(o){case 1:return s[a-1];case 2:this.$=n.prepareProgram(s[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=s[a];break;case 9:this.$={type:"CommentStatement",value:n.stripComment(s[a]),strip:n.stripFlags(s[a],s[a]),loc:n.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:s[a],value:s[a],loc:n.locInfo(this._$)};break;case 11:this.$=n.prepareRawBlock(s[a-2],s[a-1],s[a],this._$);break;case 12:this.$={path:s[a-3],params:s[a-2],hash:s[a-1]};break;case 13:this.$=n.prepareBlock(s[a-3],s[a-2],s[a-1],s[a],!1,this._$);break;case 14:this.$=n.prepareBlock(s[a-3],s[a-2],s[a-1],s[a],!0,this._$);break;case 15:this.$={open:s[a-5],path:s[a-4],params:s[a-3],hash:s[a-2],blockParams:s[a-1],strip:n.stripFlags(s[a-5],s[a])};break;case 16:case 17:this.$={path:s[a-4],params:s[a-3],hash:s[a-2],blockParams:s[a-1],strip:n.stripFlags(s[a-5],s[a])};break;case 18:this.$={strip:n.stripFlags(s[a-1],s[a-1]),program:s[a]};break;case 19:var l=n.prepareBlock(s[a-2],s[a-1],s[a],s[a],!1,this._$),c=n.prepareProgram([l],s[a-1].loc);c.chained=!0,this.$={strip:s[a-2].strip,program:c,chain:!0};break;case 20:this.$=s[a];break;case 21:this.$={path:s[a-1],strip:n.stripFlags(s[a-2],s[a])};break;case 22:case 23:this.$=n.prepareMustache(s[a-3],s[a-2],s[a-1],s[a-4],n.stripFlags(s[a-4],s[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:s[a-3],params:s[a-2],hash:s[a-1],indent:"",strip:n.stripFlags(s[a-4],s[a]),loc:n.locInfo(this._$)};break;case 25:this.$=n.preparePartialBlock(s[a-2],s[a-1],s[a],this._$);break;case 26:this.$={path:s[a-3],params:s[a-2],hash:s[a-1],strip:n.stripFlags(s[a-4],s[a])};break;case 27:case 28:this.$=s[a];break;case 29:this.$={type:"SubExpression",path:s[a-3],params:s[a-2],hash:s[a-1],loc:n.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:s[a],loc:n.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:n.id(s[a-2]),value:s[a],loc:n.locInfo(this._$)};break;case 32:this.$=n.id(s[a-1]);break;case 33:case 34:this.$=s[a];break;case 35:this.$={type:"StringLiteral",value:s[a],original:s[a],loc:n.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(s[a]),original:Number(s[a]),loc:n.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===s[a],original:"true"===s[a],loc:n.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:n.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:n.locInfo(this._$)};break;case 40:case 41:this.$=s[a];break;case 42:this.$=n.preparePath(!0,s[a],this._$);break;case 43:this.$=n.preparePath(!1,s[a],this._$);break;case 44:s[a-2].push({part:n.id(s[a]),original:s[a],separator:s[a-1]}),this.$=s[a-2];break;case 45:this.$=[{part:n.id(s[a]),original:s[a]}];break;case 46:this.$=[];break;case 47:s[a-1].push(s[a]);break;case 48:this.$=[s[a]];break;case 49:s[a-1].push(s[a]);break;case 50:this.$=[];break;case 51:s[a-1].push(s[a]);break;case 58:this.$=[];break;case 59:s[a-1].push(s[a]);break;case 64:this.$=[];break;case 65:s[a-1].push(s[a]);break;case 70:this.$=[];break;case 71:s[a-1].push(s[a]);break;case 78:this.$=[];break;case 79:s[a-1].push(s[a]);break;case 82:this.$=[];break;case 83:s[a-1].push(s[a]);break;case 86:this.$=[];break;case 87:s[a-1].push(s[a]);break;case 90:this.$=[];break;case 91:s[a-1].push(s[a]);break;case 94:this.$=[];break;case 95:s[a-1].push(s[a]);break;case 98:this.$=[s[a]];break;case 99:s[a-1].push(s[a]);break;case 100:this.$=[s[a]];break;case 101:s[a-1].push(s[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,i=[0],n=[null],o=[],s=this.table,r="",a=0,l=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;o.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,h,m,f,g,v,y,b,w,_,C={};;){if(m=i[i.length-1],this.defaultActions[m]?f=this.defaultActions[m]:(null==p&&(_=void 0,"number"!=typeof(_=t.lexer.lex()||1)&&(_=t.symbols_[_]||_),p=_),f=s[m]&&s[m][p]),void 0===f||!f.length||!f[0]){var x="";if(!c){for(v in w=[],s[m])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");x=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:w})}}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(f[0]){case 1:i.push(p),n.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(f[1]),p=null,h?(p=h,h=null):(l=this.lexer.yyleng,r=this.lexer.yytext,a=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[f[1]][1],C.$=n[n.length-y],C._$={first_line:o[o.length-(y||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(y||1)].first_column,last_column:o[o.length-1].last_column},d&&(C._$.range=[o[o.length-(y||1)].range[0],o[o.length-1].range[1]]),void 0!==(g=this.performAction.call(C,r,l,a,this.yy,f[1],n,o)))return g;y&&(i=i.slice(0,-1*y*2),n=n.slice(0,-1*y),o=o.slice(0,-1*y)),i.push(this.productions_[f[1]][0]),n.push(C.$),o.push(C._$),b=s[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,i,n,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),r=0;r<s.length&&(!(i=this._input.match(this.rules[s[r]]))||t&&!(i[0].length>t[0].length)||(t=i,n=r,this.options.flex));r++);return t?((o=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,i,n){function o(e,i){return t.yytext=t.yytext.substr(e,t.yyleng-i)}switch(i){case 0:if("\\\\"===t.yytext.slice(-2)?(o(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(o(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(t.yytext=t.yytext.substr(5,t.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=o(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=o(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return e}();function i(){this.yy={}}return e.lexer=t,i.prototype=e,e.Parser=i,new i}();t.__esModule=!0,t.default=i},function(e,t,i){"use strict";var n=i(1).default;t.__esModule=!0;var o=n(i(25));function s(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function r(e,t,i){void 0===t&&(t=e.length);var n=e[t-1],o=e[t-2];return n?"ContentStatement"===n.type?(o||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original):void 0:i}function a(e,t,i){void 0===t&&(t=-1);var n=e[t+1],o=e[t+2];return n?"ContentStatement"===n.type?(o||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original):void 0:i}function l(e,t,i){var n=e[null==t?0:t+1];if(n&&"ContentStatement"===n.type&&(i||!n.rightStripped)){var o=n.value;n.value=n.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),n.rightStripped=n.value!==o}}function c(e,t,i){var n=e[null==t?e.length-1:t-1];if(n&&"ContentStatement"===n.type&&(i||!n.leftStripped)){var o=n.value;return n.value=n.value.replace(i?/\s+$/:/[ \t]+$/,""),n.leftStripped=n.value!==o,n.leftStripped}}s.prototype=new o.default,s.prototype.Program=function(e){var t=!this.options.ignoreStandalone,i=!this.isRootSeen;this.isRootSeen=!0;for(var n=e.body,o=0,s=n.length;o<s;o++){var u=n[o],d=this.accept(u);if(d){var p=r(n,o,i),h=a(n,o,i),m=d.openStandalone&&p,f=d.closeStandalone&&h,g=d.inlineStandalone&&p&&h;d.close&&l(n,o,!0),d.open&&c(n,o,!0),t&&g&&(l(n,o),c(n,o)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(n[o-1].original)[1])),t&&m&&(l((u.program||u.inverse).body),c(n,o)),t&&f&&(l(n,o),c((u.inverse||u.program).body))}}return e},s.prototype.BlockStatement=s.prototype.DecoratorBlock=s.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,i=e.program&&e.inverse,n=i,o=i;if(i&&i.chained)for(n=i.body[0].program;o.chained;)o=o.body[o.body.length-1].program;var s={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:a(t.body),closeStandalone:r((n||t).body)};if(e.openStrip.close&&l(t.body,null,!0),i){var u=e.inverseStrip;u.open&&c(t.body,null,!0),u.close&&l(n.body,null,!0),e.closeStrip.open&&c(o.body,null,!0),!this.options.ignoreStandalone&&r(t.body)&&a(n.body)&&(c(t.body),l(n.body))}else e.closeStrip.open&&c(t.body,null,!0);return s},s.prototype.Decorator=s.prototype.MustacheStatement=function(e){return e.strip},s.prototype.PartialStatement=s.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=s,e.exports=t.default},function(e,t,i){"use strict";var n=i(1).default;t.__esModule=!0;var o=n(i(6));function s(){this.parents=[]}function r(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function a(e){r.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function l(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}s.prototype={constructor:s,mutating:!1,acceptKey:function(e,t){var i=this.accept(e[t]);if(this.mutating){if(i&&!s.prototype[i.type])throw new o.default('Unexpected node type "'+i.type+'" found when accepting '+t+" on "+e.type);e[t]=i}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new o.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,i=e.length;t<i;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,i--)},accept:function(e){if(e){if(!this[e.type])throw new o.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:r,Decorator:r,BlockStatement:a,DecoratorBlock:a,PartialStatement:l,PartialBlockStatement:function(e){l.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:r,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=s,e.exports=t.default},function(e,t,i){"use strict";var n=i(1).default;t.__esModule=!0,t.SourceLocation=function(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}},t.id=function(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e},t.stripFlags=function(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}},t.stripComment=function(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")},t.preparePath=function(e,t,i){i=this.locInfo(i);for(var n=e?"@":"",s=[],r=0,a=0,l=t.length;a<l;a++){var c=t[a].part,u=t[a].original!==c;if(n+=(t[a].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)s.push(c);else{if(s.length>0)throw new o.default("Invalid path: "+n,{loc:i});".."===c&&(r++,"../")}}return{type:"PathExpression",data:e,depth:r,parts:s,original:n,loc:i}},t.prepareMustache=function(e,t,i,n,o,s){var r=n.charAt(3)||n.charAt(2),a="{"!==r&&"&"!==r;return{type:/\*/.test(n)?"Decorator":"MustacheStatement",path:e,params:t,hash:i,escaped:a,strip:o,loc:this.locInfo(s)}},t.prepareRawBlock=function(e,t,i,n){s(e,i),n=this.locInfo(n);var o={type:"Program",body:t,strip:{},loc:n};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:n}},t.prepareBlock=function(e,t,i,n,r,a){n&&n.path&&s(e,n);var l=/\*/.test(e.open);t.blockParams=e.blockParams;var c=void 0,u=void 0;if(i){if(l)throw new o.default("Unexpected inverse block on decorator",i);i.chain&&(i.program.body[0].closeStrip=n.strip),u=i.strip,c=i.program}r&&(r=c,c=t,t=r);return{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:c,openStrip:e.strip,inverseStrip:u,closeStrip:n&&n.strip,loc:this.locInfo(a)}},t.prepareProgram=function(e,t){if(!t&&e.length){var i=e[0].loc,n=e[e.length-1].loc;i&&n&&(t={source:i.source,start:{line:i.start.line,column:i.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},t.preparePartialBlock=function(e,t,i,n){return s(e,i),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:i&&i.strip,loc:this.locInfo(n)}};var o=n(i(6));function s(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var i={loc:e.path.loc};throw new o.default(e.path.original+" doesn't match "+t,i)}}},function(e,t,i){"use strict";var n=i(1).default;t.__esModule=!0,t.Compiler=l,t.precompile=function(e,t,i){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0);t.compat&&(t.useDepths=!0);var n=i.parse(e,t),s=(new i.Compiler).compile(n,t);return(new i.JavaScriptCompiler).compile(s,t)},t.compile=function(e,t,i){void 0===t&&(t={});if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in t||(t.data=!0);t.compat&&(t.useDepths=!0);var n=void 0;function s(){var n=i.parse(e,t),o=(new i.Compiler).compile(n,t),s=(new i.JavaScriptCompiler).compile(o,t,void 0,!0);return i.template(s)}function r(e,t){return n||(n=s()),n.call(this,e,t)}return r._setup=function(e){return n||(n=s()),n._setup(e)},r._child=function(e,t,i,o){return n||(n=s()),n._child(e,t,i,o)},r};var o=n(i(6)),s=i(5),r=n(i(21)),a=[].slice;function l(){}function c(e,t){if(e===t)return!0;if(s.isArray(e)&&s.isArray(t)&&e.length===t.length){for(var i=0;i<e.length;i++)if(!c(e[i],t[i]))return!1;return!0}}function u(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}l.prototype={compiler:l,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var i=0;i<t;i++){var n=this.opcodes[i],o=e.opcodes[i];if(n.opcode!==o.opcode||!c(n.args,o.args))return!1}t=this.children.length;for(i=0;i<t;i++)if(!this.children[i].equals(e.children[i]))return!1;return!0},guid:0,compile:function(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var i=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},i)for(var n in i)n in i&&(t.knownHelpers[n]=i[n]);return this.accept(e)},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),i=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[i]=t,this.useDepths=this.useDepths||t.useDepths,i},accept:function(e){if(!this[e.type])throw new o.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,i=t.length,n=0;n<i;n++)this.accept(t[n]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){u(e);var t=e.program,i=e.inverse;t=t&&this.compileProgram(t),i=i&&this.compileProgram(i);var n=this.classifySexpr(e);"helper"===n?this.helperSexpr(e,t,i):"simple"===n?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,i),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),i=this.setupFullMustacheParams(e,t,void 0),n=e.path;this.useDecorators=!0,this.opcode("registerDecorator",i.length,n.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var i=e.params;if(i.length>1)throw new o.default("Unsupported number of partial arguments: "+i.length,e);i.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):i.push({type:"PathExpression",parts:[],depth:0}));var n=e.name.original,s="SubExpression"===e.name.type;s&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var r=e.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",s,n,r),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){u(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,i){var n=e.path,o=n.parts[0],s=null!=t||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",i),n.strict=!0,this.accept(n),this.opcode("invokeAmbiguous",o,s)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,i){var n=this.setupFullMustacheParams(e,t,i),s=e.path,a=s.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",n.length,a);else{if(this.options.knownHelpersOnly)throw new o.default("You specified knownHelpersOnly, but used the unknown helper "+a,e);s.strict=!0,s.falsy=!0,this.accept(s),this.opcode("invokeHelper",n.length,s.original,r.default.helpers.simpleId(s))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],i=r.default.helpers.scopedId(e),n=!e.depth&&!i&&this.blockParamIndex(t);n?this.opcode("lookupBlockParam",n,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,i):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,i=0,n=t.length;for(this.opcode("pushHash");i<n;i++)this.pushParam(t[i].value);for(;i--;)this.opcode("assignToHash",t[i].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:a.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=r.default.helpers.simpleId(e.path),i=t&&!!this.blockParamIndex(e.path.parts[0]),n=!i&&r.default.helpers.helperExpression(e),o=!i&&(n||t);if(o&&!n){var s=e.path.parts[0],a=this.options;a.knownHelpers[s]?n=!0:a.knownHelpersOnly&&(o=!1)}return n?"helper":o?"ambiguous":"simple"},pushParams:function(e){for(var t=0,i=e.length;t<i;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var i=void 0;if(!e.parts||r.default.helpers.scopedId(e)||e.depth||(i=this.blockParamIndex(e.parts[0])),i){var n=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,n)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,i,n){var o=e.params;return this.pushParams(o),this.opcode("pushProgram",t),this.opcode("pushProgram",i),e.hash?this.accept(e.hash):this.opcode("emptyHash",n),o},blockParamIndex:function(e){for(var t=0,i=this.options.blockParams.length;t<i;t++){var n=this.options.blockParams[t],o=n&&s.indexOf(n,e);if(n&&o>=0)return[t,o]}}}},function(e,t,i){"use strict";var n=i(1).default;t.__esModule=!0;var o=i(4),s=n(i(6)),r=i(5),a=n(i(29));function l(e){this.value=e}function c(){}c.prototype={nameLookup:function(e,t){return c.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function(){var e=o.COMPILER_REVISION;return[e,o.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,i){return r.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:i?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},compile:function(e,t,i,n){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!n,this.name=this.environment.name,this.isChild=!!i,this.context=i||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var o=e.opcodes,r=void 0,a=void 0,l=void 0,c=void 0;for(l=0,c=o.length;l<c;l++)r=o[l],this.source.currentLocation=r.loc,a=a||r.loc,this[r.opcode].apply(this,r.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new s.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),n?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(n);if(this.isChild)return u;var d={compiler:this.compilerInfo(),main:u};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var p=this.context,h=p.programs,m=p.decorators;for(l=0,c=h.length;l<c;l++)h[l]&&(d[l]=h[l],m[l]&&(d[l+"_d"]=m[l],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),n?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),t.srcName?(d=d.toStringWithSourceMap({file:t.destName})).map=d.map&&d.map.toString():d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new a.default(this.options.srcName),this.decorators=new a.default(this.options.srcName)},createFunctionContext:function(e){var t="",i=this.stackVars.concat(this.registers.list);i.length>0&&(t+=", "+i.join(", "));var n=0;for(var o in this.aliases){var s=this.aliases[o];this.aliases.hasOwnProperty(o)&&s.children&&s.referenceCount>1&&(t+=", alias"+ ++n+"="+o,s.children[0]="alias"+n)}var r=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&r.push("blockParams"),this.useDepths&&r.push("depths");var a=this.mergeSource(t);return e?(r.push(a),Function.apply(this,r)):this.source.wrap(["function(",r.join(","),") {\n  ",a,"}"])},mergeSource:function(e){var t=this.environment.isSimple,i=!this.forceBuffer,n=void 0,o=void 0,s=void 0,r=void 0;return this.source.each((function(e){e.appendToBuffer?(s?e.prepend("  + "):s=e,r=e):(s&&(o?s.prepend("buffer += "):n=!0,r.add(";"),s=r=void 0),o=!0,t||(i=!1))})),i?s?(s.prepend("return "),r.add(";")):o||this.source.push('return "";'):(e+=", buffer = "+(n?"":this.initializeBuffer()),s?(s.prepend("return buffer + "),r.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(n?"":";\n")),this.source.merge()},blockValue:function(e){var t=this.aliasable("helpers.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(e,0,i);var n=this.popStack();i.splice(1,0,n),this.push(this.source.functionCall(t,"call",i))},ambiguousBlockValue:function(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var i=this.topStack();t.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack((function(e){return[" != null ? ",e,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,i,n){var o=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[o++])),this.resolvePath("context",e,o,t,i)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,i){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,i)},resolvePath:function(e,t,i,n,o){var s=this;if(this.options.strict||this.options.assumeObjects)this.push(function(e,t,i,n){var o=t.popStack(),s=0,r=i.length;e&&r--;for(;s<r;s++)o=t.nameLookup(o,i[s],n);return e?[t.aliasable("container.strict"),"(",o,", ",t.quotedString(i[s]),")"]:o}(this.options.strict&&o,this,t,e));else for(var r=t.length;i<r;i++)this.replaceStack((function(o){var r=s.nameLookup(o,t[i],e);return n?[" && ",r]:[" != null ? ",r," : ",o]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var i=this.nameLookup("decorators",t,"decorator"),n=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",n])," || fn;"])},invokeHelper:function(e,t,i){var n=this.popStack(),o=this.setupHelper(e,t),s=i?[o.name," || "]:"",r=["("].concat(s,n);this.options.strict||r.push(" || ",this.aliasable("helpers.helperMissing")),r.push(")"),this.push(this.source.functionCall(r,"call",o.callParams))},invokeKnownHelper:function(e,t){var i=this.setupHelper(e,t);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var i=this.popStack();this.emptyHash();var n=this.setupHelper(0,e,t),o=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",i,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",o,n.paramsInit?["),(",n.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",n.callParams)," : helper))"])},invokePartial:function(e,t,i){var n=[],o=this.setupParams(t,1,n);e&&(t=this.popStack(),delete o.name),i&&(o.indent=JSON.stringify(i)),o.helpers="helpers",o.partials="partials",o.decorators="container.decorators",e?n.unshift(t):n.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(o.depths="depths"),o=this.objectLiteral(o),n.push(o),this.push(this.source.functionCall("container.invokePartial","",n))},assignToHash:function(e){var t=this.popStack(),i=void 0,n=void 0,o=void 0;this.trackIds&&(o=this.popStack()),this.stringParams&&(n=this.popStack(),i=this.popStack());var s=this.hash;i&&(s.contexts[e]=i),n&&(s.types[e]=n),o&&(s.ids[e]=o),s.values[e]=t},pushId:function(e,t,i){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:c,compileChildren:function(e,t){for(var i=e.children,n=void 0,o=void 0,s=0,r=i.length;s<r;s++){n=i[s],o=new this.compiler;var a=this.matchExistingProgram(n);null==a?(this.context.programs.push(""),a=this.context.programs.length,n.index=a,n.name="program"+a,this.context.programs[a]=o.compile(n,t,this.context,!this.precompile),this.context.decorators[a]=o.decorators,this.context.environments[a]=n,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams):(n.index=a,n.name="program"+a,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams)}},matchExistingProgram:function(e){for(var t=0,i=this.context.environments.length;t<i;t++){var n=this.context.environments[t];if(n&&n.equals(e))return t}},programExpression:function(e){var t=this.environment.children[e],i=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths"),"container.program("+i.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof l||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new l(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],i=void 0,n=void 0,o=void 0;if(!this.isInline())throw new s.default("replaceStack on non-inline");var r=this.popStack(!0);if(r instanceof l)t=["(",i=[r.value]],o=!0;else{n=!0;var a=this.incrStack();t=["((",this.push(a)," = ",r,")"],i=this.topStack()}var c=e.call(this,i);o||this.popStack(),n&&this.stackSlot--,this.push(t.concat(c,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,i=e.length;t<i;t++){var n=e[t];if(n instanceof l)this.compileStack.push(n);else{var o=this.incrStack();this.pushSource([o," = ",n,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),i=(t?this.inlineStack:this.compileStack).pop();if(!e&&i instanceof l)return i.value;if(!t){if(!this.stackSlot)throw new s.default("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof l?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,i){var n=[];return{params:n,paramsInit:this.setupHelperArgs(t,e,n,i),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}")].concat(n)}},setupParams:function(e,t,i){var n={},o=[],s=[],r=[],a=!i,l=void 0;a&&(i=[]),n.name=this.quotedString(e),n.hash=this.popStack(),this.trackIds&&(n.hashIds=this.popStack()),this.stringParams&&(n.hashTypes=this.popStack(),n.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(n.fn=u||"container.noop",n.inverse=c||"container.noop");for(var d=t;d--;)l=this.popStack(),i[d]=l,this.trackIds&&(r[d]=this.popStack()),this.stringParams&&(s[d]=this.popStack(),o[d]=this.popStack());return a&&(n.args=this.source.generateArray(i)),this.trackIds&&(n.ids=this.source.generateArray(r)),this.stringParams&&(n.types=this.source.generateArray(s),n.contexts=this.source.generateArray(o)),this.options.data&&(n.data="data"),this.useBlockParams&&(n.blockParams="blockParams"),n},setupHelperArgs:function(e,t,i,n){var o=this.setupParams(e,t,i);return o=this.objectLiteral(o),n?(this.useRegister("options"),i.push("options"),["options=",o]):i?(i.push(o),""):o}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=c.RESERVED_WORDS={},i=0,n=e.length;i<n;i++)t[e[i]]=!0}(),c.isValidJavaScriptVariableName=function(e){return!c.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=c,e.exports=t.default},function(e,t,i){"use strict";t.__esModule=!0;var n=i(5),o=void 0;try{}catch(e){}function s(e,t,i){if(n.isArray(e)){for(var o=[],s=0,r=e.length;s<r;s++)o.push(t.wrap(e[s],i));return o}return"boolean"==typeof e||"number"==typeof e?e+"":e}function r(e){this.srcFile=e,this.source=[]}o||((o=function(e,t,i,n){this.src="",n&&this.add(n)}).prototype={add:function(e){n.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){n.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),r.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each((function(t){e.add(["  ",t,"\n"])})),e},each:function(e){for(var t=0,i=this.source.length;t<i;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new o(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof o?e:(e=s(e,this,t),new o(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,i){return i=this.generateList(i),this.wrap([e,t?"."+t+"(":"(",i,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=[];for(var i in e)if(e.hasOwnProperty(i)){var n=s(e[i],this);"undefined"!==n&&t.push([this.quotedString(i),":",n])}var o=this.generateList(t);return o.prepend("{"),o.add("}"),o},generateList:function(e){for(var t=this.empty(),i=0,n=e.length;i<n;i++)i&&t.add(","),t.add(s(e[i],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=r,e.exports=t.default}])})),function(e,t,i,n){var o=e(t);e.fn.lazyload=function(s){function r(){var t=0;l.each((function(){var i=e(this);if(!c.skip_invisible||i.is(":visible"))if(e.abovethetop(this,c)||e.leftofbegin(this,c));else if(e.belowthefold(this,c)||e.rightoffold(this,c)){if(++t>c.failure_limit)return!1}else i.trigger("appear"),t=0}))}var a,l=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return s&&(n!==s.failurelimit&&(s.failure_limit=s.failurelimit,delete s.failurelimit),n!==s.effectspeed&&(s.effect_speed=s.effectspeed,delete s.effectspeed),e.extend(c,s)),a=c.container===n||c.container===t?o:e(c.container),0===c.event.indexOf("scroll")&&a.bind(c.event,(function(){return r()})),this.each((function(){var t=this,i=e(t);t.loaded=!1,(i.attr("src")===n||!1===i.attr("src"))&&i.is("img")&&i.attr("src",c.placeholder),i.one("appear",(function(){if(!this.loaded){if(c.appear){var n=l.length;c.appear.call(t,n,c)}e("<img />").bind("load",(function(){var n=i.attr("data-"+c.data_attribute);i.hide(),i.is("img")?i.attr("src",n):i.css("background-image","url('"+n+"')"),i[c.effect](c.effect_speed),t.loaded=!0;var o=e.grep(l,(function(e){return!e.loaded}));if(l=e(o),c.load){var s=l.length;c.load.call(t,s,c)}})).attr("src",i.attr("data-"+c.data_attribute))}})),0!==c.event.indexOf("scroll")&&i.bind(c.event,(function(){t.loaded||i.trigger("appear")}))})),o.bind("resize",(function(){r()})),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&o.bind("pageshow",(function(t){t.originalEvent&&t.originalEvent.persisted&&l.each((function(){e(this).trigger("appear")}))})),e(i).ready((function(){r()})),this},e.belowthefold=function(i,s){return(s.container===n||s.container===t?(t.innerHeight?t.innerHeight:o.height())+o.scrollTop():e(s.container).offset().top+e(s.container).height())<=e(i).offset().top-s.threshold},e.rightoffold=function(i,s){return(s.container===n||s.container===t?o.width()+o.scrollLeft():e(s.container).offset().left+e(s.container).width())<=e(i).offset().left-s.threshold},e.abovethetop=function(i,s){return(s.container===n||s.container===t?o.scrollTop():e(s.container).offset().top)>=e(i).offset().top+s.threshold+e(i).height()},e.leftofbegin=function(i,s){return(s.container===n||s.container===t?o.scrollLeft():e(s.container).offset().left)>=e(i).offset().left+s.threshold+e(i).width()},e.inviewport=function(t,i){return!(e.rightoffold(t,i)||e.leftofbegin(t,i)||e.belowthefold(t,i)||e.abovethetop(t,i))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document),function(e,t){function i(t,s,r,a,l){var c=!1;return t.contents().detach().each((function(){var u=this,d=e(u);if(void 0===u)return!0;if(d.is("script, .dotdotdot-keep"))t.append(d);else{if(c)return!0;t.append(d),!l||d.is(a.after)||d.find(a.after).length||t[t.is("a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style")?"after":"append"](l),o(r,a)&&(c=3==u.nodeType?n(d,s,r,a,l):i(d,s,r,a,l)),c||l&&l.detach()}})),s.addClass("is-truncated"),c}function n(t,i,n,r,c){var d=t[0];if(!d)return!1;var p=l(d),h=-1!==p.indexOf(" ")?" ":"　",m="letter"==r.wrap?"":h,f=p.split(m),g=-1,v=-1,y=0,b=f.length-1;for(r.fallbackToLetter&&0==y&&0==b&&(m="",b=(f=p.split(m)).length-1);b>=y&&(0!=y||0!=b);){var w=Math.floor((y+b)/2);if(w==v)break;v=w,a(d,f.slice(0,v+1).join(m)+r.ellipsis),n.children().each((function(){e(this).toggle().toggle()})),o(n,r)?(b=v,r.fallbackToLetter&&0==y&&0==b&&(m="",g=-1,v=-1,y=0,b=(f=f[0].split(m)).length-1)):(g=v,y=v)}if(-1==g||1==f.length&&0==f[0].length){var _=t.parent();t.detach();var C=c&&c.closest(_).length?c.length:0;if(_.contents().length>C?d=u(_.contents().eq(-1-C),i):(d=u(_,i,!0),C||_.detach()),d&&(a(d,p=s(l(d),r)),C&&c)){var x=c.parent();e(d).parent().append(c),e.trim(x.html())||x.remove()}}else a(d,p=s(f.slice(0,g+1).join(m),r));return!0}function o(e,t){return e.innerHeight()>t.maxHeight}function s(t,i){for(;e.inArray(t.slice(-1),i.lastCharacter.remove)>-1;)t=t.slice(0,-1);return e.inArray(t.slice(-1),i.lastCharacter.noEllipsis)<0&&(t+=i.ellipsis),t}function r(e){return{width:e.innerWidth(),height:e.innerHeight()}}function a(e,t){e.innerText?e.innerText=t:e.nodeValue?e.nodeValue=t:e.textContent&&(e.textContent=t)}function l(e){return e.innerText?e.innerText:e.nodeValue?e.nodeValue:e.textContent?e.textContent:""}function c(e){do{e=e.previousSibling}while(e&&1!==e.nodeType&&3!==e.nodeType);return e}function u(t,i,n){var o,s=t&&t[0];if(s){if(!n){if(3===s.nodeType)return s;if(e.trim(t.text()))return u(t.contents().last(),i)}for(o=c(s);!o;){if((t=t.parent()).is(i)||!t.length)return!1;o=c(t[0])}if(o)return u(e(o),i)}return!1}if(!e.fn.dotdotdot){e.fn.dotdotdot=function(t){if(0==this.length)return e.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each((function(){e(this).dotdotdot(t)}));var n=this,s=n.contents();n.data("dotdotdot")&&n.trigger("destroy.dot"),n.data("dotdotdot-style",n.attr("style")||""),n.css("word-wrap","break-word"),"nowrap"===n.css("white-space")&&n.css("white-space","normal"),n.bind_events=function(){return n.bind("update.dot",(function(t,r){switch(n.removeClass("is-truncated"),t.preventDefault(),t.stopPropagation(),typeof a.height){case"number":a.maxHeight=a.height;break;case"function":a.maxHeight=a.height.call(n[0]);break;default:a.maxHeight=function(e){for(var t=e.innerHeight(),i=["paddingTop","paddingBottom"],n=0,o=i.length;o>n;n++){var s=parseInt(e.css(i[n]),10);isNaN(s)&&(s=0),t-=s}return t}(n)}a.maxHeight+=a.tolerance,void 0!==r&&(("string"==typeof r||"nodeType"in r&&1===r.nodeType)&&(r=e("<div />").append(r).contents()),r instanceof e&&(s=r)),(p=n.wrapInner('<div class="dotdotdot" />').children()).contents().detach().end().append(s.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var c=!1,u=!1;return l.afterElement&&((c=l.afterElement.clone(!0)).show(),l.afterElement.detach()),o(p,a)&&(u="children"==a.wrap?function(e,t,i){var n=e.children(),s=!1;e.empty();for(var r=0,a=n.length;a>r;r++){var l=n.eq(r);if(e.append(l),i&&e.append(i),o(e,t)){l.remove(),s=!0;break}i&&i.detach()}return s}(p,a,c):i(p,n,p,a,c)),p.replaceWith(p.contents()),p=null,e.isFunction(a.callback)&&a.callback.call(n[0],u,s),l.isTruncated=u,u})).bind("isTruncated.dot",(function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(n[0],l.isTruncated),l.isTruncated})).bind("originalContent.dot",(function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(n[0],s),s})).bind("destroy.dot",(function(e){e.preventDefault(),e.stopPropagation(),n.unwatch().unbind_events().contents().detach().end().append(s).attr("style",n.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1)})),n},n.unbind_events=function(){return n.unbind(".dot"),n},n.watch=function(){if(n.unwatch(),"window"==a.watch){var t=e(window),i=t.width(),o=t.height();t.bind("resize.dot"+l.dotId,(function(){i==t.width()&&o==t.height()&&a.windowResizeFix||(i=t.width(),o=t.height(),u&&clearInterval(u),u=setTimeout((function(){n.trigger("update.dot")}),100))}))}else c=r(n),u=setInterval((function(){if(n.is(":visible")){var e=r(n);c.width==e.width&&c.height==e.height||(n.trigger("update.dot"),c=e)}}),500);return n},n.unwatch=function(){return e(window).unbind("resize.dot"+l.dotId),u&&clearInterval(u),n};var a=e.extend(!0,{},e.fn.dotdotdot.defaults,t),l={},c={},u=null,p=null;return a.lastCharacter.remove instanceof Array||(a.lastCharacter.remove=e.fn.dotdotdot.defaultArrays.lastCharacter.remove),a.lastCharacter.noEllipsis instanceof Array||(a.lastCharacter.noEllipsis=e.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),l.afterElement=function(t,i){return!!t&&("string"==typeof t?!!(t=e(t,i)).length&&t:!!t.jquery&&t)}(a.after,n),l.isTruncated=!1,l.dotId=d++,n.data("dotdotdot",!0).bind_events().trigger("update.dot"),a.watch&&n.watch(),n},e.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},e.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},e.fn.dotdotdot.debug=function(e){};var d=1,p=e.fn.html;e.fn.html=function(i){return i!=t&&!e.isFunction(i)&&this.data("dotdotdot")?this.trigger("update",[i]):p.apply(this,arguments)};var h=e.fn.text;e.fn.text=function(i){return i!=t&&!e.isFunction(i)&&this.data("dotdotdot")?(i=e("<div />").text(i).html(),this.trigger("update",[i])):h.apply(this,arguments)}}}(jQuery),jQuery(document).ready((function(e){e(".dot-ellipsis").each((function(){var t=e(this).hasClass("dot-resize-update"),i=e(this).hasClass("dot-timer-update"),n=0,o=e(this).attr("class").split(/\s+/);e.each(o,(function(e,t){var i=t.match(/^dot-height-(\d+)$/);null!==i&&(n=Number(i[1]))}));var s=new Object;i&&(s.watch=!0),t&&(s.watch="window"),n>0&&(s.height=n),e(this).dotdotdot(s)}))})),jQuery(window).on("load",(function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot")})),function(e,t,i,n){function o(t,i){this.settings=null,this.options=e.extend({},o.Defaults,i),this.$element=e(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy((function(t,i){this._handlers[i]=e.proxy(this[i],this)}),this)),e.each(o.Plugins,e.proxy((function(e,t){this._plugins[e.charAt(0).toLowerCase()+e.slice(1)]=new t(this)}),this)),e.each(o.Workers,e.proxy((function(t,i){this._pipe.push({filter:i.filter,run:e.proxy(i.run,this)})}),this)),this.setup(),this.initialize()}o.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},o.Width={Default:"default",Inner:"inner",Outer:"outer"},o.Type={Event:"event",State:"state"},o.Plugins={},o.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(e){var t=this.settings.margin||"",i=!this.settings.autoWidth,n=this.settings.rtl,o={width:"auto","margin-left":n?t:"","margin-right":n?"":t};!i&&this.$stage.children().css(o),e.css=o}},{filter:["width","items","settings"],run:function(e){var t=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,n=this._items.length,o=!this.settings.autoWidth,s=[];for(e.items={merge:!1,width:t};n--;)i=this._mergers[n],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,e.items.merge=i>1||e.items.merge,s[n]=o?t*i:this._items[n].width();this._widths=s}},{filter:["items","settings"],run:function(){var t=[],i=this._items,n=this.settings,o=Math.max(2*n.items,4),s=2*Math.ceil(i.length/2),r=n.loop&&i.length?n.rewind?o:Math.max(o,s):0,a="",l="";for(r/=2;r--;)t.push(this.normalize(t.length/2,!0)),a+=i[t[t.length-1]][0].outerHTML,t.push(this.normalize(i.length-1-(t.length-1)/2,!0)),l=i[t[t.length-1]][0].outerHTML+l;this._clones=t,e(a).addClass("cloned").appendTo(this.$stage),e(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var e=this.settings.rtl?1:-1,t=this._clones.length+this._items.length,i=-1,n=0,o=0,s=[];++i<t;)n=s[i-1]||0,o=this._widths[this.relative(i)]+this.settings.margin,s.push(n+o*e);this._coordinates=s}},{filter:["width","items","settings"],run:function(){var e=this.settings.stagePadding,t=this._coordinates,i={width:Math.ceil(Math.abs(t[t.length-1]))+2*e,"padding-left":e||"","padding-right":e||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(e){var t=this._coordinates.length,i=!this.settings.autoWidth,n=this.$stage.children();if(i&&e.items.merge)for(;t--;)e.css.width=this._widths[this.relative(t)],n.eq(t).css(e.css);else i&&(e.css.width=e.items.width,n.css(e.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(e){e.current=e.current?this.$stage.children().index(e.current):0,e.current=Math.max(this.minimum(),Math.min(this.maximum(),e.current)),this.reset(e.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var e,t,i,n,o=this.settings.rtl?1:-1,s=2*this.settings.stagePadding,r=this.coordinates(this.current())+s,a=r+this.width()*o,l=[];for(i=0,n=this._coordinates.length;i<n;i++)e=this._coordinates[i-1]||0,t=Math.abs(this._coordinates[i])+s*o,(this.op(e,"<=",r)&&this.op(e,">",a)||this.op(t,"<",r)&&this.op(t,">",a))&&l.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],o.prototype.initialize=function(){var t,i,o;(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading"))&&(t=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:n,o=this.$element.children(i).width(),t.length&&o<=0&&this.preloadAutoWidthImages(t));this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},o.prototype.setup=function(){var t=this.viewport(),i=this.options.responsive,n=-1,o=null;i?(e.each(i,(function(e){e<=t&&e>n&&(n=Number(e))})),"function"==typeof(o=e.extend({},this.options,i[n])).stagePadding&&(o.stagePadding=o.stagePadding()),delete o.responsive,o.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+n))):o=e.extend({},this.options),this.trigger("change",{property:{name:"settings",value:o}}),this._breakpoint=n,this.settings=o,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},o.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},o.prototype.prepare=function(t){var i=this.trigger("prepare",{content:t});return i.data||(i.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:i.data}),i.data},o.prototype.update=function(){for(var t=0,i=this._pipe.length,n=e.proxy((function(e){return this[e]}),this._invalidated),o={};t<i;)(this._invalidated.all||e.grep(this._pipe[t].filter,n).length>0)&&this._pipe[t].run(o),t++;this._invalidated={},!this.is("valid")&&this.enter("valid")},o.prototype.width=function(e){switch(e=e||o.Width.Default){case o.Width.Inner:case o.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},o.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},o.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},o.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},o.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",(function(){return!1}))),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},o.prototype.onDragStart=function(t){var n=null;3!==t.which&&(e.support.transform?n={x:(n=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===n.length?12:4],y:n[16===n.length?13:5]}:(n=this.$stage.position(),n={x:this.settings.rtl?n.left+this.$stage.width()-this.width()+this.settings.margin:n.left,y:n.top}),this.is("animating")&&(e.support.transform?this.animate(n.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=e(t.target),this._drag.stage.start=n,this._drag.stage.current=n,this._drag.pointer=this.pointer(t),e(i).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(i).one("mousemove.owl.core touchmove.owl.core",e.proxy((function(t){var n=this.difference(this._drag.pointer,this.pointer(t));e(i).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),Math.abs(n.x)<Math.abs(n.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))}),this)))},o.prototype.onDragMove=function(e){var t=null,i=null,n=null,o=this.difference(this._drag.pointer,this.pointer(e)),s=this.difference(this._drag.stage.start,o);this.is("dragging")&&(e.preventDefault(),this.settings.loop?(t=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-t,s.x=((s.x-t)%i+i)%i+t):(t=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),n=this.settings.pullDrag?-1*o.x/5:0,s.x=Math.max(Math.min(s.x,t+n),i+n)),this._drag.stage.current=s,this.animate(s.x))},o.prototype.onDragEnd=function(t){var n=this.difference(this._drag.pointer,this.pointer(t)),o=this._drag.stage.current,s=n.x>0^this.settings.rtl?"left":"right";e(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==n.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(o.x,0!==n.x?s:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=s,(Math.abs(n.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",(function(){return!1}))),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},o.prototype.closest=function(t,i){var n=-1,o=this.width(),s=this.coordinates();return this.settings.freeDrag||e.each(s,e.proxy((function(e,r){return"left"===i&&t>r-30&&t<r+30?n=e:"right"===i&&t>r-o-30&&t<r-o+30?n=e+1:this.op(t,"<",r)&&this.op(t,">",s[e+1]||r-o)&&(n="left"===i?e+1:e),-1===n}),this)),this.settings.loop||(this.op(t,">",s[this.minimum()])?n=t=this.minimum():this.op(t,"<",s[this.maximum()])&&(n=t=this.maximum())),n},o.prototype.animate=function(t){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"}):i?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},o.prototype.is=function(e){return this._states.current[e]&&this._states.current[e]>0},o.prototype.current=function(e){if(e===n)return this._current;if(0===this._items.length)return n;if(e=this.normalize(e),this._current!==e){var t=this.trigger("change",{property:{name:"position",value:e}});t.data!==n&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},o.prototype.invalidate=function(t){return"string"===e.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,(function(e,t){return t}))},o.prototype.reset=function(e){(e=this.normalize(e))!==n&&(this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"]))},o.prototype.normalize=function(e,t){var i=this._items.length,o=t?0:this._clones.length;return!this.isNumeric(e)||i<1?e=n:(e<0||e>=i+o)&&(e=((e-o/2)%i+i)%i+o/2),e},o.prototype.relative=function(e){return e-=this._clones.length/2,this.normalize(e,!0)},o.prototype.maximum=function(e){var t,i,n,o=this.settings,s=this._coordinates.length;if(o.loop)s=this._clones.length/2+this._items.length-1;else if(o.autoWidth||o.merge){for(t=this._items.length,i=this._items[--t].width(),n=this.$element.width();t--&&!((i+=this._items[t].width()+this.settings.margin)>n););s=t+1}else s=o.center?this._items.length-1:this._items.length-o.items;return e&&(s-=this._clones.length/2),Math.max(s,0)},o.prototype.minimum=function(e){return e?0:this._clones.length/2},o.prototype.items=function(e){return e===n?this._items.slice():(e=this.normalize(e,!0),this._items[e])},o.prototype.mergers=function(e){return e===n?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},o.prototype.clones=function(t){var i=this._clones.length/2,o=i+this._items.length,s=function(e){return e%2==0?o+e/2:i-(e+1)/2};return t===n?e.map(this._clones,(function(e,t){return s(t)})):e.map(this._clones,(function(e,i){return e===t?s(i):null}))},o.prototype.speed=function(e){return e!==n&&(this._speed=e),this._speed},o.prototype.coordinates=function(t){var i,o=1,s=t-1;return t===n?e.map(this._coordinates,e.proxy((function(e,t){return this.coordinates(t)}),this)):(this.settings.center?(this.settings.rtl&&(o=-1,s=t+1),i=this._coordinates[t],i+=(this.width()-i+(this._coordinates[s]||0))/2*o):i=this._coordinates[s]||0,i=Math.ceil(i))},o.prototype.duration=function(e,t,i){return 0===i?0:Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(i||this.settings.smartSpeed)},o.prototype.to=function(e,t){var i=this.current(),n=null,o=e-this.relative(i),s=(o>0)-(o<0),r=this._items.length,a=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(o)>r/2&&(o+=-1*s*r),(n=(((e=i+o)-a)%r+r)%r+a)!==e&&n-o<=l&&n-o>0&&(i=n-o,e=n,this.reset(i))):this.settings.rewind?e=(e%(l+=1)+l)%l:e=Math.max(a,Math.min(l,e)),this.speed(this.duration(i,e,t)),this.current(e),this.$element.is(":visible")&&this.update()},o.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},o.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},o.prototype.onTransitionEnd=function(e){if(e!==n&&(e.stopPropagation(),(e.target||e.srcElement||e.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},o.prototype.viewport=function(){var n;return this.options.responsiveBaseElement!==t?n=e(this.options.responsiveBaseElement).width():t.innerWidth?n=t.innerWidth:i.documentElement&&i.documentElement.clientWidth?n=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),n},o.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:e(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter((function(){return 1===this.nodeType})).each(e.proxy((function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)}),this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},o.prototype.add=function(t,i){var o=this.relative(this._current);i=i===n?this._items.length:this.normalize(i,!0),t=t instanceof jQuery?t:e(t),this.trigger("add",{content:t,position:i}),t=this.prepare(t),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[i-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(t),this._items.splice(i,0,t),this._mergers.splice(i,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[o]&&this.reset(this._items[o].index()),this.invalidate("items"),this.trigger("added",{content:t,position:i})},o.prototype.remove=function(e){(e=this.normalize(e,!0))!==n&&(this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e}))},o.prototype.preloadAutoWidthImages=function(t){t.each(e.proxy((function(t,i){this.enter("pre-loading"),i=e(i),e(new Image).one("load",e.proxy((function(e){i.attr("src",e.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()}),this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))}),this))},o.prototype.destroy=function(){for(var n in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(i).off(".owl.core"),!1!==this.settings.responsive&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[n].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},o.prototype.op=function(e,t,i){var n=this.settings.rtl;switch(t){case"<":return n?e>i:e<i;case">":return n?e<i:e>i;case">=":return n?e<=i:e>=i;case"<=":return n?e>=i:e<=i}},o.prototype.on=function(e,t,i,n){e.addEventListener?e.addEventListener(t,i,n):e.attachEvent&&e.attachEvent("on"+t,i)},o.prototype.off=function(e,t,i,n){e.removeEventListener?e.removeEventListener(t,i,n):e.detachEvent&&e.detachEvent("on"+t,i)},o.prototype.trigger=function(t,i,n,s,r){var a={item:{count:this._items.length,index:this.current()}},l=e.camelCase(e.grep(["on",t,n],(function(e){return e})).join("-").toLowerCase()),c=e.Event([t,"owl",n||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},a,i));return this._supress[t]||(e.each(this._plugins,(function(e,t){t.onTrigger&&t.onTrigger(c)})),this.register({type:o.Type.Event,name:t}),this.$element.trigger(c),this.settings&&"function"==typeof this.settings[l]&&this.settings[l].call(this,c)),c},o.prototype.enter=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy((function(e,t){this._states.current[t]===n&&(this._states.current[t]=0),this._states.current[t]++}),this))},o.prototype.leave=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy((function(e,t){this._states.current[t]--}),this))},o.prototype.register=function(t){if(t.type===o.Type.Event){if(e.event.special[t.name]||(e.event.special[t.name]={}),!e.event.special[t.name].owl){var i=e.event.special[t.name]._default;e.event.special[t.name]._default=function(e){return!i||!i.apply||e.namespace&&-1!==e.namespace.indexOf("owl")?e.namespace&&e.namespace.indexOf("owl")>-1:i.apply(this,arguments)},e.event.special[t.name].owl=!0}}else t.type===o.Type.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=e.grep(this._states.tags[t.name],e.proxy((function(i,n){return e.inArray(i,this._states.tags[t.name])===n}),this)))},o.prototype.suppress=function(t){e.each(t,e.proxy((function(e,t){this._supress[t]=!0}),this))},o.prototype.release=function(t){e.each(t,e.proxy((function(e,t){delete this._supress[t]}),this))},o.prototype.pointer=function(e){var i={x:null,y:null};return(e=(e=e.originalEvent||e||t.event).touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e).pageX?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i},o.prototype.isNumeric=function(e){return!isNaN(parseFloat(e))},o.prototype.difference=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.fn.owlCarousel=function(t){var i=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=e(this),s=n.data("owl.carousel");s||(s=new o(this,"object"==typeof t&&t),n.data("owl.carousel",s),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],(function(t,i){s.register({type:o.Type.Event,name:i}),s.$element.on(i+".owl.carousel.core",e.proxy((function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([i]),s[i].apply(this,[].slice.call(arguments,1)),this.release([i]))}),s))}))),"string"==typeof t&&"_"!==t.charAt(0)&&s[t].apply(s,i)}))},e.fn.owlCarousel.Constructor=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var o=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoRefresh&&this.watch()}),this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={autoRefresh:!0,autoRefreshInterval:500},o.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=t.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},o.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},o.prototype.destroy=function(){var e,i;for(e in t.clearInterval(this._interval),this._handlers)this._core.$element.off(e,this._handlers[e]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var o=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":e.proxy((function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type))for(var i=this._core.settings,n=i.center&&Math.ceil(i.items/2)||i.items,o=i.center&&-1*n||0,s=(t.property&&void 0!==t.property.value?t.property.value:this._core.current())+o,r=this._core.clones().length,a=e.proxy((function(e,t){this.load(t)}),this);o++<n;)this.load(r/2+this._core.relative(s)),r&&e.each(this._core.clones(this._core.relative(s)),a),s++}),this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={lazyLoad:!1},o.prototype.load=function(i){var n=this._core.$stage.children().eq(i),o=n&&n.find(".owl-lazy");!o||e.inArray(n.get(0),this._loaded)>-1||(o.each(e.proxy((function(i,n){var o,s=e(n),r=t.devicePixelRatio>1&&s.attr("data-src-retina")||s.attr("data-src");this._core.trigger("load",{element:s,url:r},"lazy"),s.is("img")?s.one("load.owl.lazy",e.proxy((function(){s.css("opacity",1),this._core.trigger("loaded",{element:s,url:r},"lazy")}),this)).attr("src",r):((o=new Image).onload=e.proxy((function(){s.css({"background-image":'url("'+r+'")',opacity:"1"}),this._core.trigger("loaded",{element:s,url:r},"lazy")}),this),o.src=r)}),this)),this._loaded.push(n.get(0)))},o.prototype.destroy=function(){var e,t;for(e in this.handlers)this._core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var o=function(t){this._core=t,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoHeight&&this.update()}),this),"changed.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoHeight&&"position"==e.property.name&&this.update()}),this),"loaded.owl.lazy":e.proxy((function(e){e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()}),this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},o.prototype.update=function(){var t,i=this._core._current,n=i+this._core.settings.items,o=this._core.$stage.children().toArray().slice(i,n),s=[];e.each(o,(function(t,i){s.push(e(i).height())})),t=Math.max.apply(null,s),this._core.$stage.parent().height(t).addClass(this._core.settings.autoHeightClass)},o.prototype.destroy=function(){var e,t;for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var o=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":e.proxy((function(e){e.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})}),this),"resize.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.video&&this.isInFullScreen()&&e.preventDefault()}),this),"refreshed.owl.carousel":e.proxy((function(e){e.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()}),this),"changed.owl.carousel":e.proxy((function(e){e.namespace&&"position"===e.property.name&&this._playing&&this.stop()}),this),"prepared.owl.carousel":e.proxy((function(t){if(t.namespace){var i=e(t.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,e(t.content)))}}),this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy((function(e){this.play(e)}),this))};o.Defaults={video:!1,videoHeight:!1,videoWidth:!1},o.prototype.fetch=function(e,t){var i=e.attr("data-vimeo-id")?"vimeo":e.attr("data-vzaar-id")?"vzaar":"youtube",n=e.attr("data-vimeo-id")||e.attr("data-youtube-id")||e.attr("data-vzaar-id"),o=e.attr("data-width")||this._core.settings.videoWidth,s=e.attr("data-height")||this._core.settings.videoHeight,r=e.attr("href");if(!r)throw new Error("Missing video URL.");if((n=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)i="youtube";else if(n[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(n[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}n=n[6],this._videos[r]={type:i,id:n,width:o,height:s},t.attr("data-video",r),this.thumbnail(e,this._videos[r])},o.prototype.thumbnail=function(t,i){var n,o,s=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",r=t.find("img"),a="src",l="",c=this._core.settings,u=function(e){'<div class="owl-video-play-icon"></div>',n=c.lazyLoad?'<div class="owl-video-tn '+l+'" '+a+'="'+e+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+e+')"></div>',t.after(n),t.after('<div class="owl-video-play-icon"></div>')};if(t.wrap('<div class="owl-video-wrapper"'+s+"></div>"),this._core.settings.lazyLoad&&(a="data-src",l="owl-lazy"),r.length)return u(r.attr(a)),r.remove(),!1;"youtube"===i.type?(o="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",u(o)):"vimeo"===i.type?e.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){o=e[0].thumbnail_large,u(o)}}):"vzaar"===i.type&&e.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){o=e.framegrab_url,u(o)}})},o.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},o.prototype.play=function(t){var i,n=e(t.target).closest("."+this._core.settings.itemClass),o=this._videos[n.attr("data-video")],s=o.width||"100%",r=o.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),n=this._core.items(this._core.relative(n.index())),this._core.reset(n.index()),"youtube"===o.type?i='<iframe width="'+s+'" height="'+r+'" src="//www.youtube.com/embed/'+o.id+"?autoplay=1&rel=0&v="+o.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===o.type?i='<iframe src="//player.vimeo.com/video/'+o.id+'?autoplay=1" width="'+s+'" height="'+r+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===o.type&&(i='<iframe frameborder="0"height="'+r+'"width="'+s+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+o.id+'/player?autoplay=true"></iframe>'),e('<div class="owl-video-frame">'+i+"</div>").insertAfter(n.find(".owl-video")),this._playing=n.addClass("owl-video-playing"))},o.prototype.isInFullScreen=function(){var t=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return t&&e(t).parent().hasClass("owl-video-frame")},o.prototype.destroy=function(){var e,t;for(e in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var o=function(t){this.core=t,this.core.options=e.extend({},o.Defaults,this.core.options),this.swapping=!0,this.previous=n,this.next=n,this.handlers={"change.owl.carousel":e.proxy((function(e){e.namespace&&"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)}),this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy((function(e){e.namespace&&(this.swapping="translated"==e.type)}),this),"translate.owl.carousel":e.proxy((function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()}),this)},this.core.$element.on(this.handlers)};o.Defaults={animateOut:!1,animateIn:!1},o.prototype.swap=function(){if(1===this.core.settings.items&&e.support.animation&&e.support.transition){this.core.speed(0);var t,i=e.proxy(this.clear,this),n=this.core.$stage.children().eq(this.previous),o=this.core.$stage.children().eq(this.next),s=this.core.settings.animateIn,r=this.core.settings.animateOut;this.core.current()!==this.previous&&(r&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),n.one(e.support.animation.end,i).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(r)),s&&o.one(e.support.animation.end,i).addClass("animated owl-animated-in").addClass(s))}},o.prototype.clear=function(t){e(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},o.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var o=function(t){this._core=t,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":e.proxy((function(e){e.namespace&&"settings"===e.property.name?this._core.settings.autoplay?this.play():this.stop():e.namespace&&"position"===e.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()}),this),"initialized.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoplay&&this.play()}),this),"play.owl.autoplay":e.proxy((function(e,t,i){e.namespace&&this.play(t,i)}),this),"stop.owl.autoplay":e.proxy((function(e){e.namespace&&this.stop()}),this),"mouseover.owl.autoplay":e.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()}),this),"mouseleave.owl.autoplay":e.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()}),this),"touchstart.owl.core":e.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()}),this),"touchend.owl.core":e.proxy((function(){this._core.settings.autoplayHoverPause&&this.play()}),this)},this._core.$element.on(this._handlers),this._core.options=e.extend({},o.Defaults,this._core.options)};o.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},o.prototype.play=function(e,t){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},o.prototype._getNextTimeout=function(n,o){return this._timeout&&t.clearTimeout(this._timeout),t.setTimeout(e.proxy((function(){this._paused||this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(o||this._core.settings.autoplaySpeed)}),this),n||this._core.settings.autoplayTimeout)},o.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},o.prototype.stop=function(){this._core.is("rotating")&&(t.clearTimeout(this._timeout),this._core.leave("rotating"))},o.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},o.prototype.destroy=function(){var e,t;for(e in this.stop(),this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){"use strict";var o=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy((function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")}),this),"added.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())}),this),"remove.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)}),this),"changed.owl.carousel":e.proxy((function(e){e.namespace&&"position"==e.property.name&&this.draw()}),this),"initialized.owl.carousel":e.proxy((function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))}),this),"refreshed.owl.carousel":e.proxy((function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))}),this)},this._core.options=e.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers)};o.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},o.prototype.initialize=function(){var t,i=this._core.settings;for(t in this._controls.$relative=(i.navContainer?e(i.navContainer):e("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy((function(e){this.prev(i.navSpeed)}),this)),this._controls.$next=e("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy((function(e){this.next(i.navSpeed)}),this)),i.dotsData||(this._templates=[e("<div>").addClass(i.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?e(i.dotsContainer):e("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",e.proxy((function(t){var n=e(t.target).parent().is(this._controls.$absolute)?e(t.target).index():e(t.target).parent().index();t.preventDefault(),this.to(n,i.dotsSpeed)}),this)),this._overrides)this._core[t]=e.proxy(this[t],this)},o.prototype.destroy=function(){var e,t,i,n;for(e in this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)this._controls[t].remove();for(n in this.overides)this._core[n]=this._overrides[n];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},o.prototype.update=function(){var e,t,i=this._core.clones().length/2,n=i+this._core.items().length,o=this._core.maximum(!0),s=this._core.settings,r=s.center||s.autoWidth||s.dotsData?1:s.dotsEach||s.items;if("page"!==s.slideBy&&(s.slideBy=Math.min(s.slideBy,s.items)),s.dots||"page"==s.slideBy)for(this._pages=[],e=i,t=0,0;e<n;e++){if(t>=r||0===t){if(this._pages.push({start:Math.min(o,e-i),end:e-i+r-1}),Math.min(o,e-i)===o)break;t=0}t+=this._core.mergers(this._core.relative(e))}},o.prototype.draw=function(){var t,i=this._core.settings,n=this._core.items().length<=i.items,o=this._core.relative(this._core.current()),s=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||n),i.nav&&(this._controls.$previous.toggleClass("disabled",!s&&o<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!s&&o>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||n),i.dots&&(t=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==t?this._controls.$absolute.html(this._templates.join("")):t>0?this._controls.$absolute.append(new Array(t+1).join(this._templates[0])):t<0&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},o.prototype.onTrigger=function(t){var i=this._core.settings;t.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},o.prototype.current=function(){var t=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy((function(e,i){return e.start<=t&&e.end>=t}),this)).pop()},o.prototype.getPosition=function(t){var i,n,o=this._core.settings;return"page"==o.slideBy?(i=e.inArray(this.current(),this._pages),n=this._pages.length,t?++i:--i,i=this._pages[(i%n+n)%n].start):(i=this._core.relative(this._core.current()),n=this._core.items().length,t?i+=o.slideBy:i-=o.slideBy),i},o.prototype.next=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},o.prototype.prev=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},o.prototype.to=function(t,i,n){var o;!n&&this._pages.length?(o=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(t%o+o)%o].start,i)):e.proxy(this._overrides.to,this._core)(t,i)},e.fn.owlCarousel.Constructor.Plugins.Navigation=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){"use strict";var o=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy((function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&e(t).trigger("hashchange.owl.navigation")}),this),"prepared.owl.carousel":e.proxy((function(t){if(t.namespace){var i=e(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=t.content}}),this),"changed.owl.carousel":e.proxy((function(i){if(i.namespace&&"position"===i.property.name){var n=this._core.items(this._core.relative(this._core.current())),o=e.map(this._hashes,(function(e,t){return e===n?t:null})).join();if(!o||t.location.hash.slice(1)===o)return;t.location.hash=o}}),this)},this._core.options=e.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy((function(e){var i=t.location.hash.substring(1),n=this._core.$stage.children(),o=this._hashes[i]&&n.index(this._hashes[i]);void 0!==o&&o!==this._core.current()&&this._core.to(this._core.relative(o),!1,!0)}),this))};o.Defaults={URLhashListener:!1},o.prototype.destroy=function(){var i,n;for(i in e(t).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(i,this._handlers[i]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){function o(t,i){var n=!1,o=t.charAt(0).toUpperCase()+t.slice(1);return e.each((t+" "+a.join(o+" ")+o).split(" "),(function(e,t){if(void 0!==r[t])return n=!i||t,!1})),n}function s(e){return o(e,!0)}var r=e("<support>").get(0).style,a="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},c=function(){return!!o("transform")},u=function(){return!!o("perspective")},d=function(){return!!o("animation")};(function(){return!!o("transition")})()&&(e.support.transition=new String(s("transition")),e.support.transition.end=l.transition.end[e.support.transition]),d()&&(e.support.animation=new String(s("animation")),e.support.animation.end=l.animation.end[e.support.animation]),c()&&(e.support.transform=new String(s("transform")),e.support.transform3d=u())}(window.Zepto||window.jQuery,window,document);var extend=function(e,t){for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;!function(e,t){var i,n,o,s;if("function"==typeof define&&define.amd)return define(["jquery"],t);if("object"==typeof exports)return module.exports=t(require("jquery"));for(i in e.cloudinary||(e.cloudinary={}),o=[],n=t(jQuery))s=n[i],o.push(e.cloudinary[i]=s)}(this,(function(e){var t,i,n,o,s,r,a,l,c,u,d,p,h,m,f,g,v,y,b,w,_,C,x,A,k,S,E,j,T,P,F,D,$,B,M,I,L,N,O,R,z,U,H,V,W,q,Q,J,Y,K;return D=function(t,i){return e(t).data(i)},H=function(t,i,n){return e(t).data(i,n)},F=function(t,i){return e(t).attr(i)},z=function(t,i,n){return e(t).attr(i,n)},R=function(t,i){return e(t).removeAttr(i)},U=function(t,i){return e(t).attr(i)},$=function(t,i){return e(t).hasClass(i)},w=function(t,i){return e(t).addClass(i)},Q=function(t){return e(t).width()},M=function(t){return null==t||(e.isArray(t)||y.isString(t))&&0===t.length||e.isPlainObject(t)&&e.isEmptyObject(t)},_=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)if(t=e[i],!y.isString(t))return!1;return!0},I=function(e){return"string"==typeof e||"[object String]"===(null!=e?e.toString():void 0)},L=function(){var t,i;return(t=function(){var e,t,n;for(n=[],e=0,t=arguments.length;e<t;e++)i=arguments[e],n.push(i);return n}.apply(this,arguments)).unshift(!0),e.extend.apply(this,t)},K="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Y="[a-z\\xdf-\\xf6\\xf8-\\xff]+",O=RegExp(K+"+(?="+K+Y+")|"+K+"?"+Y+"|"+K+"+|[0-9]+","g"),C=function(e){var t,i,n;return n=e.match(O),(n=function(){var e,o,s;for(s=[],t=e=0,o=n.length;e<o;t=++e)i=(i=n[t]).toLocaleLowerCase(),t?s.push(i.charAt(0).toLocaleUpperCase()+i.slice(1)):s.push(i);return s}()).join("")},V=function(e){var t,i,n;return n=e.match(O),(n=function(){var e,o,s;for(s=[],t=e=0,o=n.length;e<o;t=++e)i=n[t],s.push(i.toLocaleLowerCase());return s}()).join("_")},k=function(e){var t,i,n,o;for(o=[],i=0,n=e.length;i<n;i++)(t=e[i])&&o.push(t);return o},x=function(){var t;return(t=e.makeArray(arguments)).unshift({}),t.unshift(!0),e.extend.apply(this,t)},S=function(e,t){var i,n;for(i=0,n=e.length;i<n;i++)if(e[i]===t)return!0;return!1},j=function(){var t,i,n,o,s;if(i=[],1===arguments.length)return arguments[0];for(o=0,s=arguments.length;o<s;o++)t=arguments[o],i.unshift(t);return n=i.pop(),i.unshift(n),e.extend.apply(this,i)},T=function(e,t){var i,n,o,s;for(s=[],n=0,o=e.length;n<o;n++)i=e[n],S(t,i)||s.push(i);return s},P=function(t){var i,n;for(i in n=[],t)e.isFunction(t[i])&&n.push(i);return n},B=function(e){return e},J=function(e,t){var i,n,o;for(o=[],i=-1,n=e.length;++i<n;)e[i]!==t&&o.push(e[i]);return o},y={hasClass:$,addClass:w,getAttribute:F,setAttribute:z,removeAttribute:R,setAttributes:U,getData:D,setData:H,width:Q,allStrings:_,isString:I,isArray:e.isArray,isEmpty:M,assign:e.extend,merge:L,camelCase:C,snakeCase:V,cloneDeep:x,compact:k,contains:S,defaults:j,difference:T,isFunction:e.isFunction,functions:P,identity:B,isPlainObject:e.isPlainObject,trim:e.trim,without:J},W=function(e){var t,i,n,o,s,r,a,l;if(null==e)return"";for(l="",s=void 0,n=void 0,0,s=n=0,a=(r=e+"").length,o=0;o<a;)i=null,(t=r.charCodeAt(o))<128?n++:i=t>127&&t<2048?String.fromCharCode(t>>6|192,63&t|128):String.fromCharCode(t>>12|224,t>>6&63|128,63&t|128),null!==i&&(n>s&&(l+=r.slice(s,n)),l+=i,s=n=o+1),o++;return n>s&&(l+=r.slice(s,a)),l},E=function(e){var t,i,n,o;for("00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",t=0,0,o=0,t^=-1,i=0,n=(e=W(e)).length;i<n;)o=255&(t^e.charCodeAt(i)),t=t>>>8^"0x"+"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D".substr(9*o,8),i++;return(t^=-1)<0&&(t+=4294967296),t},u=function(){function e(e,t,i){null==i&&(i=A.Util.identity),this.name=e,this.shortName=t,this.process=i}return e.prototype.set=function(e){return this.origValue=e,this},e.prototype.serialize=function(){var e,t;return e=this.value(),t=A.Util.isArray(e)||A.Util.isPlainObject(e)||A.Util.isString(e)?!A.Util.isEmpty(e):null!=e,null!=this.shortName&&t?this.shortName+"_"+e:""},e.prototype.value=function(){return this.process(this.origValue)},e.norm_color=function(e){return null!=e?e.replace(/^#/,"rgb:"):void 0},e.prototype.build_array=function(e){return null==e&&(e=[]),A.Util.isArray(e)?e:[e]},e.process_video_params=function(e){var t;switch(e.constructor){case Object:return t="","codec"in e&&(t=e.codec,"profile"in e&&(t+=":"+e.profile,"level"in e&&(t+=":"+e.level))),t;case String:return e;default:return null}},e}(),t=function(e){function t(e,i,n,o){null==n&&(n="."),this.sep=n,t.__super__.constructor.call(this,e,i,o)}return extend(t,e),t.prototype.serialize=function(){var e,t,i;return null!=this.shortName?(e=this.value(),A.Util.isEmpty(e)?"":(t=function(){var e,t,n,o;for(o=[],e=0,t=(n=this.value()).length;e<t;e++)i=n[e],A.Util.isFunction(i.serialize)?o.push(i.serialize()):o.push(i);return o}.call(this),this.shortName+"_"+t.join(this.sep))):""},t.prototype.set=function(e){return null==e||A.Util.isArray(e)?t.__super__.set.call(this,e):t.__super__.set.call(this,[e])},t}(u),v=function(e){function t(e,i,n,o){null==i&&(i="t"),null==n&&(n="."),this.sep=n,t.__super__.constructor.call(this,e,i,o)}return extend(t,e),t.prototype.serialize=function(){var e,t,i;return A.Util.isEmpty(this.value())?"":A.Util.allStrings(this.value())?(e=this.value().join(this.sep),A.Util.isEmpty(e)?"":this.shortName+"_"+e):(t=function(){var e,t,n,o;for(o=[],e=0,t=(n=this.value()).length;e<t;e++)null!=(i=n[e])&&(A.Util.isString(i)&&!A.Util.isEmpty(i)?o.push(this.shortName+"_"+i):A.Util.isFunction(i.serialize)?o.push(i.serialize()):A.Util.isPlainObject(i)&&!A.Util.isEmpty(i)?o.push(new f(i).serialize()):o.push(void 0));return o}.call(this),A.Util.compact(t))},t.prototype.set=function(e){return this.origValue=e,A.Util.isArray(this.origValue)?t.__super__.set.call(this,this.origValue):t.__super__.set.call(this,[this.origValue])},t}(u),d=function(e){function t(e,i,n){null==n&&(n=this.norm_range_value),t.__super__.constructor.call(this,e,i,n)}return extend(t,e),t.norm_range_value=function(e){var t,i;return(i=String(e).match(new RegExp("^"+offset_any_pattern+"$")))&&(t=null!=i[5]?"p":"",e=(i[1]||i[4])+t),e},t}(u),p=function(e){function t(e,i,n){null==n&&(n=A.Util.identity),t.__super__.constructor.call(this,e,i,n)}return extend(t,e),t.prototype.serialize=function(){return this.value()},t}(u),c=function(e){var t;function i(){return i.__super__.constructor.apply(this,arguments)}return extend(i,e),i.prototype.value=function(){var e,t,i,n,o,s,r,a;if(i=this.origValue,A.Util.isPlainObject(i)){if(n=i.public_id,t=i.format,o=i.resource_type||"image",a=i.type||"upload",s=i.text,r=null,e=[],null!=n&&(n=n.replace(/\//g,":"),null!=t&&(n=n+"."+t)),null==s&&"text"!==o){if(A.Util.isEmpty(n))throw"Must supply public_id for resource_type layer_parameter";"subtitles"===o&&(r=this.textStyle(i))}else if(o="text",a=null,r=this.textStyle(i),null!=s){if(!(null!=n^null!=r))throw"Must supply either style parameters or a public_id when providing text parameter in a text overlay/underlay";s=A.Util.smart_escape(A.Util.smart_escape(s,/([,\/])/))}"image"!==o&&e.push(o),"upload"!==a&&e.push(a),e.push(r),e.push(n),e.push(s),i=A.Util.compact(e).join(":")}return i},t=[["font_weight","normal"],["font_style","normal"],["text_decoration","none"],["text_align",null],["stroke","none"]],i.prototype.textStyle=function(e){var i,n,o,s,r,a,l;if(o=e.font_family,s=e.font_size,r=function(){var o,s,r,a;for(a=[],o=0,s=t.length;o<s;o++)i=(r=t[o])[0],n=r[1],e[i]!==n&&a.push(e[i]);return a}(),a=e.letter_spacing,A.Util.isEmpty(a)||r.push("letter_spacing_"+a),l=e.line_spacing,A.Util.isEmpty(l)||r.push("line_spacing_"+l),!A.Util.isEmpty(s)||!A.Util.isEmpty(o)||!A.Util.isEmpty(r)){if(A.Util.isEmpty(o))throw"Must supply font_family for text in overlay/underlay";if(A.Util.isEmpty(s))throw"Must supply font_size for text in overlay/underlay";return r.unshift(s),r.unshift(o),A.Util.compact(r).join("_")}},i}(u),(N={}).Param=u,N.ArrayParam=t,N.RangeParam=d,N.RawParam=p,N.TransformationParam=v,N.LayerParam=c,o=function(){function e(e){this.predicate_list=[],null!=e&&this.predicate_list.push(this.normalize(e))}return e.OPERATORS={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or"},e.PARAMETERS={width:"w",height:"h",aspect_ratio:"ar",aspectRatio:"ar",page_count:"pc",pageCount:"pc",face_count:"fc",faceCount:"fc"},e.BOUNDRY="[ _]+",e.new=function(e){return new this(e)},e.prototype.normalize=function(t){var i;return i=new RegExp("("+Object.keys(e.PARAMETERS).join("|")+"|[=<>&|!]+)","g"),(t=t.replace(i,(function(t){return e.OPERATORS[t]||e.PARAMETERS[t]}))).replace(/[ _]+/g,"_")},e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(e){return this.parent=e,this},e.prototype.toString=function(){return this.predicate_list.join("_")},e.prototype.predicate=function(t,i,n){return null!=e.OPERATORS[i]&&(i=e.OPERATORS[i]),this.predicate_list.push(t+"_"+i+"_"+n),this},e.prototype.and=function(){return this.predicate_list.push("and"),this},e.prototype.or=function(){return this.predicate_list.push("or"),this},e.prototype.then=function(){return this.getParent().if(this.toString())},e.prototype.height=function(e,t){return this.predicate("h",e,t)},e.prototype.width=function(e,t){return this.predicate("w",e,t)},e.prototype.aspectRatio=function(e,t){return this.predicate("ar",e,t)},e.prototype.pageCount=function(e,t){return this.predicate("pc",e,t)},e.prototype.faceCount=function(e,t){return this.predicate("fc",e,t)},e}(),g=function(){var e;function i(n){var o,r,a;null==n&&(n={}),r=void 0,a={},this.toOptions||(this.toOptions=function(e){var t,i,n,o,s,r;for(t in null==e&&(e=!0),n={},a)r=a[t],n[t]=r.origValue;for(t in o=this.otherOptions)void 0!==(r=o[t])&&(n[t]=r);return e&&!y.isEmpty(this.chained)&&((i=function(){var e,t,i,n;for(n=[],e=0,t=(i=this.chained).length;e<t;e++)s=i[e],n.push(s.toOptions());return n}.call(this)).push(n),n={transformation:i}),n}),this.setParent||(this.setParent=function(e){return r=e,null!=e&&this.fromOptions("function"==typeof e.toOptions?e.toOptions():void 0),this}),this.getParent||(this.getParent=function(){return r}),this.param||(this.param=function(e,t,i,n,o){return null==o&&(o=y.isFunction(n)?n:y.identity),a[t]=new u(t,i,o).set(e),this}),this.rawParam||(this.rawParam=function(t,i,n,o,s){return null==s&&(s=y.identity),s=e(arguments),a[i]=new p(i,n,s).set(t),this}),this.rangeParam||(this.rangeParam=function(t,i,n,o,s){return null==s&&(s=y.identity),s=e(arguments),a[i]=new d(i,n,s).set(t),this}),this.arrayParam||(this.arrayParam=function(i,n,o,s,r,l){return null==s&&(s=":"),null==r&&(r=[]),null==l&&(l=y.identity),l=e(arguments),a[n]=new t(n,o,s,l).set(i),this}),this.transformationParam||(this.transformationParam=function(t,i,n,o,s,r){return null==o&&(o="."),null==r&&(r=y.identity),r=e(arguments),a[i]=new v(i,n,o,r).set(t),this}),this.layerParam||(this.layerParam=function(e,t,i){return a[t]=new c(t,i).set(e),this}),this.getValue||(this.getValue=function(e){var t,i;return null!=(t=null!=(i=a[e])?i.value():void 0)?t:this.otherOptions[e]}),this.get||(this.get=function(e){return a[e]}),this.remove||(this.remove=function(e){var t;switch(!1){case null==a[e]:return t=a[e],delete a[e],t.origValue;case null==this.otherOptions[e]:return t=this.otherOptions[e],delete this.otherOptions[e],t;default:return null}}),this.keys||(this.keys=function(){var e;return function(){var t;for(e in t=[],a)t.push(y.snakeCase(e));return t}().sort()}),this.toPlainObject||(this.toPlainObject=function(){var e,t,i,n;for(t in e={},a)e[t]=a[t].value(),y.isPlainObject(e[t])&&(e[t]=y.cloneDeep(e[t]));return y.isEmpty(this.chained)||((i=function(){var e,t,i,o;for(o=[],e=0,t=(i=this.chained).length;e<t;e++)n=i[e],o.push(n.toPlainObject());return o}.call(this)).push(e),e={transformation:i}),e}),this.chain||(this.chain=function(){var e;return 0!==Object.getOwnPropertyNames(a).length&&(e=new this.constructor(this.toOptions(!1)),this.resetTransformations(),this.chained.push(e)),this}),this.resetTransformations||(this.resetTransformations=function(){return a={},this}),this.otherOptions||(this.otherOptions={}),this.methods||(this.methods=y.difference(y.functions(f.prototype),y.functions(i.prototype))),this.PARAM_NAMES||(this.PARAM_NAMES=function(){var e,t,i,n;for(n=[],e=0,t=(i=this.methods).length;e<t;e++)o=i[e],n.push(y.snakeCase(o));return n}.call(this).concat(s.CONFIG_PARAMS)),this.chained=[],y.isEmpty(n)||this.fromOptions(n)}return i.prototype.trans_separator="/",i.prototype.param_separator=",",e=function(e){var t;return t=null!=e?e[e.length-1]:void 0,y.isFunction(t)?t:void 0},i.prototype.fromOptions=function(e){var t,n;if(e instanceof i)this.fromTransformation(e);else for(t in e||(e={}),(y.isString(e)||y.isArray(e))&&(e={transformation:e}),e=y.cloneDeep(e,(function(e){if(e instanceof i)return new e.constructor(e.toOptions())})))n=e[t],this.set(t,n);return this},i.prototype.fromTransformation=function(e){var t,n,o,s;if(e instanceof i)for(t=0,o=(s=e.keys()).length;t<o;t++)n=s[t],this.set(n,e.get(n).origValue);return this},i.prototype.set=function(e,t){var i;return i=y.camelCase(e),y.contains(this.methods,i)?this[i](t):this.otherOptions[e]=t,this},i.prototype.hasLayer=function(){return this.getValue("overlay")||this.getValue("underlay")},i.prototype.serialize=function(){var e,t,i,n,o,s,r,a,l,c,u;switch(o=function(){var e,t,i,n;for(n=[],e=0,t=(i=this.chained).length;e<t;e++)r=i[e],n.push(r.serialize());return n}.call(this),t=this.keys(),c=null!=(i=this.get("transformation"))?i.serialize():void 0,e=null!=(n=this.get("if"))?n.serialize():void 0,t=y.difference(t,["transformation","if"]),a=function(){var e,i,n,o;for(o=[],e=0,i=t.length;e<i;e++)s=t[e],o.push(null!=(n=this.get(s))?n.serialize():void 0);return o}.call(this),!1){case!y.isString(c):a.push(c);break;case!y.isArray(c):o=o.concat(c)}return a=function(){var e,t,i;for(i=[],e=0,t=a.length;e<t;e++)u=a[e],(y.isArray(u)&&!y.isEmpty(u)||!y.isArray(u)&&u)&&i.push(u);return i}().sort(),"if_end"===e?a.push(e):y.isEmpty(e)||a.unshift(e),l=a.join(this.param_separator),y.isEmpty(l)||o.push(l),y.compact(o).join(this.trans_separator)},i.prototype.listNames=function(){return this.methods},i.prototype.toHtmlAttributes=function(){var e,t,i,n,o,s,r,a,l,c;for(i in o={},s=this.otherOptions)c=s[i],y.contains(this.PARAM_NAMES,i)||(o[/^html_/.test(i)?i.slice(5):i]=c);for(t=0,n=(r=this.keys()).length;t<n;t++)i=r[t],/^html_/.test(i)&&(o[i.slice(5)]=this.getValue(i));return this.hasLayer()||this.getValue("angle")||y.contains(["fit","limit","lfill"],this.getValue("crop"))||(Q=null!=(a=this.get("width"))?a.origValue:void 0,e=null!=(l=this.get("height"))?l.origValue:void 0,parseFloat(Q)>=1&&null==o.width&&(o.width=Q),parseFloat(e)>=1&&null==o.height&&(o.height=e)),o},i.prototype.isValidParamName=function(e){return this.methods.indexOf(y.camelCase(e))>=0},i.prototype.toHtml=function(){var e;return null!=(e=this.getParent())&&"function"==typeof e.toHtml?e.toHtml():void 0},i.prototype.toString=function(){return this.serialize()},i}(),f=function(e){function t(e){null==e&&(e={}),t.__super__.constructor.call(this,e)}return extend(t,e),t.new=function(e){return new t(e)},t.prototype.angle=function(e){return this.arrayParam(e,"angle","a",".")},t.prototype.audioCodec=function(e){return this.param(e,"audio_codec","ac")},t.prototype.audioFrequency=function(e){return this.param(e,"audio_frequency","af")},t.prototype.aspectRatio=function(e){return this.param(e,"aspect_ratio","ar")},t.prototype.background=function(e){return this.param(e,"background","b",u.norm_color)},t.prototype.bitRate=function(e){return this.param(e,"bit_rate","br")},t.prototype.border=function(e){return this.param(e,"border","bo",(function(e){return y.isPlainObject(e)?(e=y.assign({},{color:"black",width:2},e)).width+"px_solid_"+u.norm_color(e.color):e}))},t.prototype.color=function(e){return this.param(e,"color","co",u.norm_color)},t.prototype.colorSpace=function(e){return this.param(e,"color_space","cs")},t.prototype.crop=function(e){return this.param(e,"crop","c")},t.prototype.defaultImage=function(e){return this.param(e,"default_image","d")},t.prototype.delay=function(e){return this.param(e,"delay","l")},t.prototype.density=function(e){return this.param(e,"density","dn")},t.prototype.duration=function(e){return this.rangeParam(e,"duration","du")},t.prototype.dpr=function(e){return this.param(e,"dpr","dpr",(t=this,function(e){return"auto"===(e=e.toString())&&!0!==t.getValue("client_hints")?"1.0":(null!=e?e.match(/^\d+$/):void 0)?e+".0":e}));var t},t.prototype.effect=function(e){return this.arrayParam(e,"effect","e",":")},t.prototype.else=function(){return this.if("else")},t.prototype.endIf=function(){return this.if("end")},t.prototype.endOffset=function(e){return this.rangeParam(e,"end_offset","eo")},t.prototype.fallbackContent=function(e){return this.param(e,"fallback_content")},t.prototype.fetchFormat=function(e){return this.param(e,"fetch_format","f")},t.prototype.format=function(e){return this.param(e,"format")},t.prototype.flags=function(e){return this.arrayParam(e,"flags","fl",".")},t.prototype.gravity=function(e){return this.param(e,"gravity","g")},t.prototype.height=function(e){return this.param(e,"height","h",(t=this,function(){return t.getValue("crop")||t.getValue("overlay")||t.getValue("underlay")?e:null}));var t},t.prototype.htmlHeight=function(e){return this.param(e,"html_height")},t.prototype.htmlWidth=function(e){return this.param(e,"html_width")},t.prototype.if=function(e){var i,n,s,r,a;switch(null==e&&(e=""),e){case"else":return this.chain(),this.param(e,"if","if");case"end":for(this.chain(),i=s=this.chained.length-1;s>=0&&"end"!==(n=this.chained[i].getValue("if"))&&(null==n||(r=t.new().if(n),this.chained[i].remove("if"),a=this.chained[i],this.chained[i]=t.new().transformation([r,a]),"else"===n));i=s+=-1);return this.param(e,"if","if");case"":return o.new().setParent(this);default:return this.param(e,"if","if",(function(e){return o.new(e).toString()}))}},t.prototype.keyframeInterval=function(e){return this.param(e,"keyframe_interval","ki")},t.prototype.offset=function(e){var t,i,n;if(n=(i=y.isFunction(null!=e?e.split:void 0)?e.split(".."):y.isArray(e)?e:[null,null])[0],t=i[1],null!=n&&this.startOffset(n),null!=t)return this.endOffset(t)},t.prototype.opacity=function(e){return this.param(e,"opacity","o")},t.prototype.overlay=function(e){return this.layerParam(e,"overlay","l")},t.prototype.page=function(e){return this.param(e,"page","pg")},t.prototype.poster=function(e){return this.param(e,"poster")},t.prototype.prefix=function(e){return this.param(e,"prefix","p")},t.prototype.quality=function(e){return this.param(e,"quality","q")},t.prototype.radius=function(e){return this.param(e,"radius","r")},t.prototype.rawTransformation=function(e){return this.rawParam(e,"raw_transformation")},t.prototype.size=function(e){var t,i;if(y.isFunction(null!=e?e.split:void 0))return i=e.split("x"),Q=i[0],t=i[1],this.width(Q),this.height(t)},t.prototype.sourceTypes=function(e){return this.param(e,"source_types")},t.prototype.sourceTransformation=function(e){return this.param(e,"source_transformation")},t.prototype.startOffset=function(e){return this.rangeParam(e,"start_offset","so")},t.prototype.streamingProfile=function(e){return this.param(e,"streaming_profile","sp")},t.prototype.transformation=function(e){return this.transformationParam(e,"transformation","t")},t.prototype.underlay=function(e){return this.layerParam(e,"underlay","u")},t.prototype.videoCodec=function(e){return this.param(e,"video_codec","vc",u.process_video_params)},t.prototype.videoSampling=function(e){return this.param(e,"video_sampling","vs")},t.prototype.width=function(e){return this.param(e,"width","w",(t=this,function(){return t.getValue("crop")||t.getValue("overlay")||t.getValue("underlay")?e:null}));var t},t.prototype.x=function(e){return this.param(e,"x","x")},t.prototype.y=function(e){return this.param(e,"y","y")},t.prototype.zoom=function(e){return this.param(e,"zoom","z")},t}(g),s=function(){var e,t;function i(t){null==t&&(t={}),this.configuration=y.cloneDeep(t),y.defaults(this.configuration,e)}return e={responsive_class:"cld-responsive",responsive_use_breakpoints:!0,round_dpr:!0,secure:"https:"===("undefined"!=typeof window&&null!==window&&null!=(t=window.location)?t.protocol:void 0)},i.CONFIG_PARAMS=["api_key","api_secret","cdn_subdomain","cloud_name","cname","private_cdn","protocol","resource_type","responsive_class","responsive_use_breakpoints","responsive_width","round_dpr","secure","secure_cdn_subdomain","secure_distribution","shorten","type","url_suffix","use_root_path","version"],i.prototype.init=function(){return this.fromEnvironment(),this.fromDocument(),this},i.prototype.set=function(e,t){return this.configuration[e]=t,this},i.prototype.get=function(e){return this.configuration[e]},i.prototype.merge=function(e){return null==e&&(e={}),y.assign(this.configuration,y.cloneDeep(e)),this},i.prototype.fromDocument=function(){var e,t,i,n;if(n="undefined"!=typeof document&&null!==document?document.querySelectorAll('meta[name^="cloudinary_"]'):void 0)for(t=0,i=n.length;t<i;t++)e=n[t],this.configuration[e.getAttribute("name").replace("cloudinary_","")]=e.getAttribute("content");return this},i.prototype.fromEnvironment=function(){var e,t,i,n,o,s;if(null!=(e="undefined"!=typeof process&&null!==process&&null!=(i=process.env)?i.CLOUDINARY_URL:void 0)&&(o=require("url").parse(e,!0),this.configuration={cloud_name:o.host,api_key:o.auth&&o.auth.split(":")[0],api_secret:o.auth&&o.auth.split(":")[1],private_cdn:null!=o.pathname,secure_distribution:o.pathname&&o.pathname.substring(1)},null!=o.query))for(t in n=o.query)s=n[t],this.configuration[t]=s;return this},i.prototype.config=function(e,t){switch(!1){case void 0===t:return this.set(e,t),this.configuration;case!y.isString(e):return this.get(e);case!y.isPlainObject(e):return this.merge(e),this.configuration;default:return this.configuration}},i.prototype.toOptions=function(){return y.cloneDeep(this.configuration)},i}(),r=function(){var e;function t(e,t,i){var n;this.name=e,this.publicId=t,null==i&&(y.isPlainObject(t)?(i=t,this.publicId=void 0):i={}),(n=new f(i)).setParent(this),this.transformation=function(){return n}}return t.new=function(e,t,i){return new this(e,t,i)},e=function(e,t){return t?!0===t?e:e+'="'+t+'"':void 0},t.prototype.htmlAttrs=function(t){var i,n;return function(){var o;for(i in o=[],t)(n=t[i])&&o.push(e(i,n));return o}().sort().join(" ")},t.prototype.getOptions=function(){return this.transformation().toOptions()},t.prototype.getOption=function(e){return this.transformation().getValue(e)},t.prototype.attributes=function(){return this.transformation().toHtmlAttributes()},t.prototype.setAttr=function(e,t){return this.transformation().set("html_"+e,t),this},t.prototype.getAttr=function(e){return this.attributes()["html_"+e]||this.attributes()[e]},t.prototype.removeAttr=function(e){var t;return null!=(t=this.transformation().remove("html_"+e))?t:this.transformation().remove(e)},t.prototype.content=function(){return""},t.prototype.openTag=function(){return"<"+this.name+" "+this.htmlAttrs(this.attributes())+">"},t.prototype.closeTag=function(){return"</"+this.name+">"},t.prototype.toHtml=function(){return this.openTag()+this.content()+this.closeTag()},t.prototype.toDOM=function(){var e,t,i,n;if(!y.isFunction("undefined"!=typeof document&&null!==document?document.createElement:void 0))throw"Can't create DOM if document is not present!";for(t in e=document.createElement(this.name),i=this.attributes())n=i[t],e[t]=n;return e},t.isResponsive=function(e,t){var i;return i=y.getData(e,"src-cache")||y.getData(e,"src"),y.hasClass(e,t)&&/\bw_auto\b/.exec(i)},t}(),a=function(e){function t(e,i){null==i&&(i={}),t.__super__.constructor.call(this,"img",e,i)}return extend(t,e),t.prototype.closeTag=function(){return""},t.prototype.attributes=function(){var e;return null==(e=t.__super__.attributes.call(this)||[]).src&&(e.src=new i(this.getOptions()).url(this.publicId)),e},t}(r),b=function(e){var t,n;function o(e,t){null==t&&(t={}),t=y.defaults({},t,i.DEFAULT_VIDEO_PARAMS),o.__super__.constructor.call(this,"video",e.replace(/\.(mp4|ogv|webm)$/,""),t)}return extend(o,e),n=["source_types","source_transformation","fallback_content","poster"],["webm","mp4","ogv"],t={format:"jpg",resource_type:"video"},o.prototype.setSourceTransformation=function(e){return this.transformation().sourceTransformation(e),this},o.prototype.setSourceTypes=function(e){return this.transformation().sourceTypes(e),this},o.prototype.setPoster=function(e){return this.transformation().poster(e),this},o.prototype.setFallbackContent=function(e){return this.transformation().fallbackContent(e),this},o.prototype.content=function(){var e,t,n,o,s,r,a,l,c;return r=this.transformation().getValue("source_types"),s=this.transformation().getValue("source_transformation"),t=this.transformation().getValue("fallback_content"),y.isArray(r)?(e=new i(this.getOptions()),n=function(){var t,i,n;for(n=[],t=0,i=r.length;t<i;t++)l=r[t],c=s[l]||{},a=e.url(""+this.publicId,y.defaults({},c,{resource_type:"video",format:l})),o="video/"+("ogv"===l?"ogg":l),n.push("<source "+this.htmlAttrs({src:a,type:o})+">");return n}.call(this)):n=[],n.join("")+t},o.prototype.attributes=function(){var e,s,r,a,l,c,u,d;for(d=this.getOption("source_types"),l=null!=(c=this.getOption("poster"))?c:{},y.isPlainObject(l)&&(j=null!=l.public_id?i.DEFAULT_IMAGE_PARAMS:t,l=new i(this.getOptions()).url(null!=(u=l.public_id)?u:this.publicId,y.defaults({},l,j))),r=0,a=(s=o.__super__.attributes.call(this)||[]).length;r<a;r++)e=s[r],y.contains(n)||(s=e);return y.isArray(d)||(s.src=new i(this.getOptions()).url(this.publicId,{resource_type:"video",format:d})),null!=l&&(s.poster=l),s},o}(r),h=function(e){function t(e){t.__super__.constructor.call(this,e),this.options.resourceType="subtitles"}return extend(t,e),t}(m=function(e){var t;function i(e){i.__super__.constructor.call(this,e),this.options.resourceType="text"}return extend(i,e),i.prototype.resourceType=function(e){throw"Cannot modify resourceType for text layers"},i.prototype.type=function(e){throw"Cannot modify type for text layers"},i.prototype.format=function(e){throw"Cannot modify format for text layers"},i.prototype.fontFamily=function(e){return this.options.fontFamily=e,this},i.prototype.fontSize=function(e){return this.options.fontSize=e,this},i.prototype.fontWeight=function(e){return this.options.fontWeight=e,this},i.prototype.fontStyle=function(e){return this.options.fontStyle=e,this},i.prototype.textDecoration=function(e){return this.options.textDecoration=e,this},i.prototype.textAlign=function(e){return this.options.textAlign=e,this},i.prototype.stroke=function(e){return this.options.stroke=e,this},i.prototype.letterSpacing=function(e){return this.options.letterSpacing=e,this},i.prototype.lineSpacing=function(e){return this.options.lineSpacing=e,this},i.prototype.text=function(e){return this.options.text=e,this},i.prototype.toString=function(){var e,i,n;if(null!=this.options.publicId)i=this.getFullPublicId();else{if(null==this.options.text)throw"Must supply either text or public_id.";n=encodeURIComponent(this.options.text).replace(/%2C/g,"%E2%80%9A").replace(/\//g,"%E2%81%84")}return e=[this.options.resourceType,t.call(this),i,n],y.compact(e).join(":")},t=function(){var e,t;if(e=[],"normal"!==this.options.fontWeight&&e.push(this.options.fontWeight),"normal"!==this.options.fontStyle&&e.push(this.options.fontStyle),"none"!==this.options.textDecoration&&e.push(this.options.textDecoration),e.push(this.options.textAlign),"none"!==this.options.stroke&&e.push(this.options.stroke),y.isEmpty(this.options.letterSpacing)||e.push("letter_spacing_"+this.options.letterSpacing),null!=this.options.lineSpacing&&e.push("line_spacing_"+this.options.lineSpacing),null!=this.options.fontSize&&(t=""+this.options.fontSize),e.unshift(this.options.fontFamily,t),e=y.compact(e).join("_"),!y.isEmpty(e)){if(y.isEmpty(this.options.fontFamily))throw"Must supply fontFamily.";if(y.isEmpty(t))throw"Must supply fontSize."}return e},i}(l=function(){function e(e){this.options={},null!=e&&(this.options.resourceType=e.resource_type,this.options.type=e.type,this.options.publicId=e.public_id,this.options.format=e.format)}return e.prototype.resourceType=function(e){return this.options.resourceType=e,this},e.prototype.type=function(e){return this.options.type=e,this},e.prototype.publicId=function(e){return this.options.publicId=e,this},e.prototype.getPublicId=function(){var e;return null!=(e=this.options.publicId)?e.replace(/\//g,":"):void 0},e.prototype.getFullPublicId=function(){return null!=this.options.format?this.getPublicId()+"."+this.options.format:this.getPublicId()},e.prototype.format=function(e){return this.options.format=e,this},e.prototype.toString=function(){var e;if(e=[],null==this.options.publicId)throw"Must supply publicId";return"image"!==this.options.resourceType&&e.push(this.options.resourceType),"upload"!==this.options.type&&e.push(this.options.type),e.push(this.getFullPublicId()),y.compact(e).join(":")},e}())),n=function(t){function i(e){i.__super__.constructor.call(this,e)}return extend(i,t),i.prototype.image=function(t,i){var n,o,s,r;return null==i&&(i={}),o=this.imageTag(t,i),n=null!=(s=null!=(r=i.client_hints)?r:this.config("client_hints"))&&s,null!=i.src||n||o.setAttr("src",""),o=e(o.toHtml()),n||o.data("src-cache",this.url(t,i)).cloudinary_update(i),o},i.prototype.responsive=function(t){var i,n,o,s,r,a,l,c;if(r=e.extend(r||{},t),s=null!=(i=this.responsiveConfig.responsive_class)?i:this.config("responsive_class"),e("img."+s+", img.cld-hidpi").cloudinary_update(r),(null==(n=null!=(o=r.responsive_resize)?o:this.config("responsive_resize"))||n)&&!a)return r.resizing=a=!0,l=null,e(window).on("resize",(c=this,function(){var t,i,n,o,a;return t=null!=(i=null!=(n=r.responsive_debounce)?n:c.config("responsive_debounce"))?i:100,o=function(){if(l)return clearTimeout(l),l=null},a=function(){return e("img."+s).cloudinary_update(r)},t?(o(),setTimeout((function(){return o(),a()}),t)):a()}))},i}(i=function(){var e,t,i,n,o,l,c,u,d,p,h,m;function g(e){var t;this.devicePixelRatioCache={},this.responsiveConfig={},this.responsiveResizeInitialized=!1,t=new s(e),this.config=function(e,i){return t.config(e,i)},this.fromDocument=function(){return t.fromDocument(),this},this.fromEnvironment=function(){return t.fromEnvironment(),this},this.init=function(){return t.init(),this}}return"2.1.3","d3jpl91pxevbkh.cloudfront.net","cloudinary-a.akamaihd.net","res.cloudinary.com","res.cloudinary.com",e={format:"jpg",resource_type:"video"},t=["webm","mp4","ogv"],g.DEFAULT_IMAGE_PARAMS={resource_type:"image",transformation:[],type:"upload"},g.DEFAULT_VIDEO_PARAMS={fallback_content:"",resource_type:"video",source_transformation:{},source_types:t,transformation:[],type:"upload"},g.new=function(e){return new this(e)},d=function(e,t,i,n,o){var s;if(y.isPlainObject(e)&&(e=(s=e).resource_type,t=s.type,i=s.url_suffix,n=s.use_root_path,o=s.shorten),null==t&&(t="upload"),null!=i)if("image"===e&&"upload"===t)e="images",t=null;else{if("raw"!==e||"upload"!==t)throw new Error("URL Suffix only supported for image/upload and raw/upload");e="files",t=null}if(n){if(("image"!==e||"upload"!==t)&&"images"!==e)throw new Error("Root path only supported for image/upload");e=null,t=null}return o&&"image"===e&&"upload"===t&&(e="iu",t=null),[e,t].join("/")},i=function(e){var t;return e.match(/^https?:\//)||(t=document.location.protocol+"//"+document.location.host,"?"===e[0]?t+=document.location.pathname:"/"!==e[0]&&(t+=document.location.pathname.replace(/\/[^\/]*$/,"/")),e=t+e),e},g.prototype.url=function(e,t){var n,o,s,r,a,l;if(null==t&&(t={}),!e)return e;if(t instanceof f&&(t=t.toOptions()),"fetch"===(t=y.defaults({},t,this.config(),g.DEFAULT_IMAGE_PARAMS)).type&&(t.fetch_format=t.fetch_format||t.format,e=i(e)),r=new f(t).serialize(),!t.cloud_name)throw"Unknown cloud_name";if(t.url_suffix&&!t.private_cdn)throw"URL Suffix only supported in private CDN";if(e.search("/")>=0&&!e.match(/^v[0-9]+/)&&!e.match(/^https?:\//)&&!(null!=(o=t.version)?o.toString():void 0)&&(t.version=1),e.match(/^https?:/))"upload"===t.type||"asset"===t.type?a=e:e=encodeURIComponent(e).replace(/%3A/g,":").replace(/%2F/g,"/");else{if(e=encodeURIComponent(decodeURIComponent(e)).replace(/%3A/g,":").replace(/%2F/g,"/"),t.url_suffix){if(t.url_suffix.match(/[\.\/]/))throw"url_suffix should not include . or /";e=e+"/"+t.url_suffix}t.format&&(t.trust_public_id||(e=e.replace(/\.(jpg|png|gif|webp)$/,"")),e=e+"."+t.format)}return n=c(e,t),s=d(t.resource_type,t.type,t.url_suffix,t.use_root_path,t.shorten),l=t.version?"v"+t.version:"",a||y.compact([n,s,r,l,e]).join("/").replace(/([^:])\/+/g,"$1/")},g.prototype.video_url=function(e,t){return t=y.assign({resource_type:"video"},t),this.url(e,t)},g.prototype.video_thumbnail_url=function(t,i){return i=y.assign({},e,i),this.url(t,i)},g.prototype.transformation_string=function(e){return new f(e).serialize()},g.prototype.image=function(e,t){var i,n,o,s;return null==t&&(t={}),n=this.imageTag(e,t),i=null!=(o=null!=(s=t.client_hints)?s:this.config("client_hints"))&&o,null!=t.src||i||n.setAttr("src",""),n=n.toDOM(),i||(y.setData(n,"src-cache",this.url(e,t)),this.cloudinary_update(n,t)),n},g.prototype.imageTag=function(e,t){var i;return(i=new a(e,this.config())).transformation().fromOptions(t),i},g.prototype.video_thumbnail=function(t,i){return this.image(t,y.merge({},e,i))},g.prototype.facebook_profile_image=function(e,t){return this.image(e,y.assign({type:"facebook"},t))},g.prototype.twitter_profile_image=function(e,t){return this.image(e,y.assign({type:"twitter"},t))},g.prototype.twitter_name_profile_image=function(e,t){return this.image(e,y.assign({type:"twitter_name"},t))},g.prototype.gravatar_image=function(e,t){return this.image(e,y.assign({type:"gravatar"},t))},g.prototype.fetch_image=function(e,t){return this.image(e,y.assign({type:"fetch"},t))},g.prototype.video=function(e,t){return null==t&&(t={}),this.videoTag(e,t).toHtml()},g.prototype.videoTag=function(e,t){return t=y.defaults({},t,this.config()),new b(e,t)},g.prototype.sprite_css=function(e,t){return t=y.assign({type:"sprite"},t),e.match(/.css$/)||(t.format="css"),this.url(e,t)},g.prototype.responsive=function(e,t){var i,n,o,s,r,a;if(null==t&&(t=!0),this.responsiveConfig=y.merge(this.responsiveConfig||{},e),s=null!=(i=this.responsiveConfig.responsive_class)?i:this.config("responsive_class"),t&&this.cloudinary_update("img."+s+", img.cld-hidpi",this.responsiveConfig),(null==(n=null!=(o=this.responsiveConfig.responsive_resize)?o:this.config("responsive_resize"))||n)&&!this.responsiveResizeInitialized)return this.responsiveConfig.resizing=this.responsiveResizeInitialized=!0,r=null,window.addEventListener("resize",(a=this,function(){var e,t,i,n,o,l;return e=null!=(t=null!=(i=a.responsiveConfig.responsive_debounce)?i:a.config("responsive_debounce"))?t:100,n=function(){if(r)return clearTimeout(r),r=null},o=function(){return a.cloudinary_update("img."+s,a.responsiveConfig)},l=function(){return n(),o()},e?(n(),r=setTimeout(l,e)):o()}))},g.prototype.calc_breakpoint=function(e,t,i){var n,o;return n=y.getData(e,"breakpoints")||y.getData(e,"stoppoints")||this.config("breakpoints")||this.config("stoppoints")||u,y.isFunction(n)?n(t,i):(y.isString(n)&&(n=function(){var e,t,i,s;for(s=[],e=0,t=(i=n.split(",")).length;e<t;e++)o=i[e],s.push(parseInt(o));return s}().sort((function(e,t){return e-t}))),l(n,t))},g.prototype.calc_stoppoint=g.prototype.calc_breakpoint,g.prototype.device_pixel_ratio=function(e){var t,i;return null==e&&(e=!0),t=("undefined"!=typeof window&&null!==window?window.devicePixelRatio:void 0)||1,e&&(t=Math.ceil(t)),(t<=0||NaN===t)&&(t=1),(i=t.toString()).match(/^\d+$/)&&(i+=".0"),i},u=function(e,t){return null==t&&(t=100),t*Math.ceil(e/t)},l=function(e,t){var i;for(i=e.length-2;i>=0&&e[i]>=t;)i--;return e[i+1]},o=function(e){return E(e)%5+1},c=function(e,t){var i,n,s,r,a,l;return 0===(null!=(a=t.cloud_name)?a.indexOf("/"):void 0)?"/res"+t.cloud_name:(r="http://",i="",l="res",n=".cloudinary.com",s="/"+t.cloud_name,t.protocol&&(r=t.protocol+"//"),t.private_cdn&&(i=t.cloud_name+"-",s=""),t.cdn_subdomain&&(l="res-"+o(e)),t.secure?(r="https://",!1===t.secure_cdn_subdomain&&(l="res"),null!=t.secure_distribution&&"cloudinary-a.akamaihd.net"!==t.secure_distribution&&"res.cloudinary.com"!==t.secure_distribution&&(i="",l="",n=t.secure_distribution)):t.cname&&(r="http://",i="",l=t.cdn_subdomain?"a"+(E(e)%5+1)+".":"",n=t.cname),[r,i,l,n,s].join(""))},g.prototype.processImageTags=function(e,t){var i,n,o,s,r;return null==t&&(t={}),t=y.defaults({},t,this.config()),i=function(){var i,a,l,c;for(c=[],i=0,a=e.length;i<a;i++)"IMG"===(null!=(l=(o=e[i]).tagName)?l.toUpperCase():void 0)&&(n=y.assign({width:o.getAttribute("width"),height:o.getAttribute("height"),src:o.getAttribute("src")},t),s=n.source||n.src,delete n.source,delete n.src,r=this.url(s,n),n=new f(n).toHtmlAttributes(),y.setData(o,"src-cache",r),o.setAttribute("width",n.width),c.push(o.setAttribute("height",n.height)));return c}.call(this),this.cloudinary_update(i,t),this},n=function(e,t,i,n){var o,s,r,a;return!(a=null!=(o=null!=(s=null!=(r=n.responsive_use_breakpoints)?r:n.responsive_use_stoppoints)?s:this.config("responsive_use_breakpoints"))?o:this.config("responsive_use_stoppoints"))||"resize"===a&&!n.resizing?t:this.calc_breakpoint(e,t,i)},p=function(e){var t,i;for(t=0;(e=null!=e?e.parentNode:void 0)instanceof Element&&!t;)i=window.getComputedStyle(e),/^inline/.test(i.display)||(t=y.width(e));return t},m=function(e,t){return e.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+this.device_pixel_ratio(t))},h=function(e,t){return e>(y.getData(t,"width")||0)&&(e,y.setData(t,"width",e)),e},g.prototype.cloudinary_update=function(e,t){var i,o,s,a,l,c,u,d,f,g,v,b,w,_,C,x,A,k,S,E;if(null==t&&(t={}),!(i=(i=null!=(u=null!=(d=t.client_hints)?d:this.config("client_hints"))&&u)||("undefined"!=typeof document&&null!==document?document.querySelector('meta[http-equiv="Accept-CH"]'):void 0))){for(x=null!=(f=null!=(g=t.responsive)?g:this.config("responsive"))&&f,e=function(){switch(!1){case!y.isArray(e):case"NodeList"!==e.constructor.name:return e;case!y.isString(e):return document.querySelectorAll(e);default:return[e]}}(),A=null!=(v=null!=(b=this.responsiveConfig.responsive_class)?b:t.responsive_class)?v:this.config("responsive_class"),k=null!=(w=t.round_dpr)?w:this.config("round_dpr"),a=0,l=e.length;a<l;a++)if((null!=(_=(E=e[a]).tagName)?_.match(/img/i):void 0)&&(S=!0,x&&!i&&y.addClass(E,A),s=y.getData(E,"src-cache")||y.getData(E,"src"),!y.isEmpty(s))){if(s=m.call(this,s,k),r.isResponsive(E,A))if(0!==(o=p(E))){switch(!1){case!/w_auto:breakpoints/.test(s):C=h(o,E),s=s.replace(/w_auto:breakpoints([_0-9]*)(:[0-9]+)?/,"w_auto:breakpoints$1:"+C);break;case!(c=/w_auto(:(\d+))?/.exec(s)):C=n.call(this,E,o,c[2],t),C=h(C,E),s=s.replace(/w_auto[^,\/]*/g,"w_"+C)}y.removeAttribute(E,"width"),t.responsive_preserve_height||y.removeAttribute(E,"height")}else S=!1;S&&y.setAttribute(E,"src",s)}return this}},g.prototype.transformation=function(e){return f.new(this.config()).fromOptions(e).setParent(this)},g}()),e.fn.cloudinary=function(t){return this.filter("img").each((function(){var i,n,o;return n=(i=e.extend({width:e(this).attr("width"),height:e(this).attr("height"),src:e(this).attr("src")},e(this).data(),t)).source||i.src,delete i.source,delete i.src,o=e.cloudinary.url(n,i),i=new f(i).toHtmlAttributes(),e(this).data("src-cache",o).attr({width:i.width,height:i.height})})).cloudinary_update(t),this},e.fn.cloudinary_update=function(t){return null==t&&(t={}),e.cloudinary.cloudinary_update(this.filter("img").toArray(),t),this},q=null,e.fn.webpify=function(t,i){var n,o;return null==t&&(t={}),n=this,i=null!=i?i:t,q||(q=e.Deferred(),(o=new Image).onerror=q.reject,o.onload=q.resolve,o.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"),e((function(){return q.done((function(){return e(n).cloudinary(e.extend({},i,{format:"webp"}))})).fail((function(){return e(n).cloudinary(t)}))})),this},e.fn.fetchify=function(t){return this.cloudinary(e.extend(t,{type:"fetch"}))},e.cloudinary=new n,e.cloudinary.fromDocument(),n.prototype.delete_by_token=function(t,i){var n,o;return(o=(i=i||{}).url)||(o="https://api.cloudinary.com/v1_1/"+(i.cloud_name||e.cloudinary.config().cloud_name)+"/delete_by_token"),n=e.support.xhrFileUpload?"json":"iframe json",e.ajax({url:o,method:"POST",data:{token:t},headers:{"X-Requested-With":"XMLHttpRequest"},dataType:n})},n.prototype.unsigned_upload_tag=function(t,i,n){return e("<input/>").attr({type:"file",name:"file"}).unsigned_cloudinary_upload(t,i,n)},e.fn.cloudinary_fileupload=function(t){var i,n;return y.isFunction(e.fn.fileupload)?((i=!this.data("blueimpFileupload"))&&(t=e.extend({maxFileSize:2e7,dataType:"json",headers:{"X-Requested-With":"XMLHttpRequest"}},t)),this.fileupload(t),i&&(this.bind("fileuploaddone",(function(t,i){var n,o,s;if(!i.result.error)return i.result.path=["v",i.result.version,"/",i.result.public_id,i.result.format?"."+i.result.format:""].join(""),i.cloudinaryField&&i.form.length>0&&(s=[i.result.resource_type,i.result.type,i.result.path].join("/")+"#"+i.result.signature,n=function(){return e("<input/>").attr({type:"hidden",name:i.cloudinaryField}).val(s).appendTo(i.form)},e(t.target).prop("multiple")?n():(o=e(i.form).find('input[name="'+i.cloudinaryField+'"]')).length>0?o.val(s):n()),e(t.target).trigger("cloudinarydone",i)})),this.bind("fileuploadsend",(function(t,i){return i.headers=e.extend({},i.headers,{"X-Unique-Upload-Id":(1e10*Math.random()).toString(16)}),!0})),this.bind("fileuploadstart",(function(t){return e(t.target).trigger("cloudinarystart")})),this.bind("fileuploadstop",(function(t){return e(t.target).trigger("cloudinarystop")})),this.bind("fileuploadprogress",(function(t,i){return e(t.target).trigger("cloudinaryprogress",i)})),this.bind("fileuploadprogressall",(function(t,i){return e(t.target).trigger("cloudinaryprogressall",i)})),this.bind("fileuploadfail",(function(t,i){return e(t.target).trigger("cloudinaryfail",i)})),this.bind("fileuploadalways",(function(t,i){return e(t.target).trigger("cloudinaryalways",i)})),this.fileupload("option").url||(n="https://api.cloudinary.com/v1_1/"+(t.cloud_name||e.cloudinary.config().cloud_name)+"/"+(t.resource_type||"auto")+"/"+(t.type||"upload"),this.fileupload("option","url",n))),this):this},e.fn.cloudinary_upload_url=function(t){return y.isFunction(e.fn.fileupload)?(this.fileupload("option","formData").file=t,this.fileupload("add",{files:[t]}),delete this.fileupload("option","formData").file,this):this},e.fn.unsigned_cloudinary_upload=function(t,i,n){var o,s,r,a,l,c;for(null==i&&(i={}),null==n&&(n={}),i=y.cloneDeep(i),n=y.cloneDeep(n),s=["cloud_name","resource_type","type"],a=0;a<s.length;)i[o=s[a]]&&(n[o]=i[o],delete i[o]),a++;for(l in i)c=i[l],y.isPlainObject(c)?i[l]=e.map(c,(function(e,t){return t+"="+e})).join("|"):y.isArray(c)&&(c.length>0&&e.isArray(c[0])?i[l]=e.map(c,(function(e){return e.join(",")})).join("|"):i[l]=c.join(","));return i.callback||(i.callback="/cloudinary_cors.html"),i.upload_preset=t,n.formData=i,n.cloudinary_field&&(n.cloudinaryField=n.cloudinary_field,delete n.cloudinary_field),(r=n.html||{}).class=y.trim("cloudinary_fileupload "+(r.class||"")),n.multiple&&(r.multiple=!0),this.attr(r).cloudinary_fileupload(n),this},e.cloudinary=new n,A={utf8_encode:W,crc32:E,Util:y,Condition:o,Transformation:f,Configuration:s,HtmlTag:r,ImageTag:a,VideoTag:b,Layer:l,TextLayer:m,SubtitlesLayer:h,Cloudinary:i,VERSION:"2.1.3",CloudinaryJQuery:n}})),function(e){e.fn.General_ShowNotification=function(t){var i=e.extend({},{message:"",type:"success",timeout:2e3},t);e.noty.closeAll(),e("#noty_topRight_layout_container").length>0&&e("#noty_topRight_layout_container").remove();noty({type:i.type,text:i.message,layout:i.layout||"bottomRight",closeWith:i.closeWith,timeout:i.timeout,dismissQueue:!0,animation:{open:"animated bounceInRight",close:"animated bounceOutRight",easing:"swing",speed:500}})},e.fn.General_ShowErrorMessage=function(t){var i=e.extend({},{message:"",type:"error",timeout:1e4},t);e.noty.closeAll(),e("#noty_topRight_layout_container").length>0&&e("#noty_topRight_layout_container").remove();noty({type:"error",text:i.message,layout:i.layout||"bottomRight",progressBar:!0,closeWith:["click"],timeout:i.timeout,dismissQueue:!0,animation:{open:"animated bounceInRight",close:"animated bounceOutRight",easing:"swing",speed:500}})}}(jQuery),$.fn.Ajax_LoadBlogArticles=function(e){var t=$.extend({},{limit:20,containerClass:"ajaxArticles",onSuccess:function(){},onError:function(){},beforeSend:function(){},onComplete:function(){}},e),i=parseInt($("."+t.containerClass).data("offset"));(isNaN(i)||i<0)&&(i=t.limit);var n=parseInt($("."+t.containerClass).data("articlecount"));(isNaN(n)||n<0)&&(n=t.limit);var o=parseInt($("."+t.containerClass).data("existing-nonpinned-count"));isNaN(o)&&(o=-1),$("."+t.containerClass).data("offset",i+t.limit);var s=$('meta[name="csrf-token"]').attr("content");$.ajax({type:"post",url:_appJsConfig.baseHttpPath+"/home/load-articles",dataType:"json",data:{offset:i,limit:t.limit,existingNonPinnedCount:o,_csrf:s,dateFormat:"SHORT"},success:function(e,i,n){t.onSuccess&&"function"==typeof t.onSuccess&&t.onSuccess(e,i,n)},error:function(e,i,n){console.log(e.responseText),t.onError&&"function"==typeof t.onError&&t.onError(e,i,n)},beforeSend:function(e,i){t.beforeSend&&"function"==typeof t.beforeSend&&t.beforeSend(e,i)},complete:function(e,i){t.onComplete&&"function"==typeof t.onComplete&&t.onComplete(e,i)}})},function(e){e.fn.Ajax_LoadBlogArticles_new=function(t){var i="post",n=_appJsConfig.baseHttpPath+"/home/load-articles",o={offset:t.offset,limit:t.limit,_csrf:e('meta[name="csrf-token"]').attr("content"),dateFormat:"SHORT",existingNonPinnedCount:t.nonPinnedOffset};if(t.blogid&&(o.blogGuid=t.blogid),"user"==t.loadtype){n=_appJsConfig.appHostName+"/api/"+t.loadtype+"/load-more-managed";i="get"}if("user_articles"==t.loadtype){var s=(n=window.location.href).split("/"),r=decodeURIComponent(s[s.length-2]);n=_appJsConfig.baseHttpPath+"/profile/"+r+"/posts"}if(t.search){o.s=t.search;n=_appJsConfig.appHostName+"/"+t.loadtype,i="get";t.blogid&&(o.blogguid=t.blogid,o.blogid=t.blogid)}return e.ajax({type:i,url:n,dataType:"json",data:o}).done((function(e){}))}}(jQuery),function(e){e.fn.Ajax_pinUnpinArticle=function(t){var i=e.extend({},{onSuccess:function(){},onError:function(){},beforeSend:function(){},onComplete:function(){}},t);return this.each((function(){var t=e(this);e(t).off("click"),e(t).on("click",(function(n){n.preventDefault();var o=e(t).data("id"),s=parseInt(e(t).attr("data-position")),r=e(t).attr("data-status"),a=e(t).data("social");if(!(isNaN(o)||o<=0||isNaN(s)||s<=0)){var l=e('meta[name="csrf-token"]').attr("content");e.ajax({type:"POST",url:_appJsConfig.baseHttpPath+"/home/pin-article",dataType:"json",data:{id:o,status:r,social:a,position:s,_csrf:l},success:function(n,o,s){e(t).attr("data-status",1==r?0:1);var a=1==r?"Article un-pinned successfully":"Article pinned successfully";1==r?e(t).removeClass("selected"):e(t).addClass("selected"),e.fn.General_ShowNotification({message:a}),i.onSuccess&&"function"==typeof i.onSuccess&&i.onSuccess(n,t)},error:function(e,n,o){i.onError&&"function"==typeof i.onError&&i.onError(t,e.responseText)},beforeSend:function(e,n){i.beforeSend&&"function"==typeof i.beforeSend&&i.beforeSend(t)},complete:function(e,n){i.onComplete&&"function"==typeof i.onComplete&&i.onComplete(t)}})}}))}))};var t=function(t,i,n,o){if(void 0!==t&&""!==t){var s=e('meta[name="csrf-token"]').attr("content");e.ajax({type:"POST",url:_appJsConfig.baseHttpPath+"/home/delete-article",dataType:"json",data:{guid:t,social:i,_csrf:s},success:function(t,s,r){var a=1==i?"Article deleted successfully":"Article hidden successfully";e.fn.General_ShowNotification({message:a}),o&&"function"==typeof o&&o(t,n)},error:function(t,i,n){e.fn.General_ShowErrorMessage({message:t.responseText})},beforeSend:function(e,t){},complete:function(e,t){}})}};e.fn.Ajax_deleteArticle=function(i){var n=e.extend({},{onSuccess:function(){},onError:function(){},beforeSend:function(){},onComplete:function(){}},i);return this.each((function(){var i=e(this);e(i).off("click"),e(i).on("click",(function(o){o.preventDefault();var s=e(i).data("social"),r=1==s?"Do you really want to delete this article?":"Do you really want to hide this article?",a=e(i).data("guid");"undefined"==typeof bootbox?!0===confirm(r)&&t(a,s,i,n.onSuccess):bootbox.confirm({title:"Confirm",message:r,callback:function(e){!0===e&&t(a,s,i,n.onSuccess)}})}))}))}}(jQuery),$.fn.Ajax_LoadSearchArticles=function(e){var t=$.extend({},{search:"",limit:20,containerClass:"ajaxArticles",onSuccess:function(){},onError:function(){},beforeSend:function(){},onComplete:function(){}},e),i=parseInt($("."+t.containerClass).data("offset"));(isNaN(i)||i<0)&&(i=t.limit),$("."+t.containerClass).data("offset",i+t.limit);var n=$('meta[name="csrf-token"]').attr("content");console.log({offset:i,limit:t.limit,search:t.search,_csrf:n}),$.ajax({type:"POST",url:_appJsConfig.baseHttpPath+"/search/load-articles",dataType:"JSON",data:{offset:i,limit:t.limit,search:t.search,_csrf:n},success:function(e,i,n){t.onSuccess&&"function"==typeof t.onSuccess&&t.onSuccess(e,i,n)},error:function(e,i,n){t.onError&&"function"==typeof t.onError&&t.onError(e,i,n)},beforeSend:function(e,i){t.beforeSend&&"function"==typeof t.beforeSend&&t.beforeSend(e,i)},complete:function(e,i){t.onComplete&&"function"==typeof t.onComplete&&t.onComplete(e,i)}})},function(e){e.fn.videoPlayer=function(t){var i=e.extend({},{type:"html",scrolling:"no",fitToView:!1,autoSize:!1,width:650,height:460,maxWidth:"90%",aspectRatio:!0,startVolume:.8,loop:!1,enableAutosize:!0,features:["playpause","progress","current","duration","tracks","volume","fullscreen"],alwaysShowControls:!1,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,enableKeyboard:!0,pauseOtherPlayers:!0},t);return this.click((function(t){t.preventDefault(),t.stopPropagation();var n,o,s=e(this),r=s.data("source"),a=s.data("poster"),l=s.data("caption");if("undefined"!==r.trim()&&""!==r.trim()){var c=s.data("video-id");"youtube"===r.trim()?(n=""!==c&&void 0!==c?"https://www.youtube.com/watch?v="+c:e(s).data("url"),o="<video width='"+i.width+"' height='"+i.height+"' class='videoPlayer' controls='controls' preload='none'><source type='video/youtube' src='"+n+"' /></video>"):"vimeo"===r.trim()?(n=""!==c&&void 0!==c?"https://vimeo.com/"+c:e(s).data("url"),i.features=[],o="<video width='"+i.width+"' height='"+i.height+"' class='videoPlayer' controls='controls' preload='none'><source type='video/vimeo' src='"+n+"' /></video>"):"cloudinary"===r.trim()||"instagram"===r.trim()||"twitter"===r.trim()||"facebook"===r?(n=s.data("url"),o="<video class ='videoPlayer' src='"+n+"' poster='"+a+"' width='"+i.width+"' height='"+i.height+"' controls='controls' preload='none' ></video>"):"brightcove"===r.trim()&&(playerID=c.toString().split("::")[2],accountID=c.toString().split("::")[1],c=c.toString().split("::")[0],""!=playerID&&"undefined"!=typeof playerID||(playerID="default"),n=""!==c&&void 0!==c?"https://players.brightcove.net/"+accountID+"/"+playerID+"_default/index.html?videoId="+c+"&playsinline":e(s).data("url"),i.features=[],i.width=window.innerWidth/3*2,i.height=9*i.width/16,o='<div style="display: block; position: relative; max-width: 100%;"><div style="padding-top: 56.25%;">                            <iframe src="//players.brightcove.net/'+accountID+"/"+playerID+"_default/index.html?videoId="+c+'&playsinline"                             allowfullscreen                            webkitallowfullscreen                            mozallowfullscreen                            style="width: 100%; height: 100%; position: absolute; top: 0px; bottom: 0px; right: 0px; left: 0px;"></iframe>                        </div></div>')}if(void 0!==n&&""!==n){var u,d=!1;e.fancybox({type:i.type,scrolling:i.scrolling,fitToView:i.fitToView,autoSize:i.autoSize,maxWidth:i.maxWidth,aspectRatio:i.aspectRatio,helpers:{overlay:{locked:!1}},beforeLoad:function(){this.content=o,this.title=l,this.width=i.width,this.height=i.height},afterShow:function(){"brightcove"!==r.trim()&&new MediaElementPlayer(".videoPlayer",{defaultVideoWidth:this.width,defaultVideoHeight:this.height,startVolume:i.startVolume,loop:i.loop,enableAutosize:i.enableAutosize,features:i.features,alwaysShowControls:i.alwaysShowControls,iPadUseNativeControls:i.iPadUseNativeControls,iPhoneUseNativeControls:i.iPhoneUseNativeControls,AndroidUseNativeControls:i.AndroidUseNativeControls,alwaysShowHours:i.alwaysShowHours,showTimecodeFrameCount:i.showTimecodeFrameCount,framesPerSecond:i.framesPerSecond,enableKeyboard:i.enableKeyboard,pauseOtherPlayers:i.pauseOtherPlayers,success:function(t,i){(u=t).load(),u.play(),u.addEventListener("playing",(function(){d=!0}),!1),"vimeo"==r.trim()&&(alert(),e(".mejs-controls").remove())}})},beforeClose:function(){d&&navigator.userAgent.match(/msie [6-8]/i)&&(u.remove(),d=!1)}})}}))}}(jQuery),function(e){e.urlParam=function(e){var t=window.location.href.split("/");return t[t.length-2]},e.fn.Ajax_LoadMoreUserArticles=function(t){var i=e.extend({},{container:"#userArticleContainer",onSuccess:function(){},onError:function(){},beforeSend:function(){},onComplete:function(){}},t),n=decodeURIComponent(e.urlParam()),o=parseInt(e(i.container).data("total-count")),s=parseInt(e(i.container).data("offset"));if(""!==n&&void 0!==n&&!(isNaN(o)||isNaN(s)||(s+=_appJsConfig.articleOffset)>o)){e(i.container).data("offset",s);var r=e('meta[name="csrf-token"]').attr("content");e.ajax({type:"POST",url:_appJsConfig.baseHttpPath+"/profile/"+n+"/posts",dataType:"json",data:{offset:s,_csrf:r},success:function(e,t,n){i.onSuccess&&"function"==typeof i.onSuccess&&i.onSuccess(e)},error:function(e,t,n){i.onError&&"function"==typeof i.onError&&i.onError(e.responseText)},beforeSend:function(e,t){i.beforeSend&&"function"==typeof i.beforeSend&&i.beforeSend()},complete:function(e,t){i.onComplete&&"function"==typeof i.onComplete&&i.onComplete()}})}},e.fn.Ajax_LoadMoreMyArticles=function(t){var i=e.extend({},{containerClass:"LoadMyArticles",onSuccess:function(){},onError:function(){},beforeSend:function(){},onComplete:function(){}},t),n=parseInt(e("."+i.containerClass).data("page"));(isNaN(n)||n<0)&&(n=1),e("."+i.containerClass).data("page",n+1);var o=e('meta[name="csrf-token"]').attr("content");e.ajax({type:"post",url:_appJsConfig.baseHttpPath+"/user/load-articles",dataType:"json",data:{page:n,limit:_appJsConfig.articleOffset,_csrf:o},success:function(e,t,n){i.onSuccess&&"function"==typeof i.onSuccess&&i.onSuccess(e,t,n)},error:function(e,t,n){i.onError&&"function"==typeof i.onError&&i.onError(e,t,n)},beforeSend:function(e,t){i.beforeSend&&"function"==typeof i.beforeSend&&i.beforeSend(e,t)},complete:function(e,t){i.onComplete&&"function"==typeof i.onComplete&&i.onComplete(e,t)}})}}(jQuery),function(e){e.image=function(t){var i=e.extend({},{media:{},height:500,width:500,mediaOptions:{}},t),n=i.media.id,o=i.media.path,s=i.media.cloudName;if(void 0!==s&&""!==s&&(e.cloudinary.config({cloud_name:s}),""!==n||""!==o)){var r=e.extend({},{height:i.height,width:i.width},i.mediaOptions);return e.cloudinary.url(n,r)}},e.video=function(t){var i=e.extend({},{media:{},width:700,height:400,mediaOptions:{}},t),n=i.media.videoId,o=i.media.path,s=i.media.cloudName;if(void 0!==s&&""!==s&&(e.cloudinary.config({cloud_name:s}),""!==n||""!==o)){var r=e.extend({},{height:i.height,width:i.width},i.mediaOptions);return e.cloudinary.video(n,r)}}}(jQuery),function(e){e.fn.uploadFile=function(t){var i=e.extend({},{tabs:[],onSuccess:function(){},onError:function(){}},t);return this.each((function(){var t=e(this);e(t).click((function(t){t.preventDefault(),t.stopPropagation();var n=e(this);e.loadScript("//api.filepicker.io/v2/filepicker.js",(function(){var t=e.extend([],["COMPUTER"],i.tabs);filepicker.setKey(_appJsConfig.filepickerKey),filepicker.pick({mimetype:"image/*",services:t},(function(e){var t={url:e.url,filename:e.filename,type:e.mimetype,size:e.size,mediaType:"image"};i.onSuccess&&"function"==typeof i.onSuccess&&i.onSuccess(t,n)}),(function(e){}))}))}))}))},e.loadScript=function(e,t){var i=document.createElement("script");i.type="text/javascript",i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()},i.src=e,document.getElementsByTagName("head")[0].appendChild(i)}}(jQuery);
/*!
 *
 * MediaElement.js
 * HTML5 <video> and <audio> shim and player
 * http://mediaelementjs.com/
 *
 * Creates a JavaScript object that mimics HTML5 MediaElement API
 * for browsers that don't understand HTML5 or can't play the provided codec
 * Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
 *
 * Copyright 2010-2014, John Dyer (http://j.hn)
 * License: MIT
 *
 */
var mejs=mejs||{};mejs.version="2.23.4",mejs.meIndex=0,mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mp4","audio/mpeg","video/dailymotion","video/x-dailymotion","application/x-mpegURL","audio/ogg"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]},mejs.Utility={encodeUrl:function(e){return encodeURIComponent(e)},escapeHTML:function(e){return e.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this.escapeHTML(e)+'">x</a>',t.firstChild.href},getScriptPath:function(e){for(var t,i,n,o,s,r=0,a="",l="",c=document.getElementsByTagName("script"),u=c.length,d=e.length;u>r;r++){for((i=(n=c[r].src).lastIndexOf("/"))>-1?(s=n.substring(i+1),o=n.substring(0,i+1)):(s=n,o=""),t=0;d>t;t++)if(l=e[t],s.indexOf(l)>-1){a=o;break}if(""!==a)break}return a},calculateTimeFormat:function(e,t,i){0>e&&(e=0),void 0===i&&(i=25);var n=t.timeFormat,o=n[0],s=n[1]==n[0],r=s?2:1,a=":",l=Math.floor(e/3600)%24,c=Math.floor(e/60)%60,u=Math.floor(e%60),d=[[Math.floor((e%1*i).toFixed(3)),"f"],[u,"s"],[c,"m"],[l,"h"]];n.length<r&&(a=n[r]);for(var p=!1,h=0,m=d.length;m>h;h++)if(-1!==n.indexOf(d[h][1]))p=!0;else if(p){for(var f=!1,g=h;m>g;g++)if(d[g][0]>0){f=!0;break}if(!f)break;s||(n=o+n),n=d[h][1]+a+n,s&&(n=d[h][1]+n),o=d[h][1]}t.currentTimeFormat=n},twoDigitsString:function(e){return 10>e?"0"+e:String(e)},secondsToTimeCode:function(e,t){if(0>e&&(e=0),"object"!=typeof t){var n="m:ss";n=arguments[1]?"hh:mm:ss":n,t={currentTimeFormat:n=arguments[2]?n+":ff":n,framesPerSecond:arguments[3]||25}}var o=t.framesPerSecond;void 0===o&&(o=25);n=t.currentTimeFormat;var s=Math.floor(e/3600)%24,r=Math.floor(e/60)%60,a=Math.floor(e%60),l=Math.floor((e%1*o).toFixed(3));lis=[[l,"f"],[a,"s"],[r,"m"],[s,"h"]];var c=n;for(i=0,len=lis.length;i<len;i++)c=(c=c.replace(lis[i][1]+lis[i][1],this.twoDigitsString(lis[i][0]))).replace(lis[i][1],lis[i][0]);return c},timeCodeToSeconds:function(e,t,i,n){void 0===i?i=!1:void 0===n&&(n=25);var o=e.split(":"),s=parseInt(o[0],10),r=parseInt(o[1],10),a=parseInt(o[2],10),l=0;return i&&(l=parseInt(o[3])/n),3600*s+60*r+a+l},convertSMPTEtoSeconds:function(e){if("string"!=typeof e)return!1;var t=0,i=-1!=(e=e.replace(",",".")).indexOf(".")?e.split(".")[1].length:0,n=1;e=e.split(":").reverse();for(var o=0;o<e.length;o++)n=1,o>0&&(n=Math.pow(60,o)),t+=Number(e[o])*n;return Number(t.toFixed(i))},removeSwf:function(e){var t=document.getElementById(e);t&&/object|embed/i.test(t.nodeName)&&(mejs.MediaFeatures.isIE?(t.style.display="none",function(){4==t.readyState?mejs.Utility.removeObjectInIE(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},removeObjectInIE:function(e){var t=document.getElementById(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}},determineScheme:function(e){return e&&-1!=e.indexOf("://")?e.substr(0,e.indexOf("://")+3):"//"},debounce:function(e,t,i){var n;return function(){var o=this,s=arguments,r=function(){n=null,i||e.apply(o,s)},a=i&&!n;clearTimeout(n),n=setTimeout(r,t),a&&e.apply(o,s)}},isNodeAfter:function(e,t){return!!(e&&t&&"function"==typeof e.compareDocumentPosition&&e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)}},mejs.PluginDetector={hasPluginVersion:function(e,t){var i=this.plugins[e];return t[1]=t[1]||0,t[2]=t[2]||0,i[0]>t[0]||i[0]==t[0]&&i[1]>t[1]||i[0]==t[0]&&i[1]==t[1]&&i[2]>=t[2]},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(e,t,i,n,o){this.plugins[e]=this.detectPlugin(t,i,n,o)},detectPlugin:function(e,t,i,n){var o,s,r,a=[0,0,0];if(void 0!==this.nav.plugins&&"object"==typeof this.nav.plugins[e]){if((o=this.nav.plugins[e].description)&&(void 0===this.nav.mimeTypes||!this.nav.mimeTypes[t]||this.nav.mimeTypes[t].enabledPlugin))for(a=o.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),s=0;s<a.length;s++)a[s]=parseInt(a[s].match(/\d+/),10)}else if(void 0!==window.ActiveXObject)try{(r=new ActiveXObject(i))&&(a=n(r))}catch(e){}return a}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",(function(e){var t=[],i=e.GetVariable("$version");return i&&(i=i.split(" ")[1].split(","),t=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]),t})),mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",(function(e){var t=[0,0,0,0],i=function(e,t,i,n){for(;e.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3]);)t[i]+=n;t[i]-=n};return i(e,t,0,1),i(e,t,1,1),i(e,t,2,1e4),i(e,t,2,1e3),i(e,t,2,100),i(e,t,2,10),i(e,t,2,1),i(e,t,3,1),t})),mejs.MediaFeatures={init:function(){var e,t,i=this,n=document,o=mejs.PluginDetector.nav,s=mejs.PluginDetector.ua.toLowerCase(),r=["source","track","audio","video"];i.isiPad=null!==s.match(/ipad/i),i.isiPhone=null!==s.match(/iphone/i),i.isiOS=i.isiPhone||i.isiPad,i.isAndroid=null!==s.match(/android/i),i.isBustedAndroid=null!==s.match(/android 2\.[12]/),i.isBustedNativeHTTPS="https:"===location.protocol&&(null!==s.match(/android [12]\./)||null!==s.match(/macintosh.* version.* safari/)),i.isIE=-1!=o.appName.toLowerCase().indexOf("microsoft")||null!==o.appName.toLowerCase().match(/trident/gi),i.isChrome=null!==s.match(/chrome/gi),i.isChromium=null!==s.match(/chromium/gi),i.isFirefox=null!==s.match(/firefox/gi),i.isWebkit=null!==s.match(/webkit/gi),i.isGecko=null!==s.match(/gecko/gi)&&!i.isWebkit&&!i.isIE,i.isOpera=null!==s.match(/opera/gi),i.hasTouch="ontouchstart"in window,i.svgAsImg=!!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1");for(e=0;e<r.length;e++)t=document.createElement(r[e]);i.supportsMediaTag=void 0!==t.canPlayType||i.isBustedAndroid;try{t.canPlayType("video/mp4")}catch(e){i.supportsMediaTag=!1}i.supportsPointerEvents=function(){var e,t=document.createElement("x"),i=document.documentElement,n=window.getComputedStyle;return"pointerEvents"in t.style&&(t.style.pointerEvents="auto",t.style.pointerEvents="x",i.appendChild(t),e=n&&"auto"===n(t,"").pointerEvents,i.removeChild(t),!!e)}(),i.hasFirefoxPluginMovingProblem=!1,i.hasiOSFullScreen=void 0!==t.webkitEnterFullscreen,i.hasNativeFullscreen=void 0!==t.requestFullscreen,i.hasWebkitNativeFullScreen=void 0!==t.webkitRequestFullScreen,i.hasMozNativeFullScreen=void 0!==t.mozRequestFullScreen,i.hasMsNativeFullScreen=void 0!==t.msRequestFullscreen,i.hasTrueNativeFullScreen=i.hasWebkitNativeFullScreen||i.hasMozNativeFullScreen||i.hasMsNativeFullScreen,i.nativeFullScreenEnabled=i.hasTrueNativeFullScreen,i.hasMozNativeFullScreen?i.nativeFullScreenEnabled=document.mozFullScreenEnabled:i.hasMsNativeFullScreen&&(i.nativeFullScreenEnabled=document.msFullscreenEnabled),i.isChrome&&(i.hasiOSFullScreen=!1),i.hasTrueNativeFullScreen&&(i.fullScreenEventName="",i.hasWebkitNativeFullScreen?i.fullScreenEventName="webkitfullscreenchange":i.hasMozNativeFullScreen?i.fullScreenEventName="mozfullscreenchange":i.hasMsNativeFullScreen&&(i.fullScreenEventName="MSFullscreenChange"),i.isFullScreen=function(){return i.hasMozNativeFullScreen?n.mozFullScreen:i.hasWebkitNativeFullScreen?n.webkitIsFullScreen:i.hasMsNativeFullScreen?null!==n.msFullscreenElement:void 0},i.requestFullScreen=function(e){i.hasWebkitNativeFullScreen?e.webkitRequestFullScreen():i.hasMozNativeFullScreen?e.mozRequestFullScreen():i.hasMsNativeFullScreen&&e.msRequestFullscreen()},i.cancelFullScreen=function(){i.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():i.hasMozNativeFullScreen?document.mozCancelFullScreen():i.hasMsNativeFullScreen&&document.msExitFullscreen()}),i.hasiOSFullScreen&&s.match(/mac os x 10_5/i)&&(i.hasNativeFullScreen=!1,i.hasiOSFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},stop:function(){this.pause()},setSrc:function(e){for(var t=this.getElementsByTagName("source");t.length>0;)this.removeChild(t[0]);var i,n;if("string"==typeof e)this.src=e;else for(i=0;i<e.length;i++)if(n=e[i],this.canPlayType(n.type)){this.src=n.src;break}},setVideoSize:function(e,t){this.width=e,this.height=t}},mejs.PluginMediaElement=function(e,t,i){this.id=e,this.pluginType=t,this.src=i,this.events={},this.attributes={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?1==this.pluginApi.getPlayerState()&&this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(e){var t,i,n,o=mejs.plugins[this.pluginType];for(t=0;t<o.length;t++)if(n=o[t],mejs.PluginDetector.hasPluginVersion(this.pluginType,n.version))for(i=0;i<n.types.length;i++)if(e==n.types[i])return"probably";return""},positionFullscreenButton:function(e,t,i){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(e),Math.floor(t),i)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(e){var t,i;if("string"==typeof e)this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e)),this.src=mejs.Utility.absolutizeUrl(e);else for(t=0;t<e.length;t++)if(i=e[t],this.canPlayType(i.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(i.src)),this.src=mejs.Utility.absolutizeUrl(i.src);break}},setCurrentTime:function(e){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.seekTo(e):this.pluginApi.setCurrentTime(e),this.currentTime=e)},setVolume:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.setVolume(100*e):this.pluginApi.setVolume(e),this.volume=e)},setMuted:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?(e?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=e,this.dispatchEvent({type:"volumechange"})):this.pluginApi.setMuted(e),this.muted=e)},setVideoSize:function(e,t){this.pluginElement&&this.pluginElement.style&&(this.pluginElement.style.width=e+"px",this.pluginElement.style.height=t+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(e,t)},setFullscreen:function(e){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(e)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(e,t,i){this.events[e]=this.events[e]||[],this.events[e].push(t)},removeEventListener:function(e,t){if(!e)return this.events={},!0;var i=this.events[e];if(!i)return!0;if(!t)return this.events[e]=[],!0;for(var n=0;n<i.length;n++)if(i[n]===t)return this.events[e].splice(n,1),!0;return!1},dispatchEvent:function(e){var t,i=this.events[e.type];if(i)for(t=0;t<i.length;t++)i[t].apply(this,[e])},hasAttribute:function(e){return e in this.attributes},removeAttribute:function(e){delete this.attributes[e]},getAttribute:function(e){return this.hasAttribute(e)?this.attributes[e]:null},setAttribute:function(e,t){this.attributes[e]=t},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id)}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",flashScriptAccess:"sameDomain",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,customError:"",success:function(){},error:function(){}},mejs.MediaElement=function(e,t){return mejs.HtmlMediaElementShim.create(e,t)},mejs.HtmlMediaElementShim={create:function(e,t){var i,n,o={},s="string"==typeof e?document.getElementById(e):e,r=s.tagName.toLowerCase(),a="audio"===r||"video"===r,l=a?s.getAttribute("src"):s.getAttribute("href"),c=s.getAttribute("poster"),u=s.getAttribute("autoplay"),d=s.getAttribute("preload"),p=s.getAttribute("controls");for(n in mejs.MediaElementDefaults)o[n]=mejs.MediaElementDefaults[n];for(n in t)o[n]=t[n];return l=null==l||""==l?null:l,c=null==c?"":c,d=null==d||"false"===d?"none":d,u=!(null==u||"false"===u),p=!(null==p||"false"===p),(i=this.determinePlayback(s,o,mejs.MediaFeatures.supportsMediaTag,a,l)).url=null!==i.url?mejs.Utility.absolutizeUrl(i.url):"",i.scheme=mejs.Utility.determineScheme(i.url),"native"==i.method?(mejs.MediaFeatures.isBustedAndroid&&(s.src=i.url,s.addEventListener("click",(function(){s.play()}),!1)),this.updateNative(i,o,u,d)):""!==i.method?this.createPlugin(i,o,c,u,d,p):(this.createErrorMessage(i,o,c),this)},determinePlayback:function(e,t,i,n,o){var s,r,a,l,c,u,d,p,h,m,f,g=[],v={method:"",url:"",htmlMediaElement:e,isVideo:"audio"!==e.tagName.toLowerCase(),scheme:""};if(void 0!==t.type&&""!==t.type)if("string"==typeof t.type)g.push({type:t.type,url:o});else for(s=0;s<t.type.length;s++)g.push({type:t.type[s],url:o});else if(null!==o)u=this.formatType(o,e.getAttribute("type")),g.push({type:u,url:o});else for(s=0;s<e.childNodes.length;s++)1==(c=e.childNodes[s]).nodeType&&"source"==c.tagName.toLowerCase()&&(o=c.getAttribute("src"),u=this.formatType(o,c.getAttribute("type")),(!(f=c.getAttribute("media"))||!window.matchMedia||window.matchMedia&&window.matchMedia(f).matches)&&g.push({type:u,url:o}));if(!n&&g.length>0&&null!==g[0].url&&this.getTypeFromFile(g[0].url).indexOf("audio")>-1&&(v.isVideo=!1),v.isVideo&&mejs.MediaFeatures.isBustedAndroid&&(e.canPlayType=function(e){return null!==e.match(/video\/(mp4|m4v)/gi)?"maybe":""}),v.isVideo&&mejs.MediaFeatures.isChromium&&(e.canPlayType=function(e){return null!==e.match(/video\/(webm|ogv|ogg)/gi)?"maybe":""}),i&&("auto"===t.mode||"auto_plugin"===t.mode||"native"===t.mode)&&(!mejs.MediaFeatures.isBustedNativeHTTPS||!0!==t.httpsBasicAuthSite)){for(n||(m=document.createElement(v.isVideo?"video":"audio"),e.parentNode.insertBefore(m,e),e.style.display="none",v.htmlMediaElement=e=m),s=0;s<g.length;s++)if("video/m3u8"==g[s].type||""!==e.canPlayType(g[s].type).replace(/no/,"")||""!==e.canPlayType(g[s].type.replace(/mp3/,"mpeg")).replace(/no/,"")||""!==e.canPlayType(g[s].type.replace(/m4a/,"mp4")).replace(/no/,"")){v.method="native",v.url=g[s].url;break}if("native"===v.method&&(null!==v.url&&(e.src=v.url),"auto_plugin"!==t.mode))return v}if("auto"===t.mode||"auto_plugin"===t.mode||"shim"===t.mode)for(s=0;s<g.length;s++)for(u=g[s].type,r=0;r<t.plugins.length;r++)for(d=t.plugins[r],p=mejs.plugins[d],a=0;a<p.length;a++)if(null==(h=p[a]).version||mejs.PluginDetector.hasPluginVersion(d,h.version))for(l=0;l<h.types.length;l++)if(u.toLowerCase()==h.types[l].toLowerCase())return v.method=d,v.url=g[s].url,v;return"auto_plugin"===t.mode&&"native"===v.method||""===v.method&&g.length>0&&(v.url=g[0].url),v},formatType:function(e,t){return e&&!t?this.getTypeFromFile(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t},getTypeFromFile:function(e){var t=(e=e.split("?")[0]).substring(e.lastIndexOf(".")+1).toLowerCase(),i=/(mp4|m4v|ogg|ogv|m3u8|webm|webmv|flv|wmv|mpeg|mov)/gi.test(t)?"video/":"audio/";return this.getTypeFromExtension(t,i)},getTypeFromExtension:function(e,t){switch(t=t||"",e){case"mp4":case"m4v":case"m4a":case"f4v":case"f4a":return t+"mp4";case"flv":return t+"x-flv";case"webm":case"webma":case"webmv":return t+"webm";case"ogg":case"oga":case"ogv":return t+"ogg";case"m3u8":return"application/x-mpegurl";case"ts":return t+"mp2t";default:return t+e}},createErrorMessage:function(e,t,i){var n=e.htmlMediaElement,o=document.createElement("div"),s=t.customError;o.className="me-cannotplay";try{o.style.width=n.width+"px",o.style.height=n.height+"px"}catch(e){}s||(s='<a href="'+e.url+'">',""!==i&&(s+='<img src="'+i+'" width="100%" height="100%" alt="" />'),s+="<span>"+mejs.i18n.t("mejs.download-file")+"</span></a>"),o.innerHTML=s,n.parentNode.insertBefore(o,n),n.style.display="none",t.error(n)},createPlugin:function(e,t,i,n,o,s){var r,a,l,c=e.htmlMediaElement,u=1,d=1,p="me_"+e.method+"_"+mejs.meIndex++,h=new mejs.PluginMediaElement(p,e.method,e.url),m=document.createElement("div");h.tagName=c.tagName;for(var f=0;f<c.attributes.length;f++){var g=c.attributes[f];g.specified&&h.setAttribute(g.name,g.value)}for(a=c.parentNode;null!==a&&null!=a.tagName&&"body"!==a.tagName.toLowerCase()&&null!=a.parentNode&&null!=a.parentNode.tagName&&null!=a.parentNode.constructor&&"ShadowRoot"===a.parentNode.constructor.name;){if("p"===a.parentNode.tagName.toLowerCase()){a.parentNode.parentNode.insertBefore(a,a.parentNode);break}a=a.parentNode}if(e.isVideo?(u=t.pluginWidth>0?t.pluginWidth:t.videoWidth>0?t.videoWidth:null!==c.getAttribute("width")?c.getAttribute("width"):t.defaultVideoWidth,d=t.pluginHeight>0?t.pluginHeight:t.videoHeight>0?t.videoHeight:null!==c.getAttribute("height")?c.getAttribute("height"):t.defaultVideoHeight,u=mejs.Utility.encodeUrl(u),d=mejs.Utility.encodeUrl(d)):t.enablePluginDebug&&(u=320,d=240),h.success=t.success,m.className="me-plugin",m.id=p+"_container",e.isVideo?c.parentNode.insertBefore(m,c):document.body.insertBefore(m,document.body.childNodes[0]),"flash"===e.method||"silverlight"===e.method){var v="audio/mp4"===c.getAttribute("type"),y=c.getElementsByTagName("source");if(y&&!v){f=0;for(var b=y.length;b>f;f++)"audio/mp4"===y[f].getAttribute("type")&&(v=!0)}l=["id="+p,"isvideo="+(e.isVideo||v?"true":"false"),"autoplay="+(n?"true":"false"),"preload="+o,"width="+u,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"flashstreamer="+t.flashStreamer,"height="+d,"pseudostreamstart="+t.pseudoStreamingStartQueryParam],null!==e.url&&("flash"==e.method?l.push("file="+mejs.Utility.encodeUrl(e.url)):l.push("file="+e.url)),t.enablePluginDebug&&l.push("debug=true"),t.enablePluginSmoothing&&l.push("smoothing=true"),t.enablePseudoStreaming&&l.push("pseudostreaming=true"),s&&l.push("controls=true"),t.pluginVars&&(l=l.concat(t.pluginVars)),window[p+"_init"]=function(){switch(h.pluginType){case"flash":h.pluginElement=h.pluginApi=document.getElementById(p);break;case"silverlight":h.pluginElement=document.getElementById(h.id),h.pluginApi=h.pluginElement.Content.MediaElementJS}null!=h.pluginApi&&h.success&&h.success(h,c)},window[p+"_event"]=function(e,t){var i,n,o;for(n in i={type:e,target:h},t)h[n]=t[n],i[n]=t[n];o=t.bufferedTime||0,i.target.buffered=i.buffered={start:function(e){return 0},end:function(e){return o},length:1},h.dispatchEvent(i)}}switch(e.method){case"silverlight":m.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+p+'" name="'+p+'" width="'+u+'" height="'+d+'" class="mejs-shim"><param name="initParams" value="'+l.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+t.pluginPath+t.silverlightName+'" /></object>';break;case"flash":mejs.MediaFeatures.isIE?(r=document.createElement("div"),m.appendChild(r),r.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+p+'" width="'+u+'" height="'+d+'" class="mejs-shim"><param name="movie" value="'+t.pluginPath+t.flashName+"?"+(new Date).getTime()+'" /><param name="flashvars" value="'+l.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+t.flashScriptAccess+'" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>'):m.innerHTML='<embed id="'+p+'" name="'+p+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="'+t.flashScriptAccess+'" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+t.pluginPath+t.flashName+'" flashvars="'+l.join("&")+'" width="'+u+'" height="'+d+'" scale="default"class="mejs-shim"></embed>';break;case"youtube":var w;if(-1!=e.url.lastIndexOf("youtu.be"))-1!=(w=e.url.substr(e.url.lastIndexOf("/")+1)).indexOf("?")&&(w=w.substr(0,w.indexOf("?")));else{var _=e.url.match(/[?&]v=([^&#]+)|&|#|$/);_&&(w=_[1])}youtubeSettings={container:m,containerId:m.id,pluginMediaElement:h,pluginId:p,videoId:w,height:d,width:u,scheme:e.scheme,variables:t.youtubeIframeVars},window.postMessage?mejs.YouTubeApi.enqueueIframe(youtubeSettings):mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])&&mejs.YouTubeApi.createFlash(youtubeSettings,t);break;case"vimeo":var C=p+"_player";if(h.vimeoid=e.url.substr(e.url.lastIndexOf("/")+1),m.innerHTML='<iframe src="'+e.scheme+"player.vimeo.com/video/"+h.vimeoid+"?api=1&portrait=0&byline=0&title=0&player_id="+C+'" width="'+u+'" height="'+d+'" frameborder="0" class="mejs-shim" id="'+C+'" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',"function"==typeof $f){var x=$f(m.childNodes[0]),A=-1;x.addEvent("ready",(function(){function e(e,t,i,n){var o={type:i,target:t};"timeupdate"==i&&(t.currentTime=o.currentTime=n.seconds,t.duration=o.duration=n.duration),t.dispatchEvent(o)}x.playVideo=function(){x.api("play")},x.stopVideo=function(){x.api("unload")},x.pauseVideo=function(){x.api("pause")},x.seekTo=function(e){x.api("seekTo",e)},x.setVolume=function(e){x.api("setVolume",e)},x.setMuted=function(e){e?(x.lastVolume=x.api("getVolume"),x.api("setVolume",0)):(x.api("setVolume",x.lastVolume),delete x.lastVolume)},x.getPlayerState=function(){return A},x.addEvent("play",(function(){A=1,e(0,h,"play"),e(0,h,"playing")})),x.addEvent("pause",(function(){A=2,e(0,h,"pause")})),x.addEvent("finish",(function(){A=0,e(0,h,"ended")})),x.addEvent("playProgress",(function(t){e(0,h,"timeupdate",t)})),x.addEvent("seek",(function(t){A=3,e(0,h,"seeked",t)})),x.addEvent("loadProgress",(function(t){A=3,e(0,h,"progress",t)})),h.pluginElement=m,h.pluginApi=x,h.success(h,h.pluginElement)}))}else console.warn("You need to include froogaloop for vimeo to work")}return c.style.display="none",c.removeAttribute("autoplay"),h},updateNative:function(e,t,i,n){var o,s=e.htmlMediaElement;for(o in mejs.HtmlMediaElement)s[o]=mejs.HtmlMediaElement[o];return t.success(s,s),s}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(e){if(!this.isIframeStarted){var t=document.createElement("script");t.src=e.scheme+"www.youtube.com/player_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(e){this.isLoaded?this.createIframe(e):(this.loadIframeApi(e),this.iframeQueue.push(e))},createIframe:function(e){var t=e.pluginMediaElement,i=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:mejs.$.extend({},{controls:0,wmode:"transparent"},e.variables),events:{onReady:function(n){i.setVideoSize=function(e,t){i.setSize(e,t)},e.pluginMediaElement.pluginApi=i,e.pluginMediaElement.pluginElement=document.getElementById(e.containerId),t.success(t,t.pluginElement),mejs.YouTubeApi.createEvent(i,t,"canplay"),setInterval((function(){mejs.YouTubeApi.createEvent(i,t,"timeupdate")}),250),void 0!==t.attributes.autoplay&&i.playVideo()},onStateChange:function(e){mejs.YouTubeApi.handleStateChange(e.data,i,t)}}})},createEvent:function(e,t,i){var n={type:i,target:t};if(e&&e.getDuration){t.currentTime=n.currentTime=e.getCurrentTime(),t.duration=n.duration=e.getDuration(),n.paused=t.paused,n.ended=t.ended,n.muted=e.isMuted(),n.volume=e.getVolume()/100,n.bytesTotal=e.getVideoBytesTotal(),n.bufferedBytes=e.getVideoBytesLoaded();var o=n.bufferedBytes/n.bytesTotal*n.duration;n.target.buffered=n.buffered={start:function(e){return 0},end:function(e){return o},length:1}}t.dispatchEvent(n)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var e=this.iframeQueue.pop();this.createIframe(e)}},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var t,i=e.scheme+"www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+e.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(t=document.createElement("div"),e.container.appendChild(t),t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+e.scheme+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'" class="mejs-shim"><param name="movie" value="'+i+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+options.flashScriptAccess+'" /><param name="allowFullScreen" value="true" /></object>'):e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+i+'" width="'+e.width+'" height="'+e.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="'+options.flashScriptAccess+'"><param name="wmode" value="transparent"></object>'},flashReady:function(e){var t=this.flashPlayers[e],i=document.getElementById(e),n=t.pluginMediaElement;n.pluginApi=n.pluginElement=i,t.success(n,n.pluginElement),i.cueVideoById(t.videoId);var o=t.containerId+"_callback";window[o]=function(e){mejs.YouTubeApi.handleStateChange(e,i,n)},i.addEventListener("onStateChange",o),setInterval((function(){mejs.YouTubeApi.createEvent(i,n,"timeupdate")}),250),mejs.YouTubeApi.createEvent(i,n,"canplay")},handleStateChange:function(e,t,i){switch(e){case-1:i.paused=!0,i.ended=!0,mejs.YouTubeApi.createEvent(t,i,"loadedmetadata");break;case 0:i.paused=!1,i.ended=!0,mejs.YouTubeApi.createEvent(t,i,"ended");break;case 1:i.paused=!1,i.ended=!1,mejs.YouTubeApi.createEvent(t,i,"play"),mejs.YouTubeApi.createEvent(t,i,"playing");break;case 2:i.paused=!0,i.ended=!1,mejs.YouTubeApi.createEvent(t,i,"pause");break;case 3:mejs.YouTubeApi.createEvent(t,i,"progress")}}},window.onYouTubePlayerAPIReady=function(){mejs.YouTubeApi.iFrameReady()},window.onYouTubePlayerReady=function(e){mejs.YouTubeApi.flashReady(e)},window.mejs=mejs,window.MediaElement=mejs.MediaElement,function(e,t,i,n){var o={default:"en",locale:{language:i.i18n&&i.i18n.locale.language||"",strings:i.i18n&&i.i18n.locale.strings||{}},pluralForms:[function(){return arguments[1]},function(){var e=arguments;return 1===e[0]?e[1]:e[2]},function(){var e=arguments;return[0,1].indexOf(e[0])>-1?e[1]:e[2]},function(){var e=arguments;return e[0]%10==1&&e[0]%100!=11?e[1]:0!==e[0]?e[2]:e[3]},function(){var e=arguments;return 1===e[0]||11===e[0]?e[1]:2===e[0]||12===e[0]?e[2]:e[0]>2&&e[0]<20?e[3]:e[4]},function(){return 1===args[0]?args[1]:0===args[0]||args[0]%100>0&&args[0]%100<20?args[2]:args[3]},function(){var e=arguments;return e[0]%10==1&&e[0]%100!=11?e[1]:e[0]%10>=2&&(e[0]%100<10||e[0]%100>=20)?e[2]:[3]},function(){var e=arguments;return e[0]%10==1&&e[0]%100!=11?e[1]:e[0]%10>=2&&e[0]%10<=4&&(e[0]%100<10||e[0]%100>=20)?e[2]:e[3]},function(){var e=arguments;return 1===e[0]?e[1]:e[0]>=2&&e[0]<=4?e[2]:e[3]},function(){var e=arguments;return 1===e[0]?e[1]:e[0]%10>=2&&e[0]%10<=4&&(e[0]%100<10||e[0]%100>=20)?e[2]:e[3]},function(){var e=arguments;return e[0]%100==1?e[2]:e[0]%100==2?e[3]:e[0]%100==3||e[0]%100==4?e[4]:e[1]},function(){var e=arguments;return 1===e[0]?e[1]:2===e[0]?e[2]:e[0]>2&&e[0]<7?e[3]:e[0]>6&&e[0]<11?e[4]:e[5]},function(){var e=arguments;return 0===e[0]?e[1]:1===e[0]?e[2]:2===e[0]?e[3]:e[0]%100>=3&&e[0]%100<=10?e[4]:e[0]%100>=11?e[5]:e[6]},function(){var e=arguments;return 1===e[0]?e[1]:0===e[0]||e[0]%100>1&&e[0]%100<11?e[2]:e[0]%100>10&&e[0]%100<20?e[3]:e[4]},function(){var e=arguments;return e[0]%10==1?e[1]:e[0]%10==2?e[2]:e[3]},function(){var e=arguments;return 11!==e[0]&&e[0]%10==1?e[1]:e[2]},function(){var e=arguments;return 1===e[0]?e[1]:e[0]%10>=2&&e[0]%10<=4&&(e[0]%100<10||e[0]%100>=20)?e[2]:e[3]},function(){var e=arguments;return 1===e[0]?e[1]:2===e[0]?e[2]:8!==e[0]&&11!==e[0]?e[3]:e[4]},function(){var e=arguments;return 0===e[0]?e[1]:e[2]},function(){var e=arguments;return 1===e[0]?e[1]:2===e[0]?e[2]:3===e[0]?e[3]:e[4]},function(){var e=arguments;return 0===e[0]?e[1]:1===e[0]?e[2]:e[3]}],getLanguage:function(){var e=o.locale.language||o.default;return/^(x\-)?[a-z]{2,}(\-\w{2,})?(\-\w{2,})?$/.exec(e)?e:o.default},t:function(e,t){if("string"==typeof e&&e.length){var i,n,s=o.getLanguage(),r=function(e,t,i){return"object"!=typeof e||"number"!=typeof t||"number"!=typeof i||"string"==typeof e?e:o.pluralForms[i].apply(null,[t].concat(e))};return o.locale.strings&&o.locale.strings[s]&&(i=o.locale.strings[s][e],"number"==typeof t&&(n=o.locale.strings[s]["mejs.plural-form"],i=r.apply(null,[i,t,n]))),!i&&o.locale.strings&&o.locale.strings[o.default]&&(i=o.locale.strings[o.default][e],"number"==typeof t&&(n=o.locale.strings[o.default]["mejs.plural-form"],i=r.apply(null,[i,t,n]))),i=i||e,"number"==typeof t&&(i=i.replace("%1",t)),function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return e.replace(/[&<>"]/g,(function(e){return t[e]}))}(i)}return e}};"undefined"!=typeof mejsL10n&&(o.locale.language=mejsL10n.language),i.i18n=o}(document,window,mejs),function(e,t){"use strict";"undefined"!=typeof mejsL10n&&(e[mejsL10n.lang]=mejsL10n.strings)}(mejs.i18n.locale.strings),
/*!
 * This is a i18n.locale language object.
 *
 * English; This can serve as a template for other languages to translate
 *
 * @author
 *   TBD
 *   Sascha Greuel (Twitter: @SoftCreatR)
 *
 * @see
 *   me-i18n.js
 *
 * @params
 *  - exports - CommonJS, window ..
 */
function(e){"use strict";void 0===e.en&&(e.en={"mejs.plural-form":1,"mejs.download-file":"Download File","mejs.fullscreen-off":"Turn off Fullscreen","mejs.fullscreen-on":"Go Fullscreen","mejs.download-video":"Download Video","mejs.fullscreen":"Fullscreen","mejs.time-jump-forward":["Jump forward 1 second","Jump forward %1 seconds"],"mejs.play":"Play","mejs.pause":"Pause","mejs.close":"Close","mejs.time-slider":"Time Slider","mejs.time-help-text":"Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.","mejs.time-skip-back":["Skip back 1 second","Skip back %1 seconds"],"mejs.captions-subtitles":"Captions/Subtitles","mejs.none":"None","mejs.mute-toggle":"Mute Toggle","mejs.volume-help-text":"Use Up/Down Arrow keys to increase or decrease volume.","mejs.unmute":"Unmute","mejs.mute":"Mute","mejs.volume-slider":"Volume Slider","mejs.video-player":"Video Player","mejs.audio-player":"Audio Player","mejs.ad-skip":"Skip ad","mejs.ad-skip-info":["Skip in 1 second","Skip in %1 seconds"],"mejs.source-chooser":"Source Chooser"})}(mejs.i18n.locale.strings),
/*!
 *
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2013, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
"undefined"!=typeof jQuery?mejs.$=jQuery:"undefined"!=typeof Zepto?(mejs.$=Zepto,Zepto.fn.outerWidth=function(e){var t=$(this).width();return e&&(t+=parseInt($(this).css("margin-right"),10),t+=parseInt($(this).css("margin-left"),10)),t}):"undefined"!=typeof ender&&(mejs.$=ender),function(e){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return.05*e.duration},defaultSeekForwardInterval:function(e){return.05*e.duration},setDimensions:!0,audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,timeFormat:"",alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,controlsTimeoutDefault:1500,controlsTimeoutMouseEnter:2500,controlsTimeoutMouseLeave:1e3,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,stretching:"auto",enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(e,t,i,n){mejs.MediaFeatures.isFirefox||(t.paused||t.ended?t.play():t.pause())}},{keys:[38],action:function(e,t,i,n){e.container.find(".mejs-volume-slider").css("display","block"),e.isVideo&&(e.showControls(),e.startControlsTimer());var o=Math.min(t.volume+.1,1);t.setVolume(o)}},{keys:[40],action:function(e,t,i,n){e.container.find(".mejs-volume-slider").css("display","block"),e.isVideo&&(e.showControls(),e.startControlsTimer());var o=Math.max(t.volume-.1,0);t.setVolume(o)}},{keys:[37,227],action:function(e,t,i,n){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var o=Math.max(t.currentTime-e.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(o)}}},{keys:[39,228],action:function(e,t,i,n){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var o=Math.min(t.currentTime+e.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(o)}}},{keys:[70],action:function(e,t,i,n){void 0!==e.enterFullScreen&&(e.isFullScreen?e.exitFullScreen():e.enterFullScreen())}},{keys:[77],action:function(e,t,i,n){e.container.find(".mejs-volume-slider").css("display","block"),e.isVideo&&(e.showControls(),e.startControlsTimer()),e.media.muted?e.setMuted(!1):e.setMuted(!0)}}]},mejs.mepIndex=0,mejs.players={},mejs.MediaElementPlayer=function(t,i){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(t,i);var n=this;return n.$media=n.$node=e(t),n.node=n.media=n.$media[0],n.node?void 0!==n.node.player?n.node.player:(void 0===i&&(i=n.$node.data("mejsoptions")),n.options=e.extend({},mejs.MepDefaults,i),n.options.timeFormat||(n.options.timeFormat="mm:ss",n.options.alwaysShowHours&&(n.options.timeFormat="hh:mm:ss"),n.options.showTimecodeFrameCount&&(n.options.timeFormat+=":ff")),mejs.Utility.calculateTimeFormat(0,n.options,n.options.framesPerSecond||25),n.id="mep_"+mejs.mepIndex++,mejs.players[n.id]=n,n.init(),n):void 0},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var t=this,i=mejs.MediaFeatures,n=e.extend(!0,{},t.options,{success:function(e,i){t.meReady(e,i)},error:function(e){t.handleError(e)}}),o=t.media.tagName.toLowerCase();if(t.isDynamic="audio"!==o&&"video"!==o,t.isDynamic?t.isVideo=t.options.isVideo:t.isVideo="audio"!==o&&t.options.isVideo,i.isiPad&&t.options.iPadUseNativeControls||i.isiPhone&&t.options.iPhoneUseNativeControls)t.$media.attr("controls","controls"),i.isiPad&&null!==t.media.getAttribute("autoplay")&&t.play();else if(i.isAndroid&&t.options.AndroidUseNativeControls);else if(t.isVideo||!t.isVideo&&t.options.features.length){t.$media.removeAttr("controls");var s=t.isVideo?mejs.i18n.t("mejs.video-player"):mejs.i18n.t("mejs.audio-player");e('<span class="mejs-offscreen">'+s+"</span>").insertBefore(t.$media),t.container=e('<div id="'+t.id+'" class="mejs-container '+(mejs.MediaFeatures.svgAsImg?"svg":"no-svg")+'" tabindex="0" role="application" aria-label="'+s+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(t.$media[0].className).insertBefore(t.$media).focus((function(e){if(!t.controlsAreVisible&&!t.hasFocus&&t.controlsEnabled&&(t.showControls(!0),!t.hasMsNativeFullScreen)){var i=".mejs-playpause-button > button";mejs.Utility.isNodeAfter(e.relatedTarget,t.container[0])&&(i=".mejs-controls .mejs-button:last-child > button"),t.container.find(i).focus()}})),t.options.features.length||t.container.css("background","transparent").find(".mejs-controls").hide(),t.isVideo&&"fill"===t.options.stretching&&!t.container.parent("mejs-fill-container").length&&(t.outerContainer=t.$media.parent(),t.container.wrap('<div class="mejs-fill-container"/>')),t.container.addClass((i.isAndroid?"mejs-android ":"")+(i.isiOS?"mejs-ios ":"")+(i.isiPad?"mejs-ipad ":"")+(i.isiPhone?"mejs-iphone ":"")+(t.isVideo?"mejs-video ":"mejs-audio ")),t.container.find(".mejs-mediaelement").append(t.$media),t.node.player=t,t.controls=t.container.find(".mejs-controls"),t.layers=t.container.find(".mejs-layers");var r=t.isVideo?"video":"audio",a=r.substring(0,1).toUpperCase()+r.substring(1);t.options[r+"Width"]>0||t.options[r+"Width"].toString().indexOf("%")>-1?t.width=t.options[r+"Width"]:""!==t.media.style.width&&null!==t.media.style.width?t.width=t.media.style.width:null!==t.media.getAttribute("width")?t.width=t.$media.attr("width"):t.width=t.options["default"+a+"Width"],t.options[r+"Height"]>0||t.options[r+"Height"].toString().indexOf("%")>-1?t.height=t.options[r+"Height"]:""!==t.media.style.height&&null!==t.media.style.height?t.height=t.media.style.height:null!==t.$media[0].getAttribute("height")?t.height=t.$media.attr("height"):t.height=t.options["default"+a+"Height"],t.setPlayerSize(t.width,t.height),n.pluginWidth=t.width,n.pluginHeight=t.height}else t.isVideo||t.options.features.length||t.$media.hide();mejs.MediaElement(t.$media[0],n),void 0!==t.container&&t.options.features.length&&t.controlsAreVisible&&t.container.trigger("controlsshown")},showControls:function(e){var t=this;e=void 0===e||e,t.controlsAreVisible||(e?(t.controls.removeClass("mejs-offscreen").stop(!0,!0).fadeIn(200,(function(){t.controlsAreVisible=!0,t.container.trigger("controlsshown")})),t.container.find(".mejs-control").removeClass("mejs-offscreen").stop(!0,!0).fadeIn(200,(function(){t.controlsAreVisible=!0}))):(t.controls.removeClass("mejs-offscreen").css("display","block"),t.container.find(".mejs-control").removeClass("mejs-offscreen").css("display","block"),t.controlsAreVisible=!0,t.container.trigger("controlsshown")),t.setControlsSize())},hideControls:function(t){var i=this;t=void 0===t||t,!i.controlsAreVisible||i.options.alwaysShowControls||i.keyboardAction||i.media.paused||i.media.ended||(t?(i.controls.stop(!0,!0).fadeOut(200,(function(){e(this).addClass("mejs-offscreen").css("display","block"),i.controlsAreVisible=!1,i.container.trigger("controlshidden")})),i.container.find(".mejs-control").stop(!0,!0).fadeOut(200,(function(){e(this).addClass("mejs-offscreen").css("display","block")}))):(i.controls.addClass("mejs-offscreen").css("display","block"),i.container.find(".mejs-control").addClass("mejs-offscreen").css("display","block"),i.controlsAreVisible=!1,i.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(e){var t=this;e=void 0!==e?e:t.options.controlsTimeoutDefault,t.killControlsTimer("start"),t.controlsTimer=setTimeout((function(){t.hideControls(),t.killControlsTimer("hide")}),e)},killControlsTimer:function(e){var t=this;null!==t.controlsTimer&&(clearTimeout(t.controlsTimer),delete t.controlsTimer,t.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){this.killControlsTimer(),this.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){this.showControls(!1),this.controlsEnabled=!0},meReady:function(t,i){var n,o,s=this,r=mejs.MediaFeatures,a=i.getAttribute("autoplay"),l=!(null==a||"false"===a);if(!s.created){if(s.created=!0,s.media=t,s.domNode=i,!(r.isAndroid&&s.options.AndroidUseNativeControls||r.isiPad&&s.options.iPadUseNativeControls||r.isiPhone&&s.options.iPhoneUseNativeControls)){if(!s.isVideo&&!s.options.features.length)return l&&"native"==t.pluginType&&s.play(),void(s.options.success&&("string"==typeof s.options.success?window[s.options.success](s.media,s.domNode,s):s.options.success(s.media,s.domNode,s)));for(n in s.buildposter(s,s.controls,s.layers,s.media),s.buildkeyboard(s,s.controls,s.layers,s.media),s.buildoverlays(s,s.controls,s.layers,s.media),s.findTracks(),s.options.features)if(o=s.options.features[n],s["build"+o])try{s["build"+o](s,s.controls,s.layers,s.media)}catch(e){}s.container.trigger("controlsready"),s.setPlayerSize(s.width,s.height),s.setControlsSize(),s.isVideo&&(mejs.MediaFeatures.hasTouch&&!s.options.alwaysShowControls?s.$media.bind("touchstart",(function(){s.controlsAreVisible?s.hideControls(!1):s.controlsEnabled&&s.showControls(!1)})):(s.clickToPlayPauseCallback=function(){if(s.options.clickToPlayPause){s.media.paused?s.play():s.pause();var e=s.$media.closest(".mejs-container").find(".mejs-overlay-button"),t=e.attr("aria-pressed");e.attr("aria-pressed",!t)}},s.media.addEventListener("click",s.clickToPlayPauseCallback,!1),s.container.bind("mouseenter",(function(){s.controlsEnabled&&(s.options.alwaysShowControls||(s.killControlsTimer("enter"),s.showControls(),s.startControlsTimer(s.options.controlsTimeoutMouseEnter)))})).bind("mousemove",(function(){s.controlsEnabled&&(s.controlsAreVisible||s.showControls(),s.options.alwaysShowControls||s.startControlsTimer(s.options.controlsTimeoutMouseEnter))})).bind("mouseleave",(function(){s.controlsEnabled&&(s.media.paused||s.options.alwaysShowControls||s.startControlsTimer(s.options.controlsTimeoutMouseLeave))}))),s.options.hideVideoControlsOnLoad&&s.hideControls(!1),l&&!s.options.alwaysShowControls&&s.hideControls(),s.options.enableAutosize&&s.media.addEventListener("loadedmetadata",(function(e){s.options.videoHeight<=0&&null===s.domNode.getAttribute("height")&&!isNaN(e.target.videoHeight)&&(s.setPlayerSize(e.target.videoWidth,e.target.videoHeight),s.setControlsSize(),s.media.setVideoSize(e.target.videoWidth,e.target.videoHeight))}),!1)),s.media.addEventListener("play",(function(){var e;for(e in mejs.players){var t=mejs.players[e];t.id==s.id||!s.options.pauseOtherPlayers||t.paused||t.ended||t.pause(),t.hasFocus=!1}s.hasFocus=!0}),!1),s.media.addEventListener("ended",(function(t){if(s.options.autoRewind)try{s.media.setCurrentTime(0),window.setTimeout((function(){e(s.container).find(".mejs-overlay-loading").parent().hide()}),20)}catch(e){}"youtube"===s.media.pluginType?s.media.stop():s.media.pause(),s.setProgressRail&&s.setProgressRail(),s.setCurrentRail&&s.setCurrentRail(),s.options.loop?s.play():!s.options.alwaysShowControls&&s.controlsEnabled&&s.showControls()}),!1),s.media.addEventListener("loadedmetadata",(function(){mejs.Utility.calculateTimeFormat(s.duration,s.options,s.options.framesPerSecond||25),s.updateDuration&&s.updateDuration(),s.updateCurrent&&s.updateCurrent(),s.isFullScreen||(s.setPlayerSize(s.width,s.height),s.setControlsSize())}),!1);var c=null;s.media.addEventListener("timeupdate",(function(){c!==this.duration&&(c=this.duration,mejs.Utility.calculateTimeFormat(c,s.options,s.options.framesPerSecond||25),s.updateDuration&&s.updateDuration(),s.updateCurrent&&s.updateCurrent(),s.setControlsSize())}),!1),s.container.focusout((function(t){if(t.relatedTarget){var i=e(t.relatedTarget);s.keyboardAction&&0===i.parents(".mejs-container").length&&(s.keyboardAction=!1,s.isVideo&&!s.options.alwaysShowControls&&s.hideControls(!0))}})),setTimeout((function(){s.setPlayerSize(s.width,s.height),s.setControlsSize()}),50),s.globalBind("resize",(function(){s.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||s.setPlayerSize(s.width,s.height),s.setControlsSize()})),"youtube"==s.media.pluginType&&(r.isiOS||r.isAndroid)&&(s.container.find(".mejs-overlay-play").hide(),s.container.find(".mejs-poster").hide())}l&&"native"==t.pluginType&&s.play(),s.options.success&&("string"==typeof s.options.success?window[s.options.success](s.media,s.domNode,s):s.options.success(s.media,s.domNode,s))}},handleError:function(e){var t=this;t.controls&&t.controls.hide(),t.options.error&&t.options.error(e)},setPlayerSize:function(e,t){var i=this;if(!i.options.setDimensions)return!1;switch(void 0!==e&&(i.width=e),void 0!==t&&(i.height=t),i.options.stretching){case"fill":i.isVideo?this.setFillMode():this.setDimensions(i.width,i.height);break;case"responsive":this.setResponsiveMode();break;case"none":this.setDimensions(i.width,i.height);break;default:!0===this.hasFluidMode()?this.setResponsiveMode():this.setDimensions(i.width,i.height)}},hasFluidMode:function(){var e=this;return e.height.toString().indexOf("%")>0||"none"!==e.$node.css("max-width")&&"t.width"!==e.$node.css("max-width")||e.$node[0].currentStyle&&"100%"===e.$node[0].currentStyle.maxWidth},setResponsiveMode:function(){var t=this,i=t.isVideo?t.media.videoWidth&&t.media.videoWidth>0?t.media.videoWidth:null!==t.media.getAttribute("width")?t.media.getAttribute("width"):t.options.defaultVideoWidth:t.options.defaultAudioWidth,n=t.isVideo?t.media.videoHeight&&t.media.videoHeight>0?t.media.videoHeight:null!==t.media.getAttribute("height")?t.media.getAttribute("height"):t.options.defaultVideoHeight:t.options.defaultAudioHeight,o=t.container.parent().closest(":visible").width(),s=t.container.parent().closest(":visible").height(),r=t.isVideo||!t.options.autosizeProgress?parseInt(o*n/i,10):n;(isNaN(r)||0!==s&&r>s&&s>n)&&(r=s),t.container.parent().length>0&&"body"===t.container.parent()[0].tagName.toLowerCase()&&(o=e(window).width(),r=e(window).height()),r&&o&&(t.container.width(o).height(r),t.$media.add(t.container.find(".mejs-shim")).width("100%").height("100%"),t.isVideo&&t.media.setVideoSize&&t.media.setVideoSize(o,r),t.layers.children(".mejs-layer").width("100%").height("100%"))},setFillMode:function(){var e=this,t=e.outerContainer;t.width()||t.height(e.$media.width()),t.height()||t.height(e.$media.height());var i=t.width(),n=t.height();e.setDimensions("100%","100%"),e.container.find(".mejs-poster img").css("display","block"),targetElement=e.container.find("object, embed, iframe, video");var o=e.height,s=e.width,r=i,a=o*i/s,l=s*n/o,c=n,u=!(l>i),d=u?Math.floor(r):Math.floor(l),p=u?Math.floor(a):Math.floor(c);u?(targetElement.height(p).width(i),e.media.setVideoSize&&e.media.setVideoSize(i,p)):(targetElement.height(n).width(d),e.media.setVideoSize&&e.media.setVideoSize(d,n)),targetElement.css({"margin-left":Math.floor((i-d)/2),"margin-top":0})},setDimensions:function(e,t){this.container.width(e).height(t),this.layers.children(".mejs-layer").width(e).height(t)},setControlsSize:function(){var t=this,i=0,n=0,o=t.controls.find(".mejs-time-rail"),s=t.controls.find(".mejs-time-total"),r=o.siblings(),a=r.last(),l=null,c=t.options&&!t.options.autosizeProgress;if(t.container.is(":visible")&&o.length&&o.is(":visible")){c&&(n=parseInt(o.css("width"),10)),0!==n&&n||(r.each((function(){var t=e(this);"absolute"!=t.css("position")&&t.is(":visible")&&(i+=e(this).outerWidth(!0))})),n=t.controls.width()-i-(o.outerWidth(!0)-o.width()));do{c||o.width(n),s.width(n-(s.outerWidth(!0)-s.width())),"absolute"!=a.css("position")&&(l=a.length?a.position():null,n--)}while(null!==l&&l.top.toFixed(2)>0&&n>0);t.container.trigger("controlsresize")}},buildposter:function(t,i,n,o){var s=e('<div class="mejs-poster mejs-layer"></div>').appendTo(n),r=t.$media.attr("poster");""!==t.options.poster&&(r=t.options.poster),r?this.setPoster(r):s.hide(),o.addEventListener("play",(function(){s.hide()}),!1),t.options.showPosterWhenEnded&&t.options.autoRewind&&o.addEventListener("ended",(function(){s.show()}),!1)},setPoster:function(t){var i=this.container.find(".mejs-poster"),n=i.find("img");0===n.length&&(n=e('<img width="100%" height="100%" alt="" />').appendTo(i)),n.attr("src",t),i.css({"background-image":"url("+t+")"})},buildoverlays:function(t,i,n,o){var s=this;if(t.isVideo){var r=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(n),a=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(n),l=e('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button" role="button" aria-label="'+mejs.i18n.t("mejs.play")+'" aria-pressed="false"></div></div>').appendTo(n).bind("click",(function(){if(s.options.clickToPlayPause){o.paused&&o.play();var t=e(this).find(".mejs-overlay-button"),i=t.attr("aria-pressed");t.attr("aria-pressed",!!i)}}));o.addEventListener("play",(function(){l.hide(),r.hide(),i.find(".mejs-time-buffering").hide(),a.hide()}),!1),o.addEventListener("playing",(function(){l.hide(),r.hide(),i.find(".mejs-time-buffering").hide(),a.hide()}),!1),o.addEventListener("seeking",(function(){r.show(),i.find(".mejs-time-buffering").show()}),!1),o.addEventListener("seeked",(function(){r.hide(),i.find(".mejs-time-buffering").hide()}),!1),o.addEventListener("pause",(function(){mejs.MediaFeatures.isiPhone||l.show()}),!1),o.addEventListener("waiting",(function(){r.show(),i.find(".mejs-time-buffering").show()}),!1),o.addEventListener("loadeddata",(function(){r.show(),i.find(".mejs-time-buffering").show(),mejs.MediaFeatures.isAndroid&&(o.canplayTimeout=window.setTimeout((function(){if(document.createEvent){var e=document.createEvent("HTMLEvents");return e.initEvent("canplay",!0,!0),o.dispatchEvent(e)}}),300))}),!1),o.addEventListener("canplay",(function(){r.hide(),i.find(".mejs-time-buffering").hide(),clearTimeout(o.canplayTimeout)}),!1),o.addEventListener("error",(function(e){s.handleError(e),r.hide(),l.hide(),a.show(),a.find(".mejs-overlay-error").html("Error loading this resource")}),!1),o.addEventListener("keydown",(function(e){s.onkeydown(t,o,e)}),!1)}},buildkeyboard:function(t,i,n,o){var s=this;s.container.keydown((function(){s.keyboardAction=!0})),s.globalBind("keydown",(function(i){return t.hasFocus=0!==e(i.target).closest(".mejs-container").length&&e(i.target).closest(".mejs-container").attr("id")===t.$media.closest(".mejs-container").attr("id"),s.onkeydown(t,o,i)})),s.globalBind("click",(function(i){t.hasFocus=0!==e(i.target).closest(".mejs-container").length}))},onkeydown:function(e,t,i){if(e.hasFocus&&e.options.enableKeyboard)for(var n=0,o=e.options.keyActions.length;o>n;n++)for(var s=e.options.keyActions[n],r=0,a=s.keys.length;a>r;r++)if(i.keyCode==s.keys[r])return"function"==typeof i.preventDefault&&i.preventDefault(),s.action(e,t,i.keyCode,i),!1;return!0},findTracks:function(){var t=this,i=t.$media.find("track");t.tracks=[],i.each((function(i,n){n=e(n),t.tracks.push({srclang:n.attr("srclang")?n.attr("srclang").toLowerCase():"",src:n.attr("src"),kind:n.attr("kind"),label:n.attr("label")||"",entries:[],isLoaded:!1})}))},changeSkin:function(e){this.container[0].className="mejs-container "+e,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.load(),this.media.play()},pause:function(){try{this.media.pause()}catch(e){}},load:function(){this.isLoaded||this.media.load(),this.isLoaded=!0},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){var t=this;if("youtube"===t.media.pluginType){var i,n,o;if("string"!=typeof e)for(n=0;n<e.length;n++)if(o=e[n],this.canPlayType(o.type)){e=o.src;break}if(-1!==e.lastIndexOf("youtu.be"))-1!==(i=e.substr(e.lastIndexOf("/")+1)).indexOf("?")&&(i=i.substr(0,i.indexOf("?")));else{var s=e.match(/[?&]v=([^&#]+)|&|#|$/);s&&(i=s[1])}null!==t.media.getAttribute("autoplay")?t.media.pluginApi.loadVideoById(i):t.media.pluginApi.cueVideoById(i)}else t.media.setSrc(e)},remove:function(){var e,t,i=this;for(e in i.container.prev(".mejs-offscreen").remove(),i.options.features)if(i["clean"+(t=i.options.features[e])])try{i["clean"+t](i)}catch(e){}i.isDynamic?i.$node.insertBefore(i.container):(i.$media.prop("controls",!0),i.$node.clone().insertBefore(i.container).show(),i.$node.remove()),"native"!==i.media.pluginType&&i.media.remove(),delete mejs.players[i.id],"object"==typeof i.container&&i.container.remove(),i.globalUnbind(),delete i.node.player},rebuildtracks:function(){var e=this;e.findTracks(),e.buildtracks(e,e.controls,e.layers,e.media)},resetSize:function(){var e=this;setTimeout((function(){e.setPlayerSize(e.width,e.height),e.setControlsSize()}),50)}},function(){function t(t,n){var o={d:[],w:[]};return e.each((t||"").split(" "),(function(e,t){var s=t+"."+n;0===s.indexOf(".")?(o.d.push(s),o.w.push(s)):o[i.test(t)?"w":"d"].push(s)})),o.d=o.d.join(" "),o.w=o.w.join(" "),o}var i=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(i,n,o){var s=this,r=s.node?s.node.ownerDocument:document;(i=t(i,s.id)).d&&e(r).bind(i.d,n,o),i.w&&e(window).bind(i.w,n,o)},mejs.MediaElementPlayer.prototype.globalUnbind=function(i,n){var o=this,s=o.node?o.node.ownerDocument:document;(i=t(i,o.id)).d&&e(s).unbind(i.d,n),i.w&&e(window).unbind(i.w,n)}}(),void 0!==e&&(e.fn.mediaelementplayer=function(t){return!1===t?this.each((function(){var t=e(this).data("mediaelementplayer");t&&t.remove(),e(this).removeData("mediaelementplayer")})):this.each((function(){e(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,t))})),this},e(document).ready((function(){e(".mejs-player").mediaelementplayer()}))),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(e){e.extend(mejs.MepDefaults,{playText:"",pauseText:""}),e.extend(MediaElementPlayer.prototype,{buildplaypause:function(t,i,n,o){function s(e){"play"===e?(c.removeClass("mejs-play").addClass("mejs-pause"),u.attr({title:l,"aria-label":l})):(c.removeClass("mejs-pause").addClass("mejs-play"),u.attr({title:a,"aria-label":a}))}var r=this.options,a=r.playText?r.playText:mejs.i18n.t("mejs.play"),l=r.pauseText?r.pauseText:mejs.i18n.t("mejs.pause"),c=e('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+this.id+'" title="'+a+'" aria-label="'+l+'"></button></div>').appendTo(i).click((function(e){return e.preventDefault(),o.paused?o.play():o.pause(),!1})),u=c.find("button");s("pse"),o.addEventListener("play",(function(){s("play")}),!1),o.addEventListener("playing",(function(){s("play")}),!1),o.addEventListener("pause",(function(){s("pse")}),!1),o.addEventListener("paused",(function(){s("pse")}),!1)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{stopText:"Stop"}),e.extend(MediaElementPlayer.prototype,{buildstop:function(t,i,n,o){var s=this;e('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+s.id+'" title="'+s.options.stopText+'" aria-label="'+s.options.stopText+'"></button></div>').appendTo(i).click((function(){o.paused||o.pause(),o.currentTime>0&&(o.setCurrentTime(0),o.pause(),i.find(".mejs-time-current").width("0px"),i.find(".mejs-time-handle").css("left","0px"),i.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0,t.options)),i.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0,t.options)),n.find(".mejs-poster").show())}))}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{enableProgressTooltip:!0,progressHelpText:""}),e.extend(MediaElementPlayer.prototype,{buildprogress:function(t,i,n,o){var s=this,r=!1,a=0,l=!1,c=t.options.autoRewind,u=(s.options.progressHelpText?s.options.progressHelpText:mejs.i18n.t("mejs.time-help-text"),t.options.enableProgressTooltip?'<span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span>':"");e('<div class="mejs-time-rail"><span  class="mejs-time-total mejs-time-slider"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span>'+u+"</span></div>").appendTo(i),i.find(".mejs-time-buffering").hide(),s.total=i.find(".mejs-time-total"),s.loaded=i.find(".mejs-time-loaded"),s.current=i.find(".mejs-time-current"),s.handle=i.find(".mejs-time-handle"),s.timefloat=i.find(".mejs-time-float"),s.timefloatcurrent=i.find(".mejs-time-float-current"),s.slider=i.find(".mejs-time-slider");var d=function(e){var i,n=s.total.offset(),a=s.total.width(),l=0,c=0,u=0;i=e.originalEvent&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.changedTouches?e.changedTouches[0].pageX:e.pageX,o.duration&&(i<n.left?i=n.left:i>a+n.left&&(i=a+n.left),c=.02>=(l=(u=i-n.left)/a)?0:l*o.duration,r&&c!==o.currentTime&&o.setCurrentTime(c),mejs.MediaFeatures.hasTouch||(s.timefloat.css("left",u),s.timefloatcurrent.html(mejs.Utility.secondsToTimeCode(c,t.options)),s.timefloat.show()))},p=function(){new Date-a>=1e3&&o.play()};s.slider.bind("focus",(function(e){t.options.autoRewind=!1})),s.slider.bind("blur",(function(e){t.options.autoRewind=c})),s.slider.bind("keydown",(function(e){new Date-a>=1e3&&(l=o.paused);var i=e.keyCode,n=o.duration,s=o.currentTime,r=t.options.defaultSeekForwardInterval(o),c=t.options.defaultSeekBackwardInterval(o);switch(i){case 37:case 40:s-=c;break;case 39:case 38:s+=r;break;case 36:s=0;break;case 35:s=n;break;case 32:case 13:return void(o.paused?o.play():o.pause());default:return}return s=0>s?0:s>=n?n:Math.floor(s),a=new Date,l||o.pause(),s<o.duration&&!l&&setTimeout(p,1100),o.setCurrentTime(s),e.preventDefault(),e.stopPropagation(),!1})),s.total.bind("mousedown touchstart",(function(e){(1===e.which||0===e.which)&&(r=!0,d(e),s.globalBind("mousemove.dur touchmove.dur",(function(e){d(e)})),s.globalBind("mouseup.dur touchend.dur",(function(e){r=!1,void 0!==s.timefloat&&s.timefloat.hide(),s.globalUnbind(".dur")})))})).bind("mouseenter",(function(e){!0,s.globalBind("mousemove.dur",(function(e){d(e)})),void 0===s.timefloat||mejs.MediaFeatures.hasTouch||s.timefloat.show()})).bind("mouseleave",(function(e){!1,r||(s.globalUnbind(".dur"),void 0!==s.timefloat&&s.timefloat.hide())})),o.addEventListener("progress",(function(e){t.setProgressRail(e),t.setCurrentRail(e)}),!1),o.addEventListener("timeupdate",(function(e){t.setProgressRail(e),t.setCurrentRail(e),function(e){var i=o.currentTime,n=mejs.i18n.t("mejs.time-slider"),r=mejs.Utility.secondsToTimeCode(i,t.options),a=o.duration;s.slider.attr({"aria-label":n,"aria-valuemin":0,"aria-valuemax":a,"aria-valuenow":i,"aria-valuetext":r,role:"slider",tabindex:0})}()}),!1),s.container.on("controlsresize",(function(e){t.setProgressRail(e),t.setCurrentRail(e)}))},setProgressRail:function(e){var t=this,i=void 0!==e?e.target:t.media,n=null;i&&i.buffered&&i.buffered.length>0&&i.buffered.end&&i.duration?n=i.buffered.end(i.buffered.length-1)/i.duration:i&&void 0!==i.bytesTotal&&i.bytesTotal>0&&void 0!==i.bufferedBytes?n=i.bufferedBytes/i.bytesTotal:e&&e.lengthComputable&&0!==e.total&&(n=e.loaded/e.total),null!==n&&(n=Math.min(1,Math.max(0,n)),t.loaded&&t.total&&t.loaded.width(t.total.width()*n))},setCurrentRail:function(){var e=this;if(void 0!==e.media.currentTime&&e.media.duration&&e.total&&e.handle){var t=Math.round(e.total.width()*e.media.currentTime/e.media.duration),i=t-Math.round(e.handle.outerWidth(!0)/2);e.current.width(t),e.handle.css("left",i)}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"}),e.extend(MediaElementPlayer.prototype,{buildcurrent:function(t,i,n,o){var s=this;e('<div class="mejs-time" role="timer" aria-live="off"><span class="mejs-currenttime">'+mejs.Utility.secondsToTimeCode(0,t.options)+"</span></div>").appendTo(i),s.currenttime=s.controls.find(".mejs-currenttime"),o.addEventListener("timeupdate",(function(){s.controlsAreVisible&&t.updateCurrent()}),!1)},buildduration:function(t,i,n,o){var s=this;i.children().last().find(".mejs-currenttime").length>0?e(s.options.timeAndDurationSeparator+'<span class="mejs-duration">'+mejs.Utility.secondsToTimeCode(s.options.duration,s.options)+"</span>").appendTo(i.find(".mejs-time")):(i.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),e('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+mejs.Utility.secondsToTimeCode(s.options.duration,s.options)+"</span></div>").appendTo(i)),s.durationD=s.controls.find(".mejs-duration"),o.addEventListener("timeupdate",(function(){s.controlsAreVisible&&t.updateDuration()}),!1)},updateCurrent:function(){var e=this,t=e.media.currentTime;isNaN(t)&&(t=0),e.currenttime&&e.currenttime.html(mejs.Utility.secondsToTimeCode(t,e.options))},updateDuration:function(){var e=this,t=e.media.duration;e.options.duration>0&&(t=e.options.duration),isNaN(t)&&(t=0),e.container.toggleClass("mejs-long-video",t>3600),e.durationD&&t>0&&e.durationD.html(mejs.Utility.secondsToTimeCode(t,e.options))}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("mejs.mute-toggle"),allyVolumeControlText:mejs.i18n.t("mejs.volume-help-text"),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),e.extend(MediaElementPlayer.prototype,{buildvolume:function(t,i,n,o){if(!mejs.MediaFeatures.isAndroid&&!mejs.MediaFeatures.isiOS||!this.options.hideVolumeOnTouchDevices){var s=this,r=s.isVideo?s.options.videoVolume:s.options.audioVolume,a="horizontal"==r?e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+s.id+'" title="'+s.options.muteText+'" aria-label="'+s.options.muteText+'"></button></div><a href="javascript:void(0);" class="mejs-horizontal-volume-slider"><span class="mejs-offscreen">'+s.options.allyVolumeControlText+'</span><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></a>').appendTo(i):e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+s.id+'" title="'+s.options.muteText+'" aria-label="'+s.options.muteText+'"></button><a href="javascript:void(0);" class="mejs-volume-slider"><span class="mejs-offscreen">'+s.options.allyVolumeControlText+'</span><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></a></div>').appendTo(i),l=s.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),c=s.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),u=s.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),d=s.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),p=function(e,t){if(!l.is(":visible")&&void 0===t)return l.show(),p(e,!0),void l.hide();e=Math.max(0,e),0===(e=Math.min(e,1))?(a.removeClass("mejs-mute").addClass("mejs-unmute"),a.children("button").attr("title",mejs.i18n.t("mejs.unmute")).attr("aria-label",mejs.i18n.t("mejs.unmute"))):(a.removeClass("mejs-unmute").addClass("mejs-mute"),a.children("button").attr("title",mejs.i18n.t("mejs.mute")).attr("aria-label",mejs.i18n.t("mejs.mute")));var i=c.position();if("vertical"==r){var n=c.height(),o=n-n*e;d.css("top",Math.round(i.top+o-d.height()/2)),u.height(n-o),u.css("top",i.top+o)}else{var s=c.width()*e;d.css("left",Math.round(i.left+s-d.width()/2)),u.width(Math.round(s))}},h=function(e){var t=null,i=c.offset();if("vertical"===r){var n=c.height();if(t=(n-(e.pageY-i.top))/n,0===i.top||0===i.left)return}else{var s=c.width();t=(e.pageX-i.left)/s}t=Math.max(0,t),t=Math.min(t,1),p(t),0===t?o.setMuted(!0):o.setMuted(!1),o.setVolume(t)},m=!1,f=!1;a.hover((function(){l.show(),f=!0}),(function(){f=!1,m||"vertical"!=r||l.hide()}));l.bind("mouseover",(function(){f=!0})).bind("mousedown",(function(e){return h(e),s.globalBind("mousemove.vol",(function(e){h(e)})),s.globalBind("mouseup.vol",(function(){m=!1,s.globalUnbind(".vol"),f||"vertical"!=r||l.hide()})),m=!0,!1})).bind("keydown",(function(e){var t=e.keyCode,i=o.volume;switch(t){case 38:i=Math.min(i+.1,1);break;case 40:i=Math.max(0,i-.1);break;default:return!0}return m=!1,p(i),o.setVolume(i),!1})),a.find("button").click((function(){o.setMuted(!o.muted)})),a.find("button").bind("focus",(function(){l.show()})),o.addEventListener("volumechange",(function(e){m||(o.muted?(p(0),a.removeClass("mejs-mute").addClass("mejs-unmute")):(p(o.volume),a.removeClass("mejs-unmute").addClass("mejs-mute"))),function(e){var t=Math.floor(100*o.volume);l.attr({"aria-label":mejs.i18n.t("mejs.volume-slider"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":t,"aria-valuetext":t+"%",role:"slider",tabindex:0})}()}),!1),0===t.options.startVolume&&o.setMuted(!0),"native"===o.pluginType&&o.setVolume(t.options.startVolume),s.container.on("controlsresize",(function(){o.muted?(p(0),a.removeClass("mejs-mute").addClass("mejs-unmute")):(p(o.volume),a.removeClass("mejs-unmute").addClass("mejs-mute"))}))}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:""}),e.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,fullscreenMode:"",buildfullscreen:function(t,i,n,o){if(t.isVideo){t.isInIframe=window.location!=window.parent.location,o.addEventListener("loadstart",(function(){t.detectFullscreenMode()}));var s=this,r=null,a=s.options.fullscreenText?s.options.fullscreenText:mejs.i18n.t("mejs.fullscreen"),l=e('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+s.id+'" title="'+a+'" aria-label="'+a+'"></button></div>').appendTo(i).on("click",(function(){mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||t.isFullScreen?t.exitFullScreen():t.enterFullScreen()})).on("mouseover",(function(){if("plugin-hover"==s.fullscreenMode){null!==r&&(clearTimeout(r),delete r);var e=l.offset(),i=t.container.offset();o.positionFullscreenButton(e.left-i.left,e.top-i.top,!0)}})).on("mouseout",(function(){"plugin-hover"==s.fullscreenMode&&(null!==r&&(clearTimeout(r),delete r),r=setTimeout((function(){o.hideFullscreenButton()}),1500))}));if(t.fullscreenBtn=l,s.globalBind("keydown",(function(e){27==e.keyCode&&(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||s.isFullScreen)&&t.exitFullScreen()})),s.normalHeight=0,s.normalWidth=0,mejs.MediaFeatures.hasTrueNativeFullScreen){t.globalBind(mejs.MediaFeatures.fullScreenEventName,(function(e){t.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(t.isNativeFullScreen=!0,t.setControlsSize()):(t.isNativeFullScreen=!1,t.exitFullScreen()))}))}}},detectFullscreenMode:function(){var e=this,t="",i=mejs.MediaFeatures;return i.hasTrueNativeFullScreen&&"native"===e.media.pluginType?t="native-native":i.hasTrueNativeFullScreen&&"native"!==e.media.pluginType&&!i.hasFirefoxPluginMovingProblem?t="plugin-native":e.usePluginFullScreen?mejs.MediaFeatures.supportsPointerEvents?(t="plugin-click",e.createPluginClickThrough()):t="plugin-hover":t="fullwindow",e.fullscreenMode=t,t},isPluginClickThroughCreated:!1,createPluginClickThrough:function(){var t=this;if(!t.isPluginClickThroughCreated){var i,n,o=!1,s=function(){if(o){for(var e in r)r[e].hide();t.fullscreenBtn.css("pointer-events",""),t.controls.css("pointer-events",""),t.media.removeEventListener("click",t.clickToPlayPauseCallback),o=!1}},r={},a=["top","left","right","bottom"],l=function(){var e=fullscreenBtn.offset().left-t.container.offset().left,n=fullscreenBtn.offset().top-t.container.offset().top,o=fullscreenBtn.outerWidth(!0),s=fullscreenBtn.outerHeight(!0),a=t.container.width(),l=t.container.height();for(i in r)r[i].css({position:"absolute",top:0,left:0});r.top.width(a).height(n),r.left.width(e).height(s).css({top:n}),r.right.width(a-e-o).height(s).css({top:n,left:e+o}),r.bottom.width(a).height(l-s-n).css({top:n+s})};for(t.globalBind("resize",(function(){l()})),i=0,n=a.length;n>i;i++)r[a[i]]=e('<div class="mejs-fullscreen-hover" />').appendTo(t.container).mouseover(s).hide();fullscreenBtn.on("mouseover",(function(){if(!t.isFullScreen){var e=fullscreenBtn.offset(),n=player.container.offset();for(i in media.positionFullscreenButton(e.left-n.left,e.top-n.top,!1),t.fullscreenBtn.css("pointer-events","none"),t.controls.css("pointer-events","none"),t.media.addEventListener("click",t.clickToPlayPauseCallback),r)r[i].show();l(),o=!0}})),media.addEventListener("fullscreenchange",(function(e){t.isFullScreen=!t.isFullScreen,t.isFullScreen?t.media.removeEventListener("click",t.clickToPlayPauseCallback):t.media.addEventListener("click",t.clickToPlayPauseCallback),s()})),t.globalBind("mousemove",(function(e){if(o){var i=fullscreenBtn.offset();(e.pageY<i.top||e.pageY>i.top+fullscreenBtn.outerHeight(!0)||e.pageX<i.left||e.pageX>i.left+fullscreenBtn.outerWidth(!0))&&(fullscreenBtn.css("pointer-events",""),t.controls.css("pointer-events",""),o=!1)}})),t.isPluginClickThroughCreated=!0}},cleanfullscreen:function(e){e.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var t=this;if(mejs.MediaFeatures.isiOS&&mejs.MediaFeatures.hasiOSFullScreen&&"function"==typeof t.media.webkitEnterFullscreen)t.media.webkitEnterFullscreen();else{e(document.documentElement).addClass("mejs-fullscreen"),t.normalHeight=t.container.height(),t.normalWidth=t.container.width(),"native-native"===t.fullscreenMode||"plugin-native"===t.fullscreenMode?(mejs.MediaFeatures.requestFullScreen(t.container[0]),t.isInIframe&&setTimeout((function i(){if(t.isNativeFullScreen){var n=e(window).width(),o=screen.width;Math.abs(o-n)>.002*o?t.exitFullScreen():setTimeout(i,500)}}),1e3)):t.fullscreeMode,t.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),t.containerSizeTimeout=setTimeout((function(){t.container.css({width:"100%",height:"100%"}),t.setControlsSize()}),500),"native"===t.media.pluginType?t.$media.width("100%").height("100%"):(t.container.find(".mejs-shim").width("100%").height("100%"),setTimeout((function(){var i=e(window),n=i.width(),o=i.height();t.media.setVideoSize(n,o)}),500)),t.layers.children("div").width("100%").height("100%"),t.fullscreenBtn&&t.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),t.setControlsSize(),t.isFullScreen=!0;var i=Math.min(screen.width/t.width,screen.height/t.height);t.container.find(".mejs-captions-text").css("font-size",100*i+"%"),t.container.find(".mejs-captions-text").css("line-height","normal"),t.container.find(".mejs-captions-position").css("bottom","45px"),t.container.trigger("enteredfullscreen")}},exitFullScreen:function(){var t=this;clearTimeout(t.containerSizeTimeout),mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||t.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),e(document.documentElement).removeClass("mejs-fullscreen"),t.container.removeClass("mejs-container-fullscreen").width(t.normalWidth).height(t.normalHeight),"native"===t.media.pluginType?t.$media.width(t.normalWidth).height(t.normalHeight):(t.container.find(".mejs-shim").width(t.normalWidth).height(t.normalHeight),t.media.setVideoSize(t.normalWidth,t.normalHeight)),t.layers.children("div").width(t.normalWidth).height(t.normalHeight),t.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),t.setControlsSize(),t.isFullScreen=!1,t.container.find(".mejs-captions-text").css("font-size",""),t.container.find(".mejs-captions-text").css("line-height",""),t.container.find(".mejs-captions-position").css("bottom",""),t.container.trigger("exitedfullscreen")}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{speeds:["2.00","1.50","1.25","1.00","0.75"],defaultSpeed:"1.00",speedChar:"x"}),e.extend(MediaElementPlayer.prototype,{buildspeed:function(t,i,n,o){var s=this;if("native"==s.media.pluginType){for(var r=null,a=null,l=null,c=null,u=[],d=!1,p=0,h=s.options.speeds.length;h>p;p++){var m=s.options.speeds[p];"string"==typeof m?(u.push({name:m+s.options.speedChar,value:m}),m===s.options.defaultSpeed&&(d=!0)):(u.push(m),m.value===s.options.defaultSpeed&&(d=!0))}d||u.push({name:s.options.defaultSpeed+s.options.speedChar,value:s.options.defaultSpeed}),u.sort((function(e,t){return parseFloat(t.value)-parseFloat(e.value)}));var f=function(e){for(p=0,h=u.length;h>p;p++)if(u[p].value===e)return u[p].name},g='<div class="mejs-button mejs-speed-button"><button type="button">'+f(s.options.defaultSpeed)+'</button><div class="mejs-speed-selector"><ul>';for(p=0,il=u.length;p<il;p++)c=s.id+"-speed-"+u[p].value,g+='<li><input type="radio" name="speed" value="'+u[p].value+'" id="'+c+'" '+(u[p].value===s.options.defaultSpeed?" checked":"")+' /><label for="'+c+'" '+(u[p].value===s.options.defaultSpeed?' class="mejs-speed-selected"':"")+">"+u[p].name+"</label></li>";r=e(g+="</ul></div></div>").appendTo(i),a=r.find(".mejs-speed-selector"),l=s.options.defaultSpeed,o.addEventListener("loadedmetadata",(function(e){l&&(o.playbackRate=parseFloat(l))}),!0),a.on("click",'input[type="radio"]',(function(){var t=e(this).attr("value");l=t,o.playbackRate=parseFloat(t),r.find("button").html(f(t)),r.find(".mejs-speed-selected").removeClass("mejs-speed-selected"),r.find('input[type="radio"]:checked').next().addClass("mejs-speed-selected")})),r.one("mouseenter focusin",(function(){a.height(r.find(".mejs-speed-selector ul").outerHeight(!0)+r.find(".mejs-speed-translations").outerHeight(!0)).css("top",-1*a.height()+"px")}))}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{startLanguage:"",tracksText:"",tracksAriaLive:!1,hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),e.extend(MediaElementPlayer.prototype,{hasChapters:!1,cleartracks:function(e,t,i,n){e&&(e.captions&&e.captions.remove(),e.chapters&&e.chapters.remove(),e.captionsText&&e.captionsText.remove(),e.captionsButton&&e.captionsButton.remove())},buildtracks:function(t,i,n,o){if(0!==t.tracks.length){var s,r,a=this,l=a.options.tracksAriaLive?'role="log" aria-live="assertive" aria-atomic="false"':"",c=a.options.tracksText?a.options.tracksText:mejs.i18n.t("mejs.captions-subtitles");if(a.domNode.textTracks)for(s=a.domNode.textTracks.length-1;s>=0;s--)a.domNode.textTracks[s].mode="hidden";a.cleartracks(t,i,n,o),t.chapters=e('<div class="mejs-chapters mejs-layer"></div>').prependTo(n).hide(),t.captions=e('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover" '+l+'><span class="mejs-captions-text"></span></div></div>').prependTo(n).hide(),t.captionsText=t.captions.find(".mejs-captions-text"),t.captionsButton=e('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+a.id+'" title="'+c+'" aria-label="'+c+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" /><label for="'+t.id+'_captions_none">'+mejs.i18n.t("mejs.none")+"</label></li></ul></div></div>").appendTo(i);var u=0;for(s=0;s<t.tracks.length;s++)("subtitles"===(r=t.tracks[s].kind)||"captions"===r)&&u++;for(a.options.toggleCaptionsButtonWhenOnlyOne&&1==u?t.captionsButton.on("click",(function(){null===t.selectedTrack?lang=t.tracks[0].srclang:lang="none",t.setTrack(lang)})):(t.captionsButton.on("mouseenter focusin",(function(){e(this).find(".mejs-captions-selector").removeClass("mejs-offscreen")})).on("click","input[type=radio]",(function(){lang=this.value,t.setTrack(lang)})),t.captionsButton.on("mouseleave focusout",(function(){e(this).find(".mejs-captions-selector").addClass("mejs-offscreen")}))),t.options.alwaysShowControls?t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):t.container.bind("controlsshown",(function(){t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")})).bind("controlshidden",(function(){o.paused||t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")})),t.trackToLoad=-1,t.selectedTrack=null,t.isLoadingTrack=!1,s=0;s<t.tracks.length;s++)("subtitles"===(r=t.tracks[s].kind)||"captions"===r)&&t.addTrackButton(t.tracks[s].srclang,t.tracks[s].label);t.loadNextTrack(),o.addEventListener("timeupdate",(function(){t.displayCaptions()}),!1),""!==t.options.slidesSelector&&(t.slidesContainer=e(t.options.slidesSelector),o.addEventListener("timeupdate",(function(){t.displaySlides()}),!1)),o.addEventListener("loadedmetadata",(function(){t.displayChapters()}),!1),t.container.hover((function(){t.hasChapters&&(t.chapters.removeClass("mejs-offscreen"),t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight()))}),(function(){t.hasChapters&&!o.paused&&t.chapters.fadeOut(200,(function(){e(this).addClass("mejs-offscreen"),e(this).css("display","block")}))})),a.container.on("controlsresize",(function(){a.adjustLanguageBox()})),null!==t.node.getAttribute("autoplay")&&t.chapters.addClass("mejs-offscreen")}},setTrack:function(e){var t,i=this;if("none"==e)i.selectedTrack=null,i.captionsButton.removeClass("mejs-captions-enabled");else for(t=0;t<i.tracks.length;t++)if(i.tracks[t].srclang==e){null===i.selectedTrack&&i.captionsButton.addClass("mejs-captions-enabled"),i.selectedTrack=i.tracks[t],i.captions.attr("lang",i.selectedTrack.srclang),i.displayCaptions();break}},loadNextTrack:function(){var e=this;e.trackToLoad++,e.trackToLoad<e.tracks.length?(e.isLoadingTrack=!0,e.loadTrack(e.trackToLoad)):(e.isLoadingTrack=!1,e.checkForTracks())},loadTrack:function(t){var i=this,n=i.tracks[t];(void 0!==n.src||""!==n.src)&&e.ajax({url:n.src,dataType:"text",success:function(e){"string"==typeof e&&/<tt\s+xml/gi.exec(e)?n.entries=mejs.TrackFormatParser.dfxp.parse(e):n.entries=mejs.TrackFormatParser.webvtt.parse(e),n.isLoaded=!0,i.enableTrackButton(n.srclang,n.label),i.loadNextTrack(),"chapters"==n.kind&&i.media.addEventListener("play",(function(){i.media.duration>0&&i.displayChapters(n)}),!1),"slides"==n.kind&&i.setupSlides(n)},error:function(){i.removeTrackButton(n.srclang),i.loadNextTrack()}})},enableTrackButton:function(t,i){var n=this;""===i&&(i=mejs.language.codes[t]||t),n.captionsButton.find("input[value="+t+"]").prop("disabled",!1).siblings("label").html(i),n.options.startLanguage==t&&e("#"+n.id+"_captions_"+t).prop("checked",!0).trigger("click"),n.adjustLanguageBox()},removeTrackButton:function(e){this.captionsButton.find("input[value="+e+"]").closest("li").remove(),this.adjustLanguageBox()},addTrackButton:function(t,i){var n=this;""===i&&(i=mejs.language.codes[t]||t),n.captionsButton.find("ul").append(e('<li><input type="radio" name="'+n.id+'_captions" id="'+n.id+"_captions_"+t+'" value="'+t+'" disabled="disabled" /><label for="'+n.id+"_captions_"+t+'">'+i+" (loading)</label></li>")),n.adjustLanguageBox(),n.container.find(".mejs-captions-translations option[value="+t+"]").remove()},adjustLanguageBox:function(){var e=this;e.captionsButton.find(".mejs-captions-selector").height(e.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+e.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var e=this,t=!1;if(e.options.hideCaptionsButtonWhenEmpty){for(var i=0;i<e.tracks.length;i++){var n=e.tracks[i].kind;if(("subtitles"===n||"captions"===n)&&e.tracks[i].isLoaded){t=!0;break}}t||(e.captionsButton.hide(),e.setControlsSize())}},displayCaptions:function(){if(void 0!==this.tracks){var e,t=this,i=t.selectedTrack;if(null!==i&&i.isLoaded){for(e=0;e<i.entries.times.length;e++)if(t.media.currentTime>=i.entries.times[e].start&&t.media.currentTime<=i.entries.times[e].stop)return t.captionsText.html(i.entries.text[e]).attr("class","mejs-captions-text "+(i.entries.times[e].identifier||"")),void t.captions.show().height(0);t.captions.hide()}else t.captions.hide()}},setupSlides:function(e){var t=this;t.slides=e,t.slides.entries.imgs=[t.slides.entries.text.length],t.showSlide(0)},showSlide:function(t){if(void 0!==this.tracks&&void 0!==this.slidesContainer){var i=this,n=i.slides.entries.text[t],o=i.slides.entries.imgs[t];void 0===o||void 0===o.fadeIn?i.slides.entries.imgs[t]=o=e('<img src="'+n+'">').on("load",(function(){o.appendTo(i.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()})):o.is(":visible")||o.is(":animated")||o.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if(void 0!==this.slides){var e,t=this,i=t.slides;for(e=0;e<i.entries.times.length;e++)if(t.media.currentTime>=i.entries.times[e].start&&t.media.currentTime<=i.entries.times[e].stop)return void t.showSlide(e)}},displayChapters:function(){var e,t=this;for(e=0;e<t.tracks.length;e++)if("chapters"==t.tracks[e].kind&&t.tracks[e].isLoaded){t.drawChapters(t.tracks[e]),t.hasChapters=!0;break}},drawChapters:function(t){var i,n,o=this,s=0,r=0;for(o.chapters.empty(),i=0;i<t.entries.times.length;i++)n=t.entries.times[i].stop-t.entries.times[i].start,((s=Math.floor(n/o.media.duration*100))+r>100||i==t.entries.times.length-1&&100>s+r)&&(s=100-r),o.chapters.append(e('<div class="mejs-chapter" rel="'+t.entries.times[i].start+'" style="left: '+r.toString()+"%;width: "+s.toString()+'%;"><div class="mejs-chapter-block'+(i==t.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+t.entries.text[i]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(t.entries.times[i].start,o.options)+"&ndash;"+mejs.Utility.secondsToTimeCode(t.entries.times[i].stop,o.options)+"</span></div></div>")),r+=s;o.chapters.find("div.mejs-chapter").click((function(){o.media.setCurrentTime(parseFloat(e(this).attr("rel"))),o.media.paused&&o.media.play()})),o.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",fl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={webvtt:{pattern_timecode:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(t){for(var i,n,o,s=0,r=mejs.TrackFormatParser.split2(t,/\r?\n/),a={text:[],times:[]};s<r.length;s++){if((i=this.pattern_timecode.exec(r[s]))&&s<r.length){for(s-1>=0&&""!==r[s-1]&&(o=r[s-1]),n=r[++s],s++;""!==r[s]&&s<r.length;)n=n+"\n"+r[s],s++;n=e.trim(n).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),a.text.push(n),a.times.push({identifier:o,start:0===mejs.Utility.convertSMPTEtoSeconds(i[1])?.2:mejs.Utility.convertSMPTEtoSeconds(i[1]),stop:mejs.Utility.convertSMPTEtoSeconds(i[3]),settings:i[5]})}o=""}return a}},dfxp:{parse:function(t){var i,n,o=0,s=(t=e(t).filter("tt")).children("div").eq(0),r=s.find("p"),a=t.find("#"+s.attr("style")),l={text:[],times:[]};if(a.length){var c=a.removeAttr("id").get(0).attributes;if(c.length)for(i={},o=0;o<c.length;o++)i[c[o].name.split(":")[1]]=c[o].value}for(o=0;o<r.length;o++){var u,d={start:null,stop:null,style:null};if(r.eq(o).attr("begin")&&(d.start=mejs.Utility.convertSMPTEtoSeconds(r.eq(o).attr("begin"))),!d.start&&r.eq(o-1).attr("end")&&(d.start=mejs.Utility.convertSMPTEtoSeconds(r.eq(o-1).attr("end"))),r.eq(o).attr("end")&&(d.stop=mejs.Utility.convertSMPTEtoSeconds(r.eq(o).attr("end"))),!d.stop&&r.eq(o+1).attr("begin")&&(d.stop=mejs.Utility.convertSMPTEtoSeconds(r.eq(o+1).attr("begin"))),i)for(var p in u="",i)u+=p+":"+i[p]+";";u&&(d.style=u),0===d.start&&(d.start=.2),l.times.push(d),n=e.trim(r.eq(o).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),l.text.push(n)}return l}},split2:function(e,t){return e.split(t)}},3!="x\n\ny".split(/\n/gi).length&&(mejs.TrackFormatParser.split2=function(e,t){var i,n=[],o="";for(i=0;i<e.length;i++)o+=e.substring(i,i+1),t.test(o)&&(n.push(o.replace(t,"")),o="");return n.push(o),n})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{sourcechooserText:""}),e.extend(MediaElementPlayer.prototype,{buildsourcechooser:function(t,i,n,o){var s,r=this,a=r.options.sourcechooserText?r.options.sourcechooserText:mejs.i18n.t("mejs.source-chooser");for(var l in t.sourcechooserButton=e('<div class="mejs-button mejs-sourcechooser-button"><button type="button" role="button" aria-haspopup="true" aria-owns="'+r.id+'" title="'+a+'" aria-label="'+a+'"></button><div class="mejs-sourcechooser-selector mejs-offscreen" role="menu" aria-expanded="false" aria-hidden="true"><ul></ul></div></div>').appendTo(i).hover((function(){clearTimeout(s),t.showSourcechooserSelector()}),(function(){e(this),s=setTimeout((function(){t.hideSourcechooserSelector()}),500)})).on("keydown",(function(i){switch(i.keyCode){case 32:mejs.MediaFeatures.isFirefox||t.showSourcechooserSelector(),e(this).find(".mejs-sourcechooser-selector").find("input[type=radio]:checked").first().focus();break;case 13:t.showSourcechooserSelector(),e(this).find(".mejs-sourcechooser-selector").find("input[type=radio]:checked").first().focus();break;case 27:t.hideSourcechooserSelector(),e(this).find("button").focus();break;default:return!0}})).on("focusout",mejs.Utility.debounce((function(i){setTimeout((function(){e(document.activeElement).closest(".mejs-sourcechooser-selector").length||t.hideSourcechooserSelector()}),0)}),100)).delegate("input[type=radio]","click",(function(){e(this).attr("aria-selected",!0).attr("checked","checked"),e(this).closest(".mejs-sourcechooser-selector").find("input[type=radio]").not(this).attr("aria-selected","false").removeAttr("checked");var t=this.value;if(o.currentSrc!=t){var i=o.currentTime,n=o.paused;o.pause(),o.setSrc(t),o.addEventListener("loadedmetadata",(function(e){o.currentTime=i}),!0);var s=function(e){n||o.play(),o.removeEventListener("canplay",s,!0)};o.addEventListener("canplay",s,!0),o.load()}})).delegate("button","click",(function(i){e(this).siblings(".mejs-sourcechooser-selector").hasClass("mejs-offscreen")?(t.showSourcechooserSelector(),e(this).siblings(".mejs-sourcechooser-selector").find("input[type=radio]:checked").first().focus()):t.hideSourcechooserSelector()})),this.node.children){var c=this.node.children[l];"SOURCE"!==c.nodeName||"probably"!=o.canPlayType(c.type)&&"maybe"!=o.canPlayType(c.type)||t.addSourceButton(c.src,c.title,c.type,o.src==c.src)}},addSourceButton:function(t,i,n,o){var s=this;(""===i||null==i)&&(i=t),n=n.split("/")[1],s.sourcechooserButton.find("ul").append(e('<li><input type="radio" name="'+s.id+'_sourcechooser" id="'+s.id+"_sourcechooser_"+i+n+'" role="menuitemradio" value="'+t+'" '+(o?'checked="checked"':"")+'aria-selected="'+o+'" /><label for="'+s.id+"_sourcechooser_"+i+n+'" aria-hidden="true">'+i+" ("+n+")</label></li>")),s.adjustSourcechooserBox()},adjustSourcechooserBox:function(){this.sourcechooserButton.find(".mejs-sourcechooser-selector").height(this.sourcechooserButton.find(".mejs-sourcechooser-selector ul").outerHeight(!0))},hideSourcechooserSelector:function(){this.sourcechooserButton.find(".mejs-sourcechooser-selector").addClass("mejs-offscreen").attr("aria-expanded","false").attr("aria-hidden","true").find("input[type=radio]").attr("tabindex","-1")},showSourcechooserSelector:function(){this.sourcechooserButton.find(".mejs-sourcechooser-selector").removeClass("mejs-offscreen").attr("aria-expanded","true").attr("aria-hidden","false").find("input[type=radio]").attr("tabindex","0")}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(e){return void 0===e.enterFullScreen?null:e.isFullScreen?mejs.i18n.t("mejs.fullscreen-off"):mejs.i18n.t("mejs.fullscreen-on")},click:function(e){e.isFullScreen?e.exitFullScreen():e.enterFullScreen()}},{render:function(e){return e.media.muted?mejs.i18n.t("mejs.unmute"):mejs.i18n.t("mejs.mute")},click:function(e){e.media.muted?e.setMuted(!1):e.setMuted(!0)}},{isSeparator:!0},{render:function(e){return mejs.i18n.t("mejs.download-video")},click:function(e){window.location.href=e.media.currentSrc}}]}),e.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t,i,n,o){t.contextMenu=e('<div class="mejs-contextmenu"></div>').appendTo(e("body")).hide(),t.container.bind("contextmenu",(function(e){return t.isContextMenuEnabled?(e.preventDefault(),t.renderContextMenu(e.clientX-1,e.clientY-1),!1):void 0})),t.container.bind("click",(function(){t.contextMenu.hide()})),t.contextMenu.bind("mouseleave",(function(){t.startContextMenuTimer()}))},cleancontextmenu:function(e){e.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var e=this;e.killContextMenuTimer(),e.contextMenuTimer=setTimeout((function(){e.hideContextMenu(),e.killContextMenuTimer()}),750)},killContextMenuTimer:function(){var e=this.contextMenuTimer;null!=e&&(clearTimeout(e),delete e,e=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(t,i){for(var n=this,o="",s=n.options.contextMenuItems,r=0,a=s.length;a>r;r++)if(s[r].isSeparator)o+='<div class="mejs-contextmenu-separator"></div>';else{var l=s[r].render(n);null!=l&&(o+='<div class="mejs-contextmenu-item" data-itemindex="'+r+'" id="element-'+1e6*Math.random()+'">'+l+"</div>")}n.contextMenu.empty().append(e(o)).css({top:i,left:t}).show(),n.contextMenu.find(".mejs-contextmenu-item").each((function(){var t=e(this),i=parseInt(t.data("itemindex"),10),o=n.options.contextMenuItems[i];void 0!==o.show&&o.show(t,n),t.click((function(){void 0!==o.click&&o.click(n),n.contextMenu.hide()}))})),setTimeout((function(){n.killControlsTimer("rev3")}),100)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{skipBackInterval:30,skipBackText:""}),e.extend(MediaElementPlayer.prototype,{buildskipback:function(t,i,n,o){var s=this,r=mejs.i18n.t("mejs.time-skip-back",s.options.skipBackInterval),a=s.options.skipBackText?s.options.skipBackText:r;e('<div class="mejs-button mejs-skip-back-button"><button type="button" aria-controls="'+s.id+'" title="'+a+'" aria-label="'+a+'">'+s.options.skipBackInterval+"</button></div>").appendTo(i).click((function(){o.setCurrentTime(Math.max(o.currentTime-s.options.skipBackInterval,0)),e(this).find("button").blur()}))}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{postrollCloseText:""}),e.extend(MediaElementPlayer.prototype,{buildpostroll:function(t,i,n,o){var s=this,r=s.options.postrollCloseText?s.options.postrollCloseText:mejs.i18n.t("mejs.close"),a=s.container.find('link[rel="postroll"]').attr("href");void 0!==a&&(t.postroll=e('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+r+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(n).hide(),s.media.addEventListener("ended",(function(i){e.ajax({dataType:"html",url:a,success:function(e,t){n.find(".mejs-postroll-layer-content").html(e)}}),t.postroll.show()}),!1))}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{markerColor:"#E9BC3D",markers:[],markerCallback:function(){}}),e.extend(MediaElementPlayer.prototype,{buildmarkers:function(e,t,i,n){var o=0,s=-1,r=-1,a=-1,l=-1;for(o=0;o<e.options.markers.length;++o)t.find(".mejs-time-total").append('<span class="mejs-time-marker"></span>');n.addEventListener("durationchange",(function(i){e.setmarkers(t)})),n.addEventListener("timeupdate",(function(t){for(s=Math.floor(n.currentTime),a>s?l>s&&(l=-1):a=s,o=0;o<e.options.markers.length;++o)r=Math.floor(e.options.markers[o]),s===r&&r!==l&&(e.options.markerCallback(n,n.currentTime),l=r)}),!1)},setmarkers:function(t){var i,n=this,o=0;for(o=0;o<n.options.markers.length;++o)Math.floor(n.options.markers[o])<=n.media.duration&&Math.floor(n.options.markers[o])>=0&&(i=100*Math.floor(n.options.markers[o])/n.media.duration,e(t.find(".mejs-time-marker")[o]).css({width:"1px",left:i+"%",background:n.options.markerColor}))}})}(mejs.$),function(e){window.Acme={},Acme.View={},Acme.Model={},Acme.Collection={},Acme.Controller={},Acme.State={},Acme.SigninView={},Acme.SigninView={},Acme.UserProfileController=function(){},e("html").on("click",(function(t){e(".Acme-pulldown ul").hide()})),Acme.server={create:function(e,t){return this.call(e,t,"post")},fetch:function(e,t,i){return this.call(e,t,"get",i)},update:function(e,t){return this.call(e,t,"put")},delete:function(e,t){return this.call(e,t,"delete")},call:function(t,i,n,o){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),n=void 0!==n?n:"get",i=void 0!==i?i:{};var s=0===t.indexOf("http")?t:_appJsConfig.appHostName+t;return e.ajax({url:s,data:i,dataType:o||"json",type:n}).fail((function(e){501!=e.status&&404!=e.status||console.log(e.responseText),e.responseJSON&&console.log(e.responseJSON),console.log(e.responseText)}))},callClient:function(t,i,n){return n=void 0!==n?n:"get",i=void 0!==i?i:"",e.ajax({url:window.location.origin+t,data:i,dataType:"json",type:n})}},Acme.listen=function(){},Acme.listen.prototype.listener=function(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++)for(var o in this.listeners)if(o===i[n]){this.listeners[o].call(this,t,e),this.listeners.after&&this.listeners.after.call(this,t,e);break}},Acme.Model.create=function(e){var t=Object.create(Acme._Model.prototype,{resource:{value:e.url,enumerable:!0},alias:{value:e.alias||null,enumerable:!0},resource_id:{value:e.resource_id,enumerable:!0},query:{value:[],writable:!0,enumerable:!0}});for(var i in e.this)t[i]=e.this[i];if(t.messages={set:"updated",delete:"deleted"},e.messages)for(var n in e.messages)t.messages[n]=e.messages[n];return t},Acme._View=function(){},Acme._View.prototype=new Acme.listen,Acme._View.prototype.updateData=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)for(var n=t[i],o=n.split("."),s=this.data,r=0;r<o.length;r++)s[o[r]]||(s[o[r]]={}),r==o.length-1&&(s[o[r]]=e[n]),s=s[o[r]]},Acme.View.create=function(e){var t=function(){};for(conf in e)t.prototype[conf]=e[conf];return t},Acme.PubSub={topics:{},lastUid:-1},Acme.PubSub.publisher=function(e,t){var i=this;if(!this.topics.hasOwnProperty(e))return!1;var n={done:function(e){this.func=e},resolve:function(){this.func&&this.func()}};return setTimeout((function(){for(var o=i.topics[e],s=0,r=o.length;s<r;s++){for(var a=window,l=o[s].context.split("."),c=0;c<l.length-1;c++)if(null==(a=a[l[c]]))return;var u=a[l[l.length-1]],d=o[s].func;u&&u[d](e,t)}n.resolve()}),0),n},Acme.PubSub.publish=function(e,t){return this.publisher(e,t,!1)},Acme.PubSub.reset=function(){this.lastUid=-1},Acme.PubSub.print=function(){var e=this.topics;for(var t in e)for(var i=0;i<e[t].length;i++);},Acme.PubSub.subscribe=function(e){for(var t=Object.keys(e),i={},n=0;n<t.length;n++)for(var o=0;o<e[t[n]].length;o++){var s=e[t[n]][o],r=t[n].substring(0,t[n].lastIndexOf(".")),a=t[n].substring(t[n].lastIndexOf(".")+1);this.topics.hasOwnProperty(s)||(this.topics[s]=[]);for(var l=0;l<this.topics[s].length;l++)if(this.topics[s][l].context===r&&this.topics[s][l].func===a)return;var c=(++this.lastUid).toString();this.topics[s].push({token:c,func:a,context:r}),i[s]=this.topics[s]}return i},Acme.PubSub.unsubscribe=function(e){for(var t in this.topics)if(this.topics.hasOwnProperty(t))for(var i=0,n=this.topics[t].length;i<n;i++)if(this.topics[t][i].token===e)return this.topics[t].splice(i,1),e;return!1},Acme.modal=function(t,i,n,o){this.template=t||null,this.parentCont=i||null,this.layouts=n||null,this.data=o||{},this.dfd=e.Deferred()},Acme.modal.prototype=new Acme.listen,Acme.modal.prototype.render=function(t,i,n){this.data=n||this.data,i&&(this.data.title=i),this.data.name=this.parentCont;var o=(o=Handlebars.compile(Acme.templates[this.template]))(this.data);return e("html").addClass("u-noscroll"),e("body").addClass("u-noscroll").append(o),t&&this.renderLayout(t,this.data),this.events(),this.rendered(),this.dfd.promise()},Acme.modal.prototype.renderLayout=function(t,i){i=i||{},t=Handlebars.compile(Acme.templates[this.layouts[t]])(i);e("#"+this.parentCont).find("#dialogContent").empty().append(t)},Acme.modal.prototype.events=function(){console.log("adding events to modal");var t=this;e("#"+this.parentCont).on("click",(function(e){console.log(t.handler),t.handle(e)}))},Acme.modal.prototype.rendered=function(){return!0},Acme.modal.prototype.handle=function(t){console.log("handling");var i=e(t.target);return i.is("input")||i.is("a")||i.parent().is("a")||t.preventDefault(),"close"==i.data("behaviour")?(t.preventDefault(),this.closeWindow(),i):(i.is("button")&&("cancel"===i.text().toLowerCase()||"cancel"==i.data("role")?(this.dfd.fail(),this.closeWindow()):"okay"!==i.text().toLowerCase()&&"okay"!=i.data("role")||(this.dfd.resolve(),this.closeWindow())),i)},Acme.modal.prototype.closeWindow=function(){e("html").removeClass("u-noscroll"),e("body").removeClass("u-noscroll"),e("#"+this.parentCont).remove()},Acme.dialog={type:"",state:{},show:function(t,i,n,o,s){var r=this,a='<div id="wrapper" class="flex_col"> <div id="dialog"><div><p id="dialogTitle">{{title}}</p><div id="dialogMessage">{{message}}</div>';a=(a=(a+='<ul id="dialogButtons"><button>Okay</button><button>Cancel</button></div></div></div>').replace(/{{title}}/gi,i||"")).replace(/{{message}}/gi,t);var l=e.Deferred();return e("body").append(a),e("#dialog").on("click",(function(t){var i=e(t.target);if(i.is("input")||t.preventDefault(),i.is("button"))if("Cancel"===i.text())Acme.dialog.closeWindow();else if("Okay"===i.text()){if(Acme.dialog.closeWindow(),void 0===s&&r.state)s=r.state;else if(r.state)for(var a=Object.keys(r.state),c=0;c<a.length;c++)s[a[c]]=r.state[a[c]];if(null!=o)if(null!=s){var u=n.call(o,s);l.resolve(u)}else{u=n.call(o);l.resolve(u)}else{u=n();l.resolve(u)}}})),l.promise()},closeWindow:function(){e("#dialog").closest("#wrapper").remove()}}}(jQuery),Handlebars.registerHelper("labelFix",(function(e){return e?"year"===e?"Annual":"month"===e?"Monthly":"one_time"===e?"One-time":label:""})),Handlebars.registerHelper("priceFix",(function(e){return e?(e=parseInt(e),e/=100):""})),Handlebars.registerHelper("ifCond",(function(e,t,i,n){switch(t){case"==":return e==i?n.fn(this):n.inverse(this);case"===":return e===i?n.fn(this):n.inverse(this);case"!=":return e!=i?n.fn(this):n.inverse(this);case"!==":return e!==i?n.fn(this):n.inverse(this);case"<":return e<i?n.fn(this):n.inverse(this);case"<=":return e<=i?n.fn(this):n.inverse(this);case">":return e>i?n.fn(this):n.inverse(this);case">=":return e>=i?n.fn(this):n.inverse(this);case"&&":return e&&i?n.fn(this):n.inverse(this);case"||":return e||i?n.fn(this):n.inverse(this);default:return n.inverse(this)}})),Acme.templates={},Acme.templates.modal='<div id="{{name}}" class="flex_col {{name}}">     <div id="dialog" class="{{name}}__window">         <div class="{{name}}__container centerContent" style="scrolling == unusable position:fixed element">             <div class="{{name}}__header">                 <h2 class="{{name}}__title">{{title}}</h2>                 <a class="{{name}}__close" href="#" data-behaviour="close"></a>             </div>             <div class="{{name}}__content-window" id="dialogContent" style="scrolling == unusable position:fixed element"></div>         </div>     </div> </div>',Acme.templates.donate_modal='<div id="{{name}}" class="flex_col {{name}}">     <div id="dialog" class="{{name}}__window">         <div class="{{name}}__container centerContent" style="scrolling == unusable position:fixed element">             <div class="{{name}}__content-window" id="dialogContent" style="scrolling == unusable position:fixed element"></div>         </div>     </div> </div>',Acme.templates.donations='<div id="{{id}}" class="donate-form" data-selected="{{selected.price_id}}">         <div class="donate-form__header">         <div class="donate-form__periods j-donation-periods" data-active="{{active}}">             {{#each prices}}                 {{#each this}}                     <button data-elem="period" data-period="{{@key}}" data-product="{{../../id}}" class="donate-form__period-button {{# ifCond @key "==" ../../active}} donate-form__period-button--active {{/ifCond}} u-margin-right-10">{{labelFix @key}}</button>                {{/each}}             {{/each}}         </div>                 <div class="donate-form__close">             <a class="donate-form__close-icon o-close" href="#" data-behaviour="close"></a>         </div>     </div>             <img src="{{logo}}" class="donate-form__logo"/>         <p class="donate-form__text">How much would you like to contribute{{intervalString}}?</p>         {{#each prices}}         {{#each this}}             {{# ifCond @key "==" ../../active}}                 <div data-key="{{@key}}" data-active="{{../../active}}" class="donate-form__prices j-donation-price">                     {{#each this}}                         <button data-selected="{{../../../selected.price_id}}" class="donate-form__price-button  {{# ifCond ../../../selected.price_id "==" this.id}} donate-form__price-button--active {{/ifCond}}    u-margin-right-10" data-elem="price" data-product="{{this.product}}" data-price_id="{{this.id}}">${{this.price}}</button>                    {{/each}}                 </div>             {{/ifCond}}         {{/each}}     {{/each}}         <div class="donations__amount">         <p class="donate-form__amount-label">or specify an amount</p>         <input class="donate-form__input donate-form__input--override j-donate-input" data-elem="input" data-product="{{id}}" type="text" value="{{priceFix selected.amount}}" placeholder="$NZD" />     </div>     {{# ifCond selected.amount ">" 0}}         <button id="donate-button" class="donate-form__button" data-elem="checkout">Donate ${{priceFix selected.amount}}</button>     {{ else }}         <button id="donate-button" class="donate-form__button" data-elem="checkout">Donate</button>     {{/ifCond}} </div>',Acme.templates.donateSignupForm='<div id="{{id}}" class="donate-form" data-selected="{{selected.price_id}}">     <div class="donate-form__header">         <div class="donate-form__close">             <a class="donate-form__close-icon o-close" href="#" data-behaviour="close"></a>         </div>     </div>         <img src="{{logo}}" class="donate-form__logo"/>             {{# ifCond validEmail "==" null}}         <p class="{{class-prefix}}login-form__email-share j-email-text">Please enter your email address</p>     {{/ifCond}}     {{# ifCond validEmail "==" false}}         <p class="{{class-prefix}}login-form__email-share j-email-text">It looks like you don\'t have an account with us.<br />Would you like to contine with this email address?</p>     {{/ifCond}}         {{# ifCond validEmail "==" true}}         <p class="{{class-prefix}}login-form__email-share j-email-text"><strong>It looks like you have an account with us!</strong> <br />Please enter your password to continue.</p>     {{/ifCond}}             {{# ifCond validEmail "==" false}}         <p class="{{class-prefix}}login-form__input-result {{class-prefix}}login-form__input-result--active j-email-result">{{user.username}}</p>     {{/ifCond}}         <form name="loginForm" id="loginForm" class="{{class-prefix}}login-form active" action="javascript:void(0);" method="post" accept-charset="UTF-8" autocomplete="off">                 <div class="{{class-prefix}}login-form__email-container j-email-container u-margin-top-20">             {{#if user.username }}                 {{#if validEmail }}                     <input id="loginPass" class="{{class-prefix}}login-form__input {{class-prefix}}login-form__input--password j-signin-password" type="password" name="password"  value="" />                 {{/if}}             {{/if}}                         {{# ifCond validEmail "==" null}}                 <input id="loginName" class="{{class-prefix}}login-form__input j-register-username" type="text" name="username" value="" placeholder="" />                 <label for="loginName" class="{{class-prefix}}login-form__input-label input__label">Enter your email address</label>             {{/ifCond}}                         {{# ifCond validEmail "==" false}}                 <button data-elem="" id="" type="" class="{{class-prefix}}login-form__button-back j-retry">Use a different email</button>             {{/ifCond}}         </div>                 <div class="{{class-prefix}}login-form__error_text u-display-none j-error-text"></div>                 <div class="{{class-prefix}}login-form__button-container">             <button data-elem="" id="modal-signinBtn" type="submit" class="{{class-prefix}}login-form__button {{# ifCond validEmail "==" false}}{{class-prefix}}login-form__button--active{{/ifCond}} j-continue">Continue</button>             <div id="email_spinner" class="{{class-prefix}}login-form__spinner u-display-none"><div class="spinner"></div></div>         </div>                 {{# ifCond validEmail "==" true}}             <p class="{{class-prefix}}login-form__forgot  j-forgot" data-elem="forgot" data-behaviour="forgot" class="">Forgot password?</p>         {{/ifCond}}         <script>$("#loginName").on("input", function() {window.scrollBy(0,1);window.scrollBy(0,-1);})<\/script>     </form> </div>',Acme.templates.mailchimpList='<div>         <input type="checkbox" class="email-subscription__checkbox" name="summary-email" id="mailchimp" value="{{listId}}:{{groupId}}" {{checked}}>         <label class="email-subscription__label">{{{name}}}</label>     </div>',Acme.templates.pulldown='<div id="{{ name }}" class="Acme-pulldown {{class}}">     <p class="Acme-pulldown__selected-item"></p>     <span class="Acme-pulldown__span"></span>     <ul class="Acme-pulldown__list" data-key="{{ key }}"></ul> </div>',Acme.templates.create_user='<div class="" style="height:100%; overflow:auto; position:relative">     <div class="user-editor__input-container u-float-left">         <input type="text" id="newuserfirstname" class="j-firstname account-form__input" value="" placeholder="{{firstname}}">     </div>     <div class="user-editor__input-container u-float-right">         <input type="text" id="newuserlastname" class="j-lastname account-form__input" value="" placeholder="{{lastname}}">     </div>     <div class="user-editor__input-container u-float-left">         <input type="text" id="newuseruseremail" class="j-email account-form__input" value="" placeholder="{{useremail}}">         <p id="userError" class="user-editor__error"></p>     </div>     <div id="user-editor-buttons" class="user-editor__input-container user-editor__buttons u-float-right">         <a id="cancelUserCreate" class="userdetails__button userdetails__button--delete u-float-right"></a>         <a id="saveUser"       class="userdetails__button userdetails__button--save u-float-right">Save</a>     </div>     <div id="user-editor__spinner" class="user-editor__spinner"></div> </div>',Acme.templates.edit_user='<div class="" style="height:100%; overflow:auto">     <div class="user-editor__input-container u-float-left">         <input type="text" id="newuserfirstname" class="j-firstname user-editor__input" value="{{firstname}}" placeholder="First name">         <input type="text" id="newuserusername" class="j-username user-editor__input" value="{{username}}" placeholder="Email address">         </div>     <div class="user-editor__input-container u-float-right">         <input type="text" id="newuserlastname" class="j-lastname user-editor__input" value="{{lastname}}" placeholder="Last name">     </div>     <div id="user-editor-buttons" class="user-editor__input-container u-float-right">         <a id="cancelUserCreate" class="userdetails__button userdetails__button--delete u-float-right"></a>         <a id="saveUser"       class="userdetails__button userdetails__button--save u-float-right">Save</a>     </div> </div>',Acme.templates.managed_user='<div class="u-float-left">     <p class="userdetails__name">         <span class="j-firstname">{{firstname}}</span>         <span class="j-lastname">{{lastname}}</span>     </p>     <p class="j-username userdetails__username">{{username}}</p> </div><a class="j-delete userdetails__button userdetails__button--delete u-float-right"></a> <a class="j-edit userdetails__button userdetails__button--edit u-float-right"></a>',Acme.managed_user='<li id="{{id}}" class="userdetails {{cardClass}}">     <div class="u-float-left">         <p class="userdetails__name">             <span class="j-firstname">{{firstname}}</span>             <span class="j-lastname">{{lastname}}</span>         </p>     </div>    <a class="j-delete userdetails__button userdetails__button--delete u-float-right"></a>     <a class="j-edit userdetails__button userdetails__button--edit u-float-right"></a>     <p class="j-email  userdetails__email u-float-right">{{email}}</p> </li>',Acme.templates.signinFormTmpl='<form name="loginForm" id="loginForm" class="{{class-prefix}}login-form active" action="javascript:void(0);" method="post" accept-charset="UTF-8" autocomplete="off">                 <input id="loginName" class="{{class-prefix}}login-form__input j-register-username" type="text" name="username" placeholder="Email address" value="" />         <input id="loginPass" class="{{class-prefix}}login-form__input j-signin-password" type="password" name="password" placeholder="Password" value="" />                 <div class="remember">             <p class="{{class-prefix}}login-form__forgot layout" data-layout="forgot" class="">Forgot password</p>         </div>                 <div class="{{class-prefix}}login-form__error message active u-hide">             <div class="{{class-prefix}}login-form__error_text">Invalid Email or Password</div>         </div>                 <button data-elem="signin" id="modal-signinBtn" type="submit" class="{{class-prefix}}login-form__button _btn _btn--red signin">SIGN IN</button>                 <p class="{{class-prefix}}login-form__faq u-no-margin u-margin-top-15 login-form-faq">Trouble signing in? <a class="login-form-faq__link" href="'+_appJsConfig.appHostName+'/faq" target="_blank">Read our FAQ</a></p>                 {{# ifCond name "!=" "donate-"}}             <div class="reset">                 <p class="layout" data-layout="forgot" class="">Set my password</p>             </div>         {{/ifCond}}         <script>$("#loginName").on("input", function() {window.scrollBy(0,1);window.scrollBy(0,-1);})<\/script>    </form>',Acme.templates.registerTmpl='<form name="registerForm" id="registerForm" class="active" action="javascript:void(0);" method="post" accept-charset="UTF-8" autocomplete="off">                 <input id="name" class="" type="text" name="name" placeholder="Name">         <input id="email" class="" type="email" name="email" placeholder="Email">                 <div class="message active u-hide">             <div class="account-modal__error_text">Done!</div>         </div>                 <button id="signinBtn" type="submit" class="_btn _btn--red register">Register</button>     </form>',Acme.templates.forgotFormTmpl='<form name="forgotForm" id="forgotForm" class="password-reset-form active" action="javascript:void(0);" method="post" accept-charset="UTF-8" autocomplete="off">         <input type="hidden" name="_csrf" value="" />         <p class="password-reset-form__p">Enter your email below and we will send you a link to set your password.</p>         <input id="email" class="password-reset-form__input" type="text" name="email" placehold="Email" value="">                 <div class="message active u-hide">             <div class="password-reset-form__error_text">No user with that email found.</div>         </div>                 <button id="forgotBtn" type="submit" class="_btn _btn--red forgot">SEND EMAIL</button>     </form>',Acme.templates.spinner='<div id="{{name}}" class="flex_col {{name}}">         <div id="dialog" class="{{name}}__window">             <div class="{{name}}__header">                 <h2 class="{{name}}__title">{{title}}</h2>             </div>             <div class="{{name}}__content-window" id="dialogContent"></div>         </div>     </div>',Acme.templates.spinnerTmpl='<div class="spinner"></div>',Acme.templates.subscribeTerms='<p class="password-reset-form__p u-margin-bottom-20">Please agree to the terms of use.</p><div><form><button class="_btn _btn--red" data-role="okay">OK</button></form></div>',Acme.templates.ipnotice='<p class="ipdialog__p u-margin-bottom-20">You can access Pro under this subscription – simply email <a href="mailto:pro@newsroom.co.nz"><strong>pro@newsroom.co.nz</strong></a> for a login.</p>     <div>         <form>             <a href="mailto:pro@newsroom.co.nz" class="ipdialog__btn _btn _btn--red _btn--outline-red">CONTACT US</a>             <button class="ipdialog__btn _btn _btn--outline" data-role="close">I\'LL DO IT LATER</button>         </form>     </div>',Acme.templates.userPlanMessage='<p class="{{name}}__message centerText">{{{message}}}</p> <form name="loginForm" id="loginForm" class="active u-margin-top-20" action="javascript:void(0);" method="post" accept-charset="UTF-8" autocomplete="off">      <button id="cancelbutton" class="_btn _btn--red close" data-role="cancel">OK</button> </form>',Acme.templates.userPlanOkCancel='<form name="loginForm" id="loginForm" class="active" action="javascript:void(0);" method="post" accept-charset="UTF-8" autocomplete="off">      <button id="okaybutton" class="_btn _btn--red okay" data-role="okay">OK</button>      <button id="cancelbutton" class="_btn _btn--gray close" data-role="cancel">Cancel</button> </form>',Acme.templates.modalVideo='<div id="popupVideo" class="popup-video">     <div class="popupVideo__logo-container">         <img class="popupVideo__logo" src="{{path}}/static/images/nr-logo.svg" alt="logo">     </div>     <video class="popupVideo__video" controls autoplay poster="{{path}}/static/videos/newsroom_awards_full.jpg">          <source src="https://s3-ap-southeast-2.amazonaws.com/cog-aap/themes/g02Ei4J8TjnbLiR/static/videos/Newsroom_Awards_Full.mp4" type="video/mp4"/>     </video> </div>',Acme.templates.registerPopup='<div id="register-popup" class="register-popup">     <div class="container">         <div class="row">             <div class="col-xs-6 ">                 <img class="register-popup__logo" src="{{path}}/static/images/newsroom-reversed.png" alt="logo">             </div>             <div class="col-xs-6 ">                 <div class="register-popup__close-container">                     <a href="#" id="register-popup-close" class="register-popup__close register-popup__close@sm">CLOSE <span class="register-popup__close-icon"></span></a>                     <a href="#" id="register-popup-subscriber" class="register-popup__subscriber register-popup__subscriber@sm">I\'ve already subscribed</a>                 </div>            </div>         </div>         <div class="row">            <div class="col-sm-5">                 <p class="register-popup__text">                     Start your day with our editors\' picks of the very best stories.                     Sign up here for your free daily briefing email. <br />                 </p>             </div>                         <div class="col-sm-offset-1 col-sm-6">                 <div id="mc_embed_signup" class="popup-embed-signup">                     <form action="//newsroom.us14.list-manage.com/subscribe/post?u=e0ae259e8f9472b9c54037c25&amp;id=71de5c4b35" method="post" id="mc-embedded-subscribe-form-popup" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>                         <div id="mc_embed_signup_scroll" style="display:flex">                             <div class="mc-field-group popup-embed-signup__field">                                 <input type="email" value="" name="EMAIL" class="required email popup-embed-signup__input" id="mce-EMAIL" placeholder="Email address" style="color:black; border:none">                             </div>                             <button type="submit" class="popup-embed-signup__button" name="subscribe" id="mc-embedded-subscribe">                                 Sign Up                             </button>                                                         <div id="mce-responses" class="clear">                                 <div class="response" id="mce-error-response" style="display:none"></div>                                 <div class="response" id="mce-success-response" style="display:none"></div>                             </div>                             <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_e0ae259e8f9472b9c54037c25_71de5c4b35" tabindex="-1" value=""></div>                         </div>                     </form>                 </div>             </div>         </div>     </div> </div>';var systemCardTemplate='<div class="{{containerClass}} ">     <a  itemprop="url"         href="{{url}}"         class="card swap {{hasMediaClass}}"         data-id="{{articleId}}"         data-position="{{position}}"         data-social="0"         data-article-image="{{{imageUrl}}}"         data-article-text="{{title}}">                 <article class="{{cardType}}c-cards-view">            {{#if hasMedia}}                <figure class="{{cardType}}c-cards-view__media">                    <img class="img-fluid lazyload" data-original="{{imageUrl}}" src="{{imageUrl}}" style="background-image:url("{{placeholder}}"")>                 </figure>            {{/if}}                     <div class="{{cardType}}c-cards-view__container content">                    <div class="{{cardType}}c-cards-view__category category">{{label}}</div>                    <h2 class="{{cardType}}c-cards-view__heading j-truncate">{{{ title }}}</h2class="">                    <p class="{{cardType}}c-cards-view__description j-truncate">{{{ excerpt }}}</p>                    <div class="{{cardType}}c-cards-view__author-name author">                        <img src="{{profileImg}}" class="img-circle">                        <p class="">{{ createdBy.displayName }}</p>                    </div>            </div>        </article>{{#if userHasBlogAccess}}<div class="btn_overlay articleMenu"><button title="Hide" data-guid="{{guid}}" class="btnhide social-tooltip HideBlogArticle" type="button" data-social="0"><i class="fa fa-eye-slash"></i><span class="hide">Hide</span></button><button onclick="window.location=\'{{{editUrl}}}\'; return false;" title="Edit" class="btnhide social-tooltip" type="button"><i class="fa fa-edit"></i><span class="hide">Edit</span></button><button data-position="{{position}}" data-social="0" data-id="{{articleId}}" title="{{pinTitle}}" class="btnhide social-tooltip PinArticleBtn" type="button" data-status="{{isPinned}}"><i class="fa fa-thumb-tack"></i><span class="hide">{{pinText}}</span></button></div>{{/if}}</a></div>',cardTemplateTop='<div class="{{cardClass}} ">     <a  itemprop="url"         href="{{url}}"         class="card swap {{articleStatus}}  {{hasMediaClass}}"         data-id="{{articleId}}"         data-position="{{position}}"         data-status="{{articleStatus}}"         data-social="0"         data-article-image="{{{imageUrl}}}"         data-article-text="{{title}}"         title="{{titleString}}">             <article class="{{cardType}}c-cards-view">',cardTemplateBottom='</article>{{#if userHasBlogAccess}}<div class="btn_overlay articleMenu"><button title="Hide" data-guid="{{guid}}" class="btnhide social-tooltip HideBlogArticle" type="button" data-social="0"><i class="fa fa-eye-slash"></i><span class="hide">Hide</span></button><button onclick="window.location=\'{{{editUrl}}}\'; return false;" title="Edit" class="btnhide social-tooltip" type="button"><i class="fa fa-edit"></i><span class="hide">Edit</span></button><button data-position="{{position}}" data-social="0" data-id="{{articleId}}" title="{{pinTitle}}" class="btnhide social-tooltip PinArticleBtn" type="button" data-status="{{isPinned}}"><i class="fa fa-thumb-tack"></i><span class="hide">{{pinText}}</span></button></div>{{/if}}</a></div>';Acme.systemCardTemplate=cardTemplateTop+'{{#if hasMedia}}            <figure class="{{cardType}}c-cards-view__media">                <img class="img-responsive {{imgClass}}" data-original="{{imageUrl}}" src="{{imageUrl}}" {{imgBackgroundStyle}}">            </figure>        {{/if}}                 <div class="{{cardType}}c-cards-view__container content">            <div class="{{cardType}}c-cards-view__category category">{{label}}</div>            <h2 class="{{cardType}}c-cards-view__heading j-truncate">{{{ title }}}</h2>            <p class="{{cardType}}c-cards-view__description j-truncate">{{{ excerpt }}}</p>            <div class="{{cardType}}c-cards-view__author-name author">                <img src="{{profileImg}}" class="img-circle">                <p>{{ createdBy.displayName }}</p>            </div>        </div>'+cardTemplateBottom;var socialCardTemplate='<div class="{{containerClass}}"><a href="{{social.url}}" target="_blank" class="card swap card__{{social.source}} {{#if social.hasMedia}} withImage__content {{else }} without__image {{/if}} {{videoClass}}" data-id="{{socialId}}" data-position="{{position}}" data-social="1" data-article-image="{{{social.media.path}}}" data-article-text="{{social.content}}">{{#if social.hasMedia}}<div class="card-image lazyload" data-original="{{social.media.path}}" style="background-image:url(https://placeholdit.imgix.net/~text?txtsize=33&txt=Loading&w=450&h=250)"><div class="play_icon video-player" data-source="{{social.source}}" data-url="{{social.media.videoUrl}}" data-poster="{{social.media.path}}"></div></div>{{/if}}<div class="content-section"><div class="title-section"><span>{{social.source}}</span><div class="card-icon"></div></div><p class="description" id="updateSocial{{socialId}}" data-update="0">{{{social.content}}}</p><div class="caption_bottom"><div class="author_name">{{social.user.name}}</div><div class="post_date">{{social.publishDate}}</div></div></div>{{#if userHasBlogAccess}}<div class="btn_overlay articleMenu"><button title="Hide" data-guid="{{social.guid}}" class="btnhide social-tooltip HideBlogArticle" type="button" data-social="1"><i class="fa fa-eye-slash"></i><span class="hide">Hide</span></button><button title="Edit" class="btnhide social-tooltip editSocialPost" type="button" data-url="/admin/social-funnel/update-social?guid={{blog.guid}}&socialguid={{social.guid}}"><i class="fa fa-edit"></i><span class="hide">Edit</span></button><button data-position="{{position}}" data-social="1" data-id="{{socialId}}" title="{{pinTitle}}" class="btnhide social-tooltip PinArticleBtn" type="button" data-status="{{isPinned}}"><i class="fa fa-thumb-tack"></i><span class="hide">{{pinText}}</span></button></div>{{/if}}</a></div>';!function(e){Acme.LoadAds=function(){if(e(".j-adslot").length>0)for(var t=e(".j-adslot"),i=(d=e(window).width())>991?"desktop":d<992&&d>767?"tablet":d<768?"mobile":"",n=0;n<t.length;n++){var o=t[n],s="";if(o.id){(s=e("#"+o.id)).removeClass("j-adslot"),s.addClass("j-adslot-filled");var r=[o.id];if(o.dataset.responsive&&"0"!=o.dataset.responsive||""==i||r.push(i),e(".j-keyword-cont").length>0){var a=e(".j-keyword-cont")[0].dataset.keywords.split(",");if(""!=a[0])for(var l=0;l<a.length;l++)""!=a[l]&&r.push(a[l]);else r.push("default")}else r.push("default");var c=r.join(","),u="";"http://www.publish.io"==_appJsConfig.appHostName&&(u=":8080"),e.ajax({type:"GET",url:_appJsConfig.appHostName+u+"/api/ad/get-all",dataType:"json",data:{keywords:c},success:function(t,i,n){if(t.length<1)console.log("no ads found with those keywords",c);else{if(t.length>1)var o=Math.round(Math.random()*(t.length-1));else o=0;var s=t[o];if(keys=s.keywords.split(","),s.media.path)e("#"+keys[0]).html("<div id='advertisment__"+keys[0]+"' class='advertisment advertisment__"+keys[0]+" advertisment__"+keys[1]+"'><a href='"+s.button.url+"'><img src='"+s.media.path+"'></a></div>");else if(s.description){e("#"+keys[0]).html("<div id='advertisment__"+keys[0]+"' class='advertisment advertisment__"+keys[0]+" advertisment__"+keys[1]+"'>"+s.description+"</div>");try{adPush(keys[0])}catch(e){console.log("no ad found to push at advertisment__"+keys[0],e)}}}},error:function(t,i,n){console.log("error retreiving ad",i,n),e("#createUserErrorMessage").text(i)}})}else console.log("ad slot has no id")}var d},Acme.LoadAds()}(jQuery),adPush=function(e){var t=document.getElementById("g-ad-id").dataset.accno,i=document.getElementsByClassName("j-keyword-cont"),n="",o="",s="",r="",a="";i[0]&&(n=i[0].dataset.keyword,o=i[0].dataset.pagename.replace(/ /g,"_"),s=i[0].dataset.pagetype,r=i[0].dataset.pagetag,i[0].dataset.adsection&&(a=i[0].dataset.adsection)),googletag.cmd.push((function(){var i=googletag.sizeMapping().addSize([1e3,200],[[970,250],[970,90],[728,250],[728,90]]).addSize([768,200],[[728,250],[728,90]]).addSize([480,200],[[300,75]]).addSize([360,400],[[300,75]]).addSize([320,400],[[300,75]]).build(),l=googletag.sizeMapping().addSize([1e3,200],[[300,250]]).addSize([768,200],[[300,250],[300,75]]).addSize([320,400],[[300,250],[300,75]]).build(),c=googletag.sizeMapping().addSize([1e3,200],[[300,600],[300,250]]).addSize([768,200],[[300,600],[300,250],[300,75]]).addSize([320,400],[[300,250],[300,75]]).build(),u=googletag.sizeMapping().addSize([0,0],[[1,1]]).build(),d=e,p="div-gpt-ad-"+d,h=document.getElementById(d).dataset.adshape,m=document.getElementById(p);invSlot=""==a?t+m.dataset.inventory:t+a;var f=d.slice(-1),g=[0,0],v=u;"banner"==h?(g=[[970,250],[970,90],[728,90],[728,250],[300,75]],v=i):"mrec"==h?(g=[[300,250],[300,75]],v=l):"hpage"!=h&&"side-fix"!=h||(g=[[300,600],[300,250],[300,75]],v=c),googletag.pubads().enableSingleRequest(),googletag.pubads().setTargeting("section",[o]).setTargeting("keyword",[n]).setTargeting("page-type",[s]).setTargeting("tag",[r]),googletag.pubads().collapseEmptyDivs(),googletag.enableServices(),googletag.defineSlot(invSlot,g,p).setTargeting("POS",[f]).defineSizeMapping(v).addService(googletag.pubads()),googletag.cmd.push((function(){googletag.display(p)}))}))},Acme.Feed=function(){},Acme.Feed.prototype.fetch=function(){var e=this;e.elem.html("Please wait...");var t=$("#"+e.elem.data("container"));e.options={nonPinnedOffset:e.elem.data("non-pinned-offset")||-1,container:t,loadtype:e.elem.data("loadtype")||"home",offset:e.elem.data("offset")||e.elem.data("limit"),blogid:e.elem.data("blogguid"),search:e.elem.data("searchterm")||null,limit:e.elem.data("limit")},null!=e.options.search&&(e.options.blogid=e.elem.data("blogid")),$.fn.Ajax_LoadBlogArticles_new(e.options).done((function(t){1==t.success&&e.render(t)}))},Acme.Feed.prototype.events=function(){var e=this;e.elem.unbind().on("click",(function(t){t.preventDefault(),e.fetch()})),this.infinite&&this.offset>=this.limit&&(e.waypoint=new Waypoint({element:e.elem,offset:"80%",handler:function(t){"down"==t&&e.fetch()}}))},Acme.View.articleFeed=function(e,t,i,n,o,s){this.feedModel=e,this.offset=i||0,this.limit=t||10,this.controller=s||null,this.infinite=n||!1,this.waypoint=!1,this.options={},this.elem=$(".loadMore"),this.failText=o||null,this.events()},Acme.View.articleFeed.prototype=new Acme.Feed,Acme.View.articleFeed.constructor=Acme.View.articleFeed,Acme.View.articleFeed.prototype.render=function(e){var t=[];e.articles&&(t=e.articles),e.userArticles&&(t=e.userArticles);var i=this.elem.data("card-class"),n=this.elem.data("card-template")||null,o=this.elem.data("button-label")||"Load more",s=this.elem.data("ads")||null,r=this.elem.data("imgwidth")||null,a=this.elem.data("imgheight")||null,l=this.elem.data("rendertype")||null;this.elem.html(o),t.length<this.options.limit?this.elem.css("display","none"):this.elem.show(),this.elem.data("non-pinned-offset",e.existingNonPinnedCount),this.elem.data("offset",this.options.offset+this.options.limit);var c=[];if("yes"==s&&c.push(window.templates.ads_infinite),0===t.length&&this.failText)c=["<p>"+this.failText+"</p>"];else for(var u in t)t[u].imageOptions={width:r,height:a},c.push(this.feedModel.renderCard(t[u],i,n));"write"===l?this.options.container.empty().append(c.join("")):this.options.container.append(c.join("")),this.waypoint&&(t.length<this.options.limit?this.waypoint.disable():this.waypoint.enable()),$(".card .content > p, .card h2, .card .content .author > p").dotdotdot(),$("img.lazyload").lazyload({effect:"fadeIn"}),this.elem.data("rendertype",""),this.feedModel.events()},Acme.View.userFeed=function(e,t,i,n,o,s){this.feedModel=e,this.controller=s||null,this.offset=i||0,this.limit=t||10,this.infinite=n||!1,this.waypoint=!1,this.options={},this.elem=$(".loadMore"),this.failText=o||null,this.events()},Acme.View.userFeed.prototype=new Acme.Feed,Acme.View.userFeed.constructor=Acme.View.userFeed,Acme.View.userFeed.prototype.render=function(e){var t=e.users.users||e.users,i=this.elem.data("card-class"),n=this.elem.data("card-template")||null,o=this.elem.data("button-label")||"Load more",s=(this.elem.data("ads"),this.elem.data("rendertype")||null);this.elem.html(o),t.length<this.options.limit?this.elem.css("display","none"):this.elem.show(),this.elem.data("offset",this.options.offset+this.options.limit);var r=[];if(0===t.length&&this.failText)r=["<p>"+this.failText+"</p>"];else for(var a in t)r.push(this.feedModel.render(t[a],i,n));"write"===s?this.options.container.empty().append(r.join("")):this.options.container.append(r.join("")),this.waypoint&&(t.length<this.options.limit?this.waypoint.disable():this.waypoint.enable()),this.controller.userEvents(),$(".card .content > p, .card h2").dotdotdot(),$("div.lazyload").lazyload({effect:"fadeIn"}),this.elem.data("rendertype","")},Acme.Usercard=function(){},Acme.Usercard.prototype.render=function(e,t,i,n){e.cardClass=t;i=i?Acme[i]:Acme.systemCardTemplate;return userTemplate=Handlebars.compile(i),userTemplate(e)};var AuthController=(jQuery,{loginOrSignup:function(){AuthController.LoginOrSignup.init()},socialSingup:function(){AuthController.SocialSignup.init()},forgotPassword:function(){AuthController.ForgotPassword.init()},resetPassword:function(){AuthController.ResetPassword.init()}});AuthController.LoginOrSignup=function(e){return{init:function(){e("#loginForm").validateLoginForm(),e("#signupForm").validateSignupForm(),e(".signupBtn").on("click",(function(){e(".loginTab, #Login").removeClass("active"),e(".signupTab, #SignUp").addClass("active")})),e(".loginBtn").on("click",(function(){e(".loginTab, #Login").addClass("active"),e(".signupTab, #SignUp").removeClass("active")}))}}}(jQuery),AuthController.SocialSignup=function(e){return{init:function(){e("#signupForm").validateSoicalSignupForm()}}}(jQuery),AuthController.ForgotPassword=function(e){return{init:function(){e("#forgotPasswordForm").validate({rules:{email:{required:!0}},messages:{email:"Email or username cannot be blank."}})}}}(jQuery),AuthController.ResetPassword=function(e){return{init:function(){e("#resetPasswordForm").validate({rules:{password:{required:!0,minlength:6},verifypassword:{required:!0,minlength:5,equalTo:"#password"}},messages:{password:{required:"Password cannot be blank.",minlength:"Password should contain at least 6 characters."},verifypassword:{required:"Verify password cannot be blank.",minlength:"Verify Password should contain at least 6 characters.",equalTo:"Verify Password should exactly match Password"}}})}}}(jQuery);var CardController=function(){return new Card},Card=function(){this.events()};Card.prototype.renderCard=function(e,t,i,n){i=i?Acme[i]:Acme.systemCardTemplate;e.cardClass=t,"draft"==e.status&&(e.articleStatus="draft",e.cardClass+=" draft"),e.cardType=e.type||"",e.lightbox=e.lightbox||"",e.pinTitle=1==e.isPinned?"Un-Pin Article":"Pin Article",e.pinText=1==e.isPinned?"Un-Pin":"Pin",e.promotedClass=1==e.isPromoted?"ad_icon":"",e.hasMediaClass=1==e.hasMedia?"withImage__content":"without__image",e.imgClass=0==e.lazyloadImage?"":"lazyload",e.imgBackgroundStyle=0==e.lazyloadImage?"":'style="background-image:url(https://placeholdit.imgix.net/~text?txtsize=33&txt=Loading&w=450&h=250)"',e.readingTime=this.renderReadingTime(e.readingTime),e.blogClass="",null!==e.blog.id&&(e.blogClass="card--blog_"+e.blog.id);var o=500,s=350;if(e.imageOptions&&(o=e.imageOptions.width||o,s=e.imageOptions.height||s),e.profileImg=$.image({media:e.createdBy.media,mediaOptions:{width:34,height:34,crop:"thumb",gravity:"face"}}),e.imageUrl=$.image({media:e.featuredMedia,mediaOptions:{width:o,height:s,crop:"limit"}}),e.titleString="",1===_appJsConfig.isUserLoggedIn&&1===_appJsConfig.userHasBlogAccess){var r="",a=!!e.total&&e.total;a&&(r=(r="Viewed "+a.view+" times")+" Published "+e.publishedDateTime),e.titleString=r}var l,c=parseInt(e.articleId);return isNaN(c)||c<=0?(e.videoClass="",e.social.media.type&&"video"==e.social.media.type&&(e.videoClass="video_card"),l=Handlebars.compile(socialCardTemplate)):l=Handlebars.compile(i),l(e)},Card.prototype.renderReadingTime=function(e){return e<="59"?(e<=0?1:e)+" min read":Math.round(parseInt(e)/100)+" hour read"},Card.prototype.bindPinUnpinArticle=function(){$("button.PinArticleBtn").Ajax_pinUnpinArticle({onSuccess:function(e,t){var i=$(t).data("status");t=$(t);1==i?t.attr("title","Un-Pin Article"):t.attr("title","Pin Article"),1==i?t.find("span").first().html("Un-Pin"):t.find("span").first().html("Pin")}})},Card.prototype.bindDeleteHideArticle=function(){$("button.HideBlogArticle").Ajax_deleteArticle({onSuccess:function(e,t){$(t).closest(".card").parent("div").remove(),$("body").find(".card").length<=0&&$(".NoArticlesMsg").removeClass("hide")}})},Card.prototype.bindSocialUpdatePost=function(){$(".editSocialPost").on("click",(function(e){e.preventDefault();var t=$(this),i=t.data("url"),n=window.open(i,"_blank","toolbar=no,scrollbars=yes,resizable=false,width=360,height=450");n.focus();var o=setInterval((function(){if(n.closed){clearInterval(o);var e=t.parents("a").data("id");"1"==$("#updateSocial"+e).data("update")&&$().General_ShowNotification({message:"Social Post(s) updated successfully."})}}),50)}))},Card.prototype.lightbox=function(e,t){var i=$('meta[name="csrf-token"]').attr("content");if(e.data("social"))var n="/api/social/get-social-post",o={blog_guid:e.data("blog-guid"),guid:e.data("guid"),_csrf:i};else n="/api/article/get-article",o={articleId:e.data("id"),_csrf:i};t||$.ajax({type:"GET",url:_appJsConfig.appHostName+n,dataType:"json",data:o,success:function(e,t,i){if(e.hasMediaVideo=!1,"video"===e.media.type&&(e.hasMediaVideo=!0),"youtube"==e.source){var n=e.media.videoUrl.split("=");e.media.videoUrl="https://www.youtube.com/embed/"+n[1]}e.templatePath=_appJsConfig.templatePath;var o=Handlebars.compile(socialPostPopupTemplate)(e);$(".modal").html(o),setTimeout((function(){$(".modal").modal("show")}),500)},error:function(e,i,n){t=!1},beforeSend:function(e,i){t=!0},complete:function(e,i){t=!1}})},Card.prototype.BindLightboxArticleBtn=function(){var e=this;$(".LightboxArticleBtn").on("click",(function(t){t.stopPropagation(),t.preventDefault();var i=$(this).parent().parent();e.lightbox(i)}))},Card.prototype.bindSocialPostPopup=function(){$(document).on("click","article.lightbox",(function(e){var t=$(this).parent();self.lightbox(t,!1)}))},Card.prototype.initDraggable=function(){$.draggable&&$(".swap").draggable({helper:"clone",revert:!0,zIndex:100,scroll:!0,scrollSensitivity:100,cursorAt:{left:150,top:50},appendTo:"body",start:function(e,t){t.helper.attr("class","");var i=$(t.helper).data("article-image"),n=$(t.helper).data("article-text");""!==i?$("div.SwappingHelper img.article-image").attr("src",i):$("div.SwappingHelper img.article-image").attr("src","http://www.placehold.it/100x100/EFEFEF/AAAAAA&amp;text=no+image"),$("div.SwappingHelper p.article-text").html(n),$(t.helper).html($("div.SwappingHelper").html())}})},Card.prototype.initDroppable=function(){var e=this;$.droppable&&$(".swap").droppable({hoverClass:"ui-state-hover",drop:function(t,i){function n(e,t){return e.find("a.card").eq(t)}var o=$(i.draggable),s=$(this),r=null,a=null;void 0!==o.data("proxyfor")&&(r=o,(o=n($("."+r.data("proxyfor")),r.data("position")-1)).attr("data-position",s.data("position"))),void 0!==s.data("proxyfor")&&(a=s,(s=n($("."+s.data("proxyfor")),s.data("position")-1)).attr("data-position",o.data("position")));var l=o.data("position"),c=o.data("id"),u=parseInt(o.data("social")),d=parseInt(o.find(".PinArticleBtn").attr("data-status")),p=s.data("position"),h=s.data("id"),m=parseInt(s.data("social")),f=parseInt(s.find(".PinArticleBtn").attr("data-status")),g=o.clone().removeAttr("style").insertAfter(s),v=s.clone().insertAfter(o);r&&(r.find("h2").text(s.find("h2").text()),g.addClass("swap"),v.removeClass("swap"),r.attr("data-article-text",s.data("article-text")),r.attr("data-article-image",s.data("article-image"))),a&&(u?a.find("h2").text(o.find("p").text()):a.find("h2").text(o.find("h2").text()),v.addClass("swap"),g.removeClass("swap"),a.attr("data-article-text",o.data("article-text")),a.attr("data-article-image",o.data("article-image"))),v.attr("data-position",l),g.attr("data-position",p),v.find(".PinArticleBtn").attr("data-position",l),g.find(".PinArticleBtn").attr("data-position",p),v.find(".PinArticleBtn").attr("data-status",f),g.find(".PinArticleBtn").attr("data-status",d),$(i.helper).remove(),o.remove(),s.remove();var y={sourcePosition:l,sourceArticleId:c,sourceIsSocial:u,destinationPosition:p,destinationArticleId:h,destinationIsSocial:m,_csrf:$('meta[name="csrf-token"]').attr("content")};$.ajax({url:_appJsConfig.baseHttpPath+"/home/swap-article",type:"post",data:y,dataType:"json",success:function(t){t.success&&$.fn.General_ShowNotification({message:"Articles swapped successfully"}),$(".j-truncate").dotdotdot(),e.events()},error:function(e,t,i){$.fn.General_ShowErrorMessage({message:e.responseText})}})}})},Card.prototype.events=function(){1===_appJsConfig.isUserLoggedIn&&1===_appJsConfig.userHasBlogAccess&&(this.initDroppable(),this.initDraggable(),this.bindPinUnpinArticle(),this.bindDeleteHideArticle(),this.bindSocialUpdatePost(),this.BindLightboxArticleBtn()),this.bindSocialPostPopup()},Acme.Confirm=function(e,t,i){this.template=e,this.parentCont=t,this.layouts=i,this.parent=Acme.modal.prototype,this.data={}},Acme.Confirm.prototype=new Acme.modal,Acme.Confirm.constructor=Acme.Confirm,Acme.Confirm.prototype.errorMsg=function(e){$(".message").toggleClass("hide")},Acme.Confirm.prototype.handle=function(e){var t=this;this.parent.handle.call(this,e);var i=$(e.target);if(i.is("a")&&i.hasClass("close")&&($("body").removeClass("active"),this.closeWindow()),i.is("button")){if(i.hasClass("signin")){e.preventDefault();var n={};$.each($("#loginForm").serializeArray(),(function(){n[this.name]=this.value})),Acme.server.create("/api/auth/login",n).done((function(e){1===e.success?window.location.href=location.origin:t.errorMsg()})).fail((function(e){console.log(e)}))}if(i.hasClass("register")){e.preventDefault();n={};if($.each($("#registerForm").serializeArray(),(function(){n[this.name]=this.value})),""!==n.email&&""!==n.name){function o(){t.closeWindow()}$.get("https://submit.pagemasters.com.au/ubt/submit.php?email="+encodeURI(n.email)+"&name="+encodeURI(n.name)),i.addClass("spinner"),setTimeout(o,2e3)}else alert("Please fill out all fields.")}if(i.hasClass("forgot")){e.preventDefault();n={};$.each($("#forgotForm").serializeArray(),(function(){n[this.name]=this.value})),Acme.server.create("/api/auth/forgot-password",n).done((function(e){1===e.success?location.reload():t.errorMsg()})).fail((function(e){console.log(e)}))}if(i.hasClass("default-weather")){var s=Acme.State.Country+"/"+Acme.State.City;function o(){Acme.PubSub.publish("update_state",{localweather:s}),t.closeWindow()}localStorage.setItem("city",s),setTimeout(o,500)}"delete"===i.data("role")&&(i.addClass("spinner"),Acme.PubSub.publish("update_state",{"delete listing":""})),"deleteImage"===i.data("role")&&Acme.PubSub.publish("update_state",{"delete image":t.data})}if(i.hasClass("layout")){var r=i.data("layout");this.renderLayout(r)}},Acme.IPCheck=function(){function e(e){var t=e.split(".");return 256*(256*(256*+t[0]+ +t[1])+ +t[2])+ +t[3]}$((function(){Acme.IPToken=new Acme.Token("IP_ACCOUNT");var t=Acme.IPToken.getToken(),i=[];if(!t){if(void 0===window.IPAdresses)return;i=window.IPAdresses,$.getJSON("https://api.ipify.org?format=jsonp&callback=?",(function(t){console.log(t);for(var n=!1,o=e(t.ip),s=0;s<i.length;s++)if(0!==i[s].indexOf("//")){var r=i[s].split("-");if(r.length<2)if(r[0].indexOf("*")>-1){var a=r[0];r[0]=e(a.replace(/\*/g,"0")),r.push(e(a.replace(/\*/g,"255")))}else r[0]=e(r[0]),r.push(r[0]);else r[0]=e(r[0]),r[1]=e(r[1]);if(o>=r[0]&&o<=r[1]){n=!0;break}}n&&(Acme.IPNoticePopup=new Acme.IPNotice("modal","ipdialog",{main:"ipnotice"}),Acme.IPNoticePopup.render("main","Did you know your employer is a subscriber to Newsroom Pro?"))}))}}))},Acme.IPNotice=function(e,t,i){this.template=e,this.parentCont=t,this.layouts=i,this.parent=Acme.modal.prototype,this.data={}},Acme.IPNotice.prototype=new Acme.modal,Acme.IPNotice.constructor=Acme.IPNotice,Acme.IPNotice.prototype.errorMsg=function(e){$(".message").toggleClass("hide")},Acme.IPNotice.prototype.handle=function(e){this.parent.handle.call(this,e);var t=$(e.target);(t.is("a")||t.parent().is("a"))&&(this.closeWindow(),Acme.IPToken.setToken("true")),t.is("button")&&("close"===t.data("role")&&this.closeWindow(),Acme.IPToken.setToken("true"))},Acme.DonateModal=function(e,t,i,n){this.template=e,this.parentCont=t,this.layouts=i,this.parent=Acme.modal.prototype,this.handler=n},Acme.DonateModal.prototype=new Acme.modal,Acme.DonateModal.constructor=Acme.DonateModal,Acme.DonateModal.prototype.errorMsg=function(e){$(".message").removeClass("u-hide")},Acme.modal.prototype.events=function(){var e=this;$("#"+this.parentCont).on("click",(function(t){e.handle(t)}))},Acme.DonateModal.prototype.handle=function(e){this.parent.handle.call(this,e);this.handler.call(Acme.donations,e)},Acme.Donations=function(e,t){this.container=document.getElementById(t.container),this.active={},this.defaults={},this.userSelected=!1,this.selectedInterval=null,this.selectedAmount=null,this.selected={},this.products=[],this.pricing={},this.stripe_key=t.stripe_key,this.Stripe=e,this.priceRequests=[],this.guest=t.guest||!0,this.user={},this.validEmail=null,this.emailRegex=/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,self.next="email-check","1"!==this.guest&&this.fetchUser().done((function(e){1===e.success&&(this.user=e.self)})),this.modal=new Acme.DonateModal("donate_modal","donate-modal",{donate:"donations",spinner:"spinnerTmpl",register:"registerTmpl",signin:"donateSignupForm",register:"registerTmpl","reset-success":"donateResetPassword"},this.handler),this.events()},Acme.Donations.prototype.load=function(e){var t=this;try{if(Object.keys(t.pricing).length>0)return void t.renderPrices();t.pricing={},this.fetchProducts().done((function(e){for(let i=0;i<e.data.length;i++)e.data[i].active&&t.products.push(e.data[i]);t.fetchPrices().done((function(e){console.log(e);var i=Array.prototype.slice.call(arguments);"success"===i[1]&&(i=[i]),i.forEach((function(e){var i=e[0].data,n=e[2].productId;t.products.filter((function(e){return e.id==n}))[0].prices=i})),t.parsePrices()&&t.renderPrices()}))}))}catch(e){console.log(e)}},Acme.Donations.prototype.fetchProducts=function(){return Acme.server.fetch("/api/paywall/stripe-products",{})},Acme.Donations.prototype.fetchPrices=function(){for(var e=0;e<this.products.length;e++)void 0!==this.products[e].metadata.active&&"true"!==this.products[e].metadata.active||(this.products[e].prices=[],this.priceRequests.push(this.fetchPrice(this.products[e])));return $.when.apply(void 0,this.priceRequests)},Acme.Donations.prototype.fetchPrice=function(e){var t=Acme.server.fetch("/api/paywall/stripe-product-prices",{product:e.id});return t.productId=e.id,t},Acme.Donations.prototype.parsePrices=function(e){for(product in this.products)if(product=this.products[product],void 0!==product.metadata.active&&"true"===product.metadata.active){var t=["month","year","one_time"];void 0!==product.metadata.order&&(t=product.metadata.order.split(",")),this.active[product.id]=t[0],this.selected.interval=t[0],this.pricing[product.id]={id:product.id,name:product.name,description:product.description,prices:[],intervals:[]};var i={};for(n in product.prices){var n=product.prices[n],o=null;void 0===i[o="one_time"===n.type?n.type:n.recurring.interval]&&(i[o]=[]),void 0!==n.metadata.default&&"true"===n.metadata.default&&(this.defaults[o]=[n.product,n.id]);var s={unit_amount:n.unit_amount,price:n.unit_amount/100,id:n.id,product:n.product,currency:n.currency};if(this.selectedAmount===s.unit_amount&&this.selectedInterval===o)return this.selected.product_id=n.product,this.selected.price_id=n.id,this.userSelected=!0,"1"===this.guest?(this.renderLayout("signin"),!1):(this.checkout(),!1);for(var r=!1,a=0;a<i[o].length;a++){if(i[o][a].unit_amount>s.unit_amount){i[o].splice(a,0,s);r=!0;break}}r||i[o].push(s)}for(var l=0;l<t.length;l++)void 0!==i[t[l]]&&this.pricing[product.id].prices.push({[t[l]]:i[t[l]]});return console.log(this.pricing),!0}},Acme.Donations.prototype.renderPrices=function(e){for(pricing in this.pricing)data=this.pricing[pricing],data.active=this.active[data.id],data.selected=this.selected,this.renderLayout("donate",data)},Acme.Donations.prototype.renderLayout=function(e,t){(void 0===t||!t||Object.keys(t).length<1)&&(t={}),t["class-prefix"]="donate-",t.logo=_appJsConfig.templatePath+"/static/images/newsroom-logo.svg",t.user=this.user,t.guest=this.guest,t.validEmail=this.validEmail,t.intervalString="","month"!==this.selected.interval&&"year"!==this.selected.interval||(t.intervalString=" each "+this.selected.interval),this.userSelected||void 0===this.defaults[t.active]||(t.selected.price_id=this.defaults[t.active][1],t.selected.product_id=this.defaults[t.active][0]),this.modal.renderLayout(e,t),this.layoutEvents()},Acme.Donations.prototype.layoutEvents=function(){var e=this,t=document.querySelector(".j-donate-input"),i=document.querySelector(".j-register-username"),n=document.querySelector(".j-signin-password"),o="u-display-none",s=document.getElementById("email_spinner"),r=document.querySelector(".j-retry"),a=document.querySelector(".j-continue"),l=document.getElementById("donate-button");t&&(t.oninput=function(t){var i=t.target.dataset.product,n=document.querySelector(".j-donation-price");if(n)for(var o=0;o<n.children.length;o++)n.children[o].classList.remove("donate-form__price-button--active");var s=t.target.value.replace(/[^0-9.]/g,"");s>0?(e.userSelected=!0,delete e.selected.price_id,e.selected.amount=100*parseFloat(s),e.selected.product_id=i,e.selected.currency="aud",l.innerText="DONATE $"+e.selected.amount/100):(e.userSelected=!1,delete e.selected.amount,l.innerText="DONATE")}),n&&(n.oninput=function(t){e.user.password=t.target.value}),i&&(i.focus(),i.oninput=function(t){var i=t.target.value;e.user.username=i,""!=i?t.target.classList.add("shrink"):t.target.classList.remove("shrink"),e.emailRegex.test(i)?a.classList.add("donate-login-form__button--active"):a.classList.remove("donate-login-form__button--active")}),a&&(a.addEventListener("click",(function(t){t.target.innerText="",s.classList.remove(o),void 0!==e.next&&null!==e.next||e.checkEmail(e.user.username).done((function(t){e.validEmail=null,!1===t.exists?(e.validEmail=!1,e.next="signin"):!0===t.exists&&(e.validEmail=!0,e.next="signin"),e.renderLayout("signin")})),"signin"===e.next&&e.signin(t.target)})),r&&r.addEventListener("click",(function(t){t.target.classList.add(o),e.user.username="",e.next=null,e.validEmail=null,e.renderLayout("signin")})))},Acme.Donations.prototype.handler=function(e){if(e.preventDefault(),void 0!==e.target.dataset.elem){var t=e.target.dataset.elem,i=e.target.dataset.layout;if("forgot"===e.target.dataset.behaviour){var n=document.querySelector(".j-email-text");return n.classList.remove("highlight"),this.user.username?void this.forgot().done((function(e){if(1!==e.success)return{success:e.success,error:e.error.email};n.innerHTML="<strong>A password reset link has been sent to your email.</strong> <br />After reset, enter your new password to continue."})).fail((function(e){console.log(e)})):(n.classList.add("highlight"),!1)}if(i)this.renderLayout(i);else{if("signin"!==t){if("period"===t){var o=e.target.dataset.period,s=e.target.dataset.product;return this.selected.interval=o,this.active[s]=o,void this.renderPrices()}return"price"===t?(this.selected.price_id=e.target.dataset.price_id,this.selected.product_id=e.target.dataset.product,delete this.selected.price,this.selected.amount=null,this.userSelected=!0,void this.renderPrices()):"checkout"===t?"1"===this.guest?void this.renderLayout("signin"):void this.checkout():void 0}this.signin(e.target)}}},Acme.Donations.prototype.checkout=function(){var e=this;if(void 0!==e.selected.product_id){var t={product_id:e.selected.product_id};void 0!==e.selected.price_id&&(t.price_id=e.selected.price_id),void 0!==e.selected.amount&&(t.amount=e.selected.amount),void 0!==e.selected.interval&&(t.interval=e.selected.interval),void 0!==e.selected.currency&&(t.currency=e.selected.currency),void 0!==e.user.username&&(t.email=e.user.username),void 0!==e.user.email&&(t.email=e.user.email),t.success=_appJsConfig.appHostName+"/donation-thanks",t.cancel=_appJsConfig.appHostName+"/donations",Acme.server.create("/api/paywall/checkout-session",t).done((function(t){e.Stripe.redirectToCheckout({sessionId:t.sessionId}).then((function(e){console.log(e)}))}))}},Acme.Donations.prototype.signin=function(e){var t=this;e.innerText="";var i=document.getElementById("loginPass"),n=document.querySelector(".j-error-text"),o=document.getElementById("email_spinner"),s=document.querySelector(".j-email-text"),r="<strong>It looks like you have an account with us!</strong> <br />Please enter your password to continue.";s.innerText="",o.classList.remove("u-display-none"),n.classList.add("u-display-none"),n.innerHTML="";var a={},l="register";t.user.username&&t.user.password&&(l="signin"),"signin"===l&&(a.username=t.user.username,a.password=t.user.password,a.rememberMe=1,Acme.server.create("/api/auth/login",a).done((function(a){1===a.success?t.fetchUser().done((function(e){1===e.success&&(t.user=e.self,t.guest="0"),console.log(e),t.checkout()})):(e.innerText="Sign in",i.classList.remove("u-display-none"),s.innerHTML=r,o.classList.add("u-display-none"),n.innerHTML=a.error.password.join("<br />"),n.classList.remove("u-display-none"))})).fail((function(t){e.innerText="Sign in",i.classList.remove("u-display-none"),s.innerHTML=r,o.classList.add("u-display-none"),n.innerHTML=t.error.password.join("<br />"),n.classList.remove("u-display-none")}))),"register"===l&&t.checkout()},Acme.Donations.prototype.forgot=function(){return Acme.server.create("/api/auth/forgot-password",{email:this.user.username})},Acme.Donations.prototype.register=function(){var e=this,t=this.random(20);loginData={email:this.user.username,firstname:"Anon",lastname:"Donor",password:t,username:this.random(10),verifypassword:t,captcha:"yes"},Acme.server.create("/api/auth/signup",loginData).done((function(t){1===t.success&&e.fetchUser().done((function(t){1===t.success&&(e.user=t.self,e.guest="0"),console.log(t),e.checkout()}))}))},Acme.Donations.prototype.random=function(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=i.length,o=0;o<e;o++)t+=i.charAt(Math.floor(Math.random()*n));return t},Acme.Donations.prototype.checkEmail=function(e){return Acme.server.fetch("/api/user/check-email",{email:e})},Acme.Donations.prototype.fetchUser=function(){return Acme.server.fetch("/api/user/self")},Acme.Donations.prototype.events=function(){var e=this;$("#donations, .j-donation").on("click",(function(t){e.modal.render("spinner");var i=t.target.dataset;void 0!==i.interval&&void 0!==i.amount&&(e.selectedInterval=i.interval,e.selectedAmount=parseInt(i.amount)),e.load()}))},Acme.Form=function(e,t){this.data,this.errorField,this.validators=e||null,this.validateRules=t||{}},Acme.Form.prototype=new Acme._View,Acme.Form.constructor=Acme.Form,Acme.Form.prototype.loadData=function(){for(var e in this.validateFields){var t=this.validateFields[e].split(".").reverse()[0];if((e=$("#"+t)).length||(e=$("#"+this.id+' input[name="'+t+'"]')),e.length){var i=e[0].type;"hidden"!==i&&(this.data[t]="checkbox"===i?e[0].checked:e.val())}}},Acme.Form.prototype.clearInlineErrors=function(){for(var e in this.errorField&&this.errorField.removeClass("active"),this.validateFields){var t=this.validateFields[e].split(".").reverse()[0];(e=$("#"+t)).length||(e=$("#"+this.id+' input[name="'+this.errorFields[e]+'"]')),e.removeClass("formError")}},Acme.Form.prototype.addInlineErrors=function(){for(var e in this.errorFields.length>0&&this.errorField&&this.errorField.addClass("active"),this.errorFields){(e=$("#"+this.errorFields[e])).length||(e=$("#"+this.id+' input[name="'+this.errorFields[e]+'"')),e.addClass("formError")}},Acme.Form.prototype.render=function(){this.clearInlineErrors(),this.addInlineErrors()},Acme.Form.prototype.validate=function(e){var t,i,n,o=!0,s=[];if(e&&this.validateFields){console.log("checkfields exists");s=(t=this.validateFields,(i=e).length>t.length&&(n=i,i=t,t=n),t.filter((function(e){return i.indexOf(e)>-1})));for(var r=0;r<s.length;r++){var a=s[r].split(".").reverse()[0],l=this.errorFields.indexOf(a);if(-1===l)break;this.errorFields.splice(l,1)}}else{s=this.validateFields||[];console.log(s),this.errorFields=[]}for(var c=0;c<s.length;c++){var u=s[c],d=u.split("."),p=this.data;for(r=0;r<d.length;r++){if(!p[d[r]]){p=!1;break}if(r==d.length-1){p=p[d[r]];break}p=p[d[r]]}var h=this.validateRules[u];if(h.length>0)for(var m=s[c].split(".").reverse()[0],f=0;f<h.length;f++)if(!this.validators[h[f]](p)){this.errorFields.push(m),o=!1;break}}return o},Acme.Form.prototype.events=function(e){var t=this;$("#"+this.id+" input, #"+this.id+" textarea").on("change",(function(e){console.log("input changing"),e.stopPropagation(),e.preventDefault();var i={},n=$(e.target),o=n.attr("name"),s=n.attr("type");if("text"==s||"email"==s||"password"==s)i[o]=n.val();else if("checkbox"==s){var r=n.is(":checked");i[o]=r}t.updateData(i);t.validate([o]);t.render()}));var i=document.getElementById(this.id);null!=i&&i.addEventListener("submit",(function(e){t.submit(e)}))},Acme.Validators={notEmpty:function(e){return!!e},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},username:function(e){return e.length>4},isTrue:function(e){return"true"===e||!0===e}},function(e){Acme.videoPopup=function(e,t,i,n){this.template=e,this.parentCont=t,this.layouts=i,this.data=n||{},this.parent=Acme.modal.prototype,this.hasLocal="undefined"!=typeof localStorage,this.keyName="videoCampaign",this.date=new Date,this.token={},this.run()},Acme.videoPopup.prototype=new Acme.modal,Acme.videoPopup.constructor=Acme.videoPopup,Acme.videoPopup.prototype.errorMsg=function(t){e(".message").removeClass("hide")},Acme.videoPopup.prototype.rendered=function(t){setTimeout((function(){e(".acme-modal__close").removeClass("u-invisible")}),2e4)},Acme.videoPopup.prototype.handle=function(e){"close"==this.parent.handle.call(this,e).data("behaviour")&&(e.preventDefault(),this.updateToken("closed",!0))},Acme.videoPopup.prototype.run=function(){this.token=this.getToken(),this.token&&!this.isExpired()||(this.refreshToken(),this.setToken()),this.token.registered||this.token.closed||this.render("video","",this.data)},Acme.videoPopup.prototype.getDateString=function(){return[this.date.getFullYear(),this.date.getMonth()+1,this.date.getDate()].join("-")},Acme.videoPopup.prototype.isExpired=function(){return!(this.token.seen===this.getDateString())},Acme.videoPopup.prototype.refreshToken=function(){this.token={seen:this.getDateString(),closed:!1,registered:!1}},Acme.videoPopup.prototype.updateToken=function(e,t){this.token[e]=t,this.setToken()},Acme.videoPopup.prototype.getToken=function(){return this.hasLocal?(this.token=localStorage.getItem(this.keyName),this.token&&JSON.parse(this.token)):null},Acme.videoPopup.prototype.setToken=function(){this.hasLocal&&localStorage.setItem(this.keyName,JSON.stringify(this.token))},Acme.videoPopup.prototype.removeToken=function(){if(this.hasLocal)return localStorage.removeItem(this.keyName)}}(jQuery),Acme.registerPopUp=function(e){this.hasLocal="undefined"!=typeof localStorage,this.keyName=e,this.date=new Date,this.token={};var t=this;setTimeout((function(){t.run(),t.events()}),5e3)},Acme.registerPopUp.prototype.run=function(){this.token=this.getToken(),this.token&&!this.isPopUpExpired()||(this.refreshToken(),this.setToken()),this.token.registered||this.token.closed||this.render()},Acme.registerPopUp.prototype.getDateString=function(){return[this.date.getFullYear(),this.date.getMonth()+1,this.date.getDate()].join("-")},Acme.registerPopUp.prototype.isPopUpExpired=function(){return!this.token.registered&&!(this.token.seen===this.getDateString())},Acme.registerPopUp.prototype.refreshToken=function(){this.token={seen:this.getDateString(),closed:!1,registered:!1}},Acme.registerPopUp.prototype.updateToken=function(e,t){this.token[e]=t,this.setToken()},Acme.registerPopUp.prototype.getToken=function(){return this.hasLocal?(this.token=localStorage.getItem(this.keyName),this.token&&JSON.parse(this.token)):null},Acme.registerPopUp.prototype.setToken=function(){this.hasLocal&&localStorage.setItem(this.keyName,JSON.stringify(this.token))},Acme.registerPopUp.prototype.removeToken=function(){if(this.hasLocal)return localStorage.removeItem(this.keyName)},Acme.registerPopUp.prototype.render=function(){var e=Handlebars.compile(Acme.templates.registerPopup);$("body").append(e({path:_appJsConfig.templatePath})),$("#register-popup").animate({bottom:"0px"},500)},Acme.registerPopUp.prototype.close=function(){$("#register-popup").animate({bottom:"-150px"},500,(function(){$("#register-popup").remove()}))},Acme.registerPopUp.prototype.events=function(){var e=this;$("#register-popup").on("click",(function(t){var i=$(t.target);(i.hasClass("register-popup__close")||i.hasClass("register-popup__close-icon"))&&(e.updateToken("closed",!0),e.close())})),$("#mc-embedded-subscribe-form-popup").on("submit",(function(t){e.updateToken("registered",!0),e.close()})),$("#register-popup-subscriber").on("click",(function(t){e.updateToken("registered",!0),e.close()}))},$("document").ready((function(){var e=[$(window).scrollTop()],t=$("#menu-top-foldaway"),i=$("#menu-bottom-foldaway"),n=!1;var o=function(t){return e[0]>=t},s=function(){return o(210)?($("#topAddBlock").removeClass("fixadd"),$("#topAddBlock").css({position:"absolute",top:"212px"}),$(".menu-mobile").data("foldaway",!0)):($("#topAddBlock").addClass("fixadd"),$("#topAddBlock").css({position:"",top:""})),!1};Acme.HeaderMenu=function(){this.topMenu=$("#menu-top-foldaway"),this.bottomMenu=$("#menu-bottom-foldaway"),this.menu=$("#foldaway-panel"),this.subscriptions=Acme.PubSub.subscribe({"Acme.headerMenu.listener":["update_state"]}),this.listeners={fixedMenu:function(e){"hide"===e.fixedMenu?this.hideFixed():this.showFixed()}}},Acme.HeaderMenu.prototype=new Acme._View,Acme.HeaderMenu.constructor=Acme.HeaderMenu,Acme.HeaderMenu.prototype.showFixed=function(){this.menu.addClass("showMenuPanel")},Acme.HeaderMenu.prototype.hideFixed=function(){t.addClass("u-hide"),i.addClass("u-hide"),this.menu.removeClass("showMenuPanel"),$("#menu-foldaway").removeClass("o-close").addClass("o-hamburger")},Acme.headerMenu=new Acme.HeaderMenu;var r=function(){o(300)&&window.innerWidth>1119?Acme.headerMenu.showFixed():n||Acme.headerMenu.hideFixed()};$(window).on("resize",(function(){s(),r()})).resize(),$(window).scroll((function(){var t="down",i=$(window).scrollTop();i<e[0]&&(t="up"),e=[i,t],s(),r()})),$("#batch-add").on("click",(function(e){var t=$("#batch-user-input").val(),i=JSON.parse(t),n=_appJsConfig.baseHttpPath+"/api/user/batch-add";return $.ajax({type:"post",url:n,dataType:"json",data:i}).done((function(e){console.log(e),alert("Users added")})).fail((function(e){console.log(e),alert(e.responseText)}))})),$("#batch-add-csv").on("click",(function(e){var t={owner:{email:null},users:[]},i=$("#batch-user-input").val().split(/\n/),n=i[0].split(",");t.owner.email=n[n.length-1];for(var o=1;o<i.length;o++)$user=i[o].split(","),$userobj={firstname:$user[0],lastname:$user[1],username:$user[2],email:$user[3]},t.users.push($userobj);var s=_appJsConfig.baseHttpPath+"/api/user/batch-add";return $.ajax({type:"post",url:s,dataType:"json",data:t}).done((function(e){console.log(e),alert("Users added")})).fail((function(e){console.log(e),alert(e.responseText)}))})),$("#menu-foldaway").on("click",(function(e){$(e.target).toggleClass("o-hamburger").toggleClass("o-close"),t.toggleClass("u-hide"),i.toggleClass("u-hide"),n&&(n=!1,$("li.menu-item-search-foldaway>ul.search-foldaway").removeAttr("style"),$(".menuContainer > ul > li.menu-item-search-foldaway").removeClass("now-active"))})),$(".menu-mobile, #mobile-search-close").on("click",(function(e){$(this).parent(".sb-custom-menu");var t=$(".mobile-menu__overlay");$("#mobile-menu").toggleClass("mobile-menu--active"),$("body").toggleClass("acme-modal-active"),t.animate({opacity:"toggle"},{duration:500},(function(){t.fadeIn()})),e.preventDefault()})),$("#desktop-search").on("click",(function(e){if(window.innerWidth>1120){var t=$("#desktop-search > span:first-child");t.hasClass("icon-search")?t.removeClass("icon-search").addClass("o-close"):t.removeClass("o-close").addClass("icon-search"),$("#desktop-searchform").toggleClass("site-header-search--active"),$("#menu-primary-menu").toggleClass("submenu--hidden"),$("#desktop-header-search").focus()}})),$("#locked-header-search-button").on("click",(function(e){if(window.innerWidth>1120){var t=$("#locked-header-search-button > span:first-child");t.hasClass("icon-search")?t.removeClass("icon-search").addClass("o-close"):t.removeClass("o-close").addClass("icon-search"),$("#locked-searchform").toggleClass("site-header-search--active"),$("#menu-locked").toggleClass("submenu--hidden"),$("#locked-header-search").focus()}})),$(".menuContainer > ul > li.menu-item-search-foldaway").on("click",(function(e){n=!n,window.innerWidth>1120&&($(this).children("ul").stop(!0,!1).slideToggle(225),$(this).toggleClass("now-active"),window.innerWidth>1120&&$("input#header-search-foldaway").focus())})),$("li.menu-item-search").bind("mouseenter focus mouseleave",(function(){if(window.innerWidth>1120)return $("input#header-search").focus(),!1})),$("li.menu-item-search-foldaway").bind("mouseenter focus mouseleave",(function(){if(window.innerWidth>1120)return $("input#header-search-foldaway").focus(),!1})),$(".sb-custom-menu > ul > li > a").focus((function(e){window.innerWidth>1120&&($("ul.menu > li").children("ul.sub-menu").stop(!0,!0).slideUp("fast"),$(this).parent().children("ul").stop(!0,!0).slideDown("fast"),e.preventDefault())})),$("#profile").on("click",(function(e){$("#header__menu").toggleClass("Profile_Open"),$("body").toggleClass("no_profile"),e.preventDefault()})),$(".bio-show-more").on("click",(function(e){e.preventDefault();var t=$(this);t.find("span").toggleClass("down").toggleClass("up"),t.siblings("p.bio").toggle()})),$(".j-recent-header").click((function(e){$(this).hasClass("faded")&&($(".j-recent-header").toggleClass("faded"),$(".j-recent-toggle").toggleClass("u-hide"))})),$(".video-player").videoPlayer(),$("img.lazyload").lazyload({effect:"fadeIn"});var a="";clearTimeout(a),a=setTimeout((function(){$(".j-truncate").dotdotdot({watch:!0})}),750),$("#owl-gallery-image").owlCarousel({items:1,thumbs:!0,thumbsPrerendered:!0,URLhashListener:!0,startPosition:"URLHash",pagination:!0,dots:!1,nav:!0,navText:["",""]})}));var SearchController=(jQuery,{listing:function(){SearchController.Listing.init()}});SearchController.Listing=function(e){return{init:function(){!function(){e(".loadMoreArticles").on("click",(function(i){i.preventDefault();var n=e(this);e.fn.Ajax_LoadSearchArticles({search:e("input.header__search-text").val(),onSuccess:function(i,o,s){if(1==i.success){for(var r in i.articles){i.articles[r].containerClass="col-quarter",i.articles[r].promotedClass=1==i.articles[r].isPromoted?"ad_icon":"",i.articles[r].hasArticleMediaClass=1==i.articles[r].hasMedia?"withImage__content":"without__image",i.articles[r].blogClass="",null!==i.articles[r].blog.id&&(i.articles[r].blogClass="card--blog_"+i.articles[r].blog.id);var a=e.image({media:i.articles[r].featuredMedia,mediaOptions:{width:500,height:350,crop:"limit"}});i.articles[r].imageUrl=a;var l=Handlebars.compile(systemCardTemplate)(i.articles[r]);e(".ajaxArticles").append(l)}i.articles.length<20&&e(n).css("display","none"),t(),e(".card p, .card h1").dotdotdot(),e("div.lazyload").lazyload({effect:"fadeIn"})}},beforeSend:function(t,i){e(n).html("Please wait...")},onComplete:function(t,i){e(n).html("Load More")}})}));var t=function(){e(".shareIcons").SocialShare({onLoad:function(t){var i=t.parents("div.article").find(".card__news-category").text(),n=t.parents("div.article").find("a").attr("href"),o=t.parents("div.article").find(".card__news-description").text();e(".rrssb-buttons").rrssb({title:i,url:n,description:o}),setTimeout((function(){rrssbInit()}),10)}})}}()}}}(jQuery),function(e){Acme.Signin=function(e,t,i){this.template=e,this.parentCont=t,this.layouts=i,this.parent=Acme.modal.prototype},Acme.Signin.prototype=new Acme.modal,Acme.Signin.constructor=Acme.Signin,Acme.Signin.prototype.errorMsg=function(t){e(".message").removeClass("u-hide")},Acme.Signin.prototype.handle=function(t){var i=this,n=this.parent.handle.call(this,t);if(n.is("a")&&n.hasClass("close")&&(t.preventDefault(),e("body").removeClass("active"),this.closeWindow()),n.is("button")){if(e(".message").addClass("u-hide"),n.hasClass("signin")){n.text("").addClass("spinner"),t.preventDefault();var o={};e.each(e("#loginForm").serializeArray(),(function(){o[this.name]=this.value.trim()})),o.rememberMe=1,Acme.server.create("/api/auth/login",o).done((function(e){if(1===e.success){if("/auth/reset-thanks"===window.location.pathname)return void window.location.replace(_appJsConfig.appHostName);if("/prosubscribe"===window.location.pathname)return void window.location.replace(_appJsConfig.appHostName+"/pro");window.location.reload()}else n.text("Sign in").removeClass("spinner"),i.errorMsg()})).fail((function(e){n.text("Sign in").removeClass("spinner"),i.errorMsg(),console.log(e)}))}if(n.hasClass("forgot")){t.preventDefault();o={};e.each(e("#forgotForm").serializeArray(),(function(){o[this.name]=this.value})),Acme.server.create("/api/auth/forgot-password",o).done((function(e){1===e.success?location.reload():i.errorMsg()})).fail((function(e){console.log(e)}))}n.hasClass("close")&&(e("body").removeClass("active"),this.closeWindow())}if(n.hasClass("layout")){var s=n.data("layout");this.renderLayout(s)}};Acme.SigninView=new Acme.Signin("modal","signin-modal",{signin:"signinFormTmpl",register:"registerTmpl",forgot:"forgotFormTmpl",spinner:"spinnerTmpl",expired:"expiredNotice",userPlan:"userPlanMessage",userPlanChange:"userPlanOkCancel"}),e("#signinBtn, #articleSigninBtn, .j-signin").on("click",(function(){Acme.SigninView.render("signin","Sign in")})),e("a.j-register").on("click",(function(e){e.preventDefault(),Acme.SigninView.render("register","Register your interest")}))}(jQuery);var botTimer=0;if($("#stripekey").length&&$("#paywallsubscribe").length){var stripekey=$("#stripekey").html(),stripe=Stripe(stripekey);setInterval((function(){botTimer+=1}),1e3);var style={base:{color:"#32325d",lineHeight:"24px",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},card=(elements=stripe.elements()).create("card",{style:style});null!=(cardElement=document.getElementById("card-element"))&&card.mount("#card-element"),card.addEventListener("change",(function(e){var t=document.getElementById("card-errors");e.error?t.textContent=e.error.message:t.textContent=""})),(SubscribeForm=function(e,t){this.id=e||null,this.parent=Acme.Form.prototype,this.code=!1,this.data={firstname:"Subscriber",password:this.random(25),username:this.random(15),user_id:t.user_id,user_guid:t.user_guid},this.errorFields=[],this.validateRules={email:["notEmpty"],trial:[],terms:["isTrue"]};var i=$("#trial").val();this.data.plantype=$("#plantype").val(),"1"==i&&"time"===this.data.plantype&&(this.data.trial="true",this.validateRules.changeterms=["isTrue"]),$("#code-redeem").length>0&&(this.code=!0,delete this.validateRules.terms,delete this.validateRules.changeterms),this.validateFields=Object.keys(this.validateRules),this.loadData(),this.events()}).prototype=new Acme.Form(Acme.Validators),SubscribeForm.constructor=SubscribeForm,SubscribeForm.prototype.random=function(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=i.length,o=0;o<e;o++)t+=i.charAt(Math.floor(Math.random()*n));return t},SubscribeForm.prototype.render=function(e){this.clearInlineErrors(),this.addInlineErrors(),e&&(this.data.terms&&("true"!==this.data.trial||this.data.changeterms)||(this.confirmView=new Acme.modal("modal","signin-modal",{terms:"subscribeTerms"}),this.confirmView.render("terms","Almost there")))},SubscribeForm.prototype.submit=function(e){var t=this;e.preventDefault();var i=t.validate(),n=!0;if(this.code&&(n=!1),t.render(n),i)if((botTimer<5||""!==$("#email-confirm").val())&&(window.location.href=location.origin+"/auth/thank-you"),this.signup=new Acme.modal("modal","spinner-modal",{spinner:"spinnerTmpl"}),this.code)this.signup.render("spinner","Authorising code"),t.data.planid=$("#planid").val(),t.data.giftcode=$("#code-redeem").val(),t.data.stripetoken=null,Acme.server.create("/auth/paywall-signup",t.data);else{this.signup.render("spinner","Your request is being processed.");stripe.createToken(card).then((function(e){e.error?(t.signup.closeWindow(),document.getElementById("card-errors").textContent=e.error):(t.data.stripetoken=e.token.id,t.data.planid=$("#planid").val(),t.data.redirect=!1,Acme.server.create("/auth/paywall-signup",t.data).done((function(e){if(1==e.success){t.data.user_id=e.userid,t.data.user_guid=e.userguid;var i=Math.floor(6e10*Math.random());if($(".j-gtasubpay")[0]){var n=$($(".j-gtasubpay")[0]);"undefined"!=typeof dataLayer&&dataLayer.push({event:"purchase",ecommerce:{purchase:{actionField:{id:i,revenue:n.data("price")},products:[{name:n.data("name"),id:n.data("id"),category:"Pro Subscription",price:n.data("price"),quantity:1}]}}})}Acme.progress.next()}else{var o=document.getElementById("card-errors"),s="";for(var r in e.error)s=s+e.error[r]+" ";o.textContent=s}t.signup.closeWindow()})).fail((function(e){t.signup.closeWindow()})))}))}};var main=$("main"),user={user_id:main.data("userid"),user_guid:main.data("userguid")};Acme.subscribe=new SubscribeForm("payment-form",user);var ActivateForm=function(e,t){this.subscription=t,this.id=e||null,this.parent=Acme.Form.prototype,this.data={"group[1149][1]":!0,"group[1149][2]":!0},this.errorFields=[],this.validateRules={password:["notEmpty"],verifypassword:["notEmpty"],firstname:["notEmpty"],lastname:["notEmpty"]},this.validateFields=Object.keys(this.validateRules),this.loadData(),this.events()};ActivateForm.prototype=new Acme.Form(Acme.Validators),ActivateForm.constructor=ActivateForm,ActivateForm.prototype.submit=function(e){var t=this;e.preventDefault();var i=t.validate();this.data.user_id=this.subscription.data.user_id,this.data.user_guid=this.subscription.data.user_guid,t.render(!0),i&&(this.signup=new Acme.modal("modal","spinner-modal",{spinner:"spinnerTmpl"}),this.signup.render("spinner","Activating account"),Acme.server.create("/api/user/edit-profile",this.data).done((function(e){if(console.log(e),0!=t.data["group[1149][1]"]||0!=t.data["group[1149][2]"]){var i={EMAIL:t.subscription.data.email,FNAME:t.data.firstname,LNAME:t.data.lastname};t.data["group[1149][1]"]&&(i["group[1149][1]"]=1),t.data["group[1149][2]"]&&(i["group[1149][2]"]=2),Acme.server.create("https://hivenews.us7.list-manage.com/subscribe/post?u=9cf8330209dae95121b0d58a6&amp;id=2412c1d355",i).then((function(e){console.log(e)}))}Acme.progress.next(),t.signup.closeWindow()})).fail((function(e){console.log("failed",e)})))},Acme.subscribe=new ActivateForm("activate-form",Acme.subscribe);var ManagedForm=function(e,t){this.id=e||null,this.parent=Acme.Form.prototype,this.data={},this.errorFields=[],this.validateRules={firstname:["notEmpty"],lastname:["notEmpty"],email:["notEmpty"]},this.validateFields=Object.keys(this.validateRules),this.loadData(),this.events()};ManagedForm.prototype=new Acme.Form(Acme.Validators),ManagedForm.constructor=ManagedForm,ManagedForm.prototype.submit=function(e){var t=this;if(e.preventDefault(),"skip"!==$(e.submitter).data("job")){var i=t.validate();t.render(!0),i&&(this.signup=new Acme.modal("modal","spinner-modal",{spinner:"spinnerTmpl"}),this.signup.render("spinner","Sending invite"),Acme.server.create("/api/user/create-paywall-managed-user",this.data).done((function(e){console.log(e),1==e.success?window.location.href=location.origin+"/auth/thank-you":t.signup.closeWindow()})).fail((function(e){console.log("failed",e),t.signup.closeWindow()})))}else window.location.href=location.origin+"/auth/thank-you"},Acme.managedForm=new ManagedForm("bonusform",Acme.subscribe);var Progress=function(e){this.progress=e>0&&e<4?e:1,this.numbers=[$("#num1"),$("#num2"),$("#num3")],this.lines=[$("#line1"),$("#line2"),$("#line3")],this.forms=[$("#signupformview"),$("#activeformview"),$("#userformview")],this.labels=[$("#label1"),$("#label2"),$("#label3")],this.render()};Progress.prototype.tick=function(e){this.progress=e,this.render()},Progress.prototype.next=function(){this.progress<3&&this.progress++,this.render()},Progress.prototype.previous=function(){this.progress>0&&this.progress--,this.render()},Progress.prototype.render=function(){for(var e=0;e<this.numbers.length;e++)this.numbers[e].removeClass("subscribe-progress__number--red");for(e=0;e<this.lines.length;e++)this.lines[e].removeClass("subscribe-progress__line--red");for(e=0;e<this.forms.length;e++)this.forms[e].addClass("u-hide");for(e=0;e<this.labels.length;e++)this.labels[e].removeClass("subscribe-progress__label--active");for(e=0;e<this.progress;e++)this.numbers[e].addClass("subscribe-progress__number--red"),this.lines[e].addClass("subscribe-progress__line--red"),this.labels[e].addClass("subscribe-progress__label--active");this.forms[this.progress-1].removeClass("u-hide"),this.progress>1&&$("#changeplan").addClass("u-hide")};var urlParams=new URLSearchParams(window.location.search),step=urlParams.get("step");Acme.progress=new Progress(step),Acme.progress.render()}botTimer=0;if($("#stripekey").length>0&&$("#paywalloldsubscribe").length){console.log("running from stripe code");stripekey=$("#stripekey").html();var modal=new Acme.Signin("spinner","spinner-modal",{spinner:"spinnerTmpl"});stripe=Stripe(stripekey);setInterval((function(){botTimer+=1}),1e3);var elements,cardElement,SubscribeForm;style={base:{color:"#32325d",lineHeight:"24px",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},card=(elements=stripe.elements()).create("card",{style:style});null!=(cardElement=document.getElementById("card-element"))&&card.mount("#card-element"),card.addEventListener("change",(function(e){var t=document.getElementById("card-errors");e.error?t.textContent=e.error.message:t.textContent=""})),(SubscribeForm=function(){this.data={"group[1149][1]":!0,"group[1149][2]":!0},this.errorFields=[],this.validateRules={verifypassword:["notEmpty"],firstname:["notEmpty"],lastname:["notEmpty"],username:[],password:["notEmpty"],email:["notEmpty"],trial:[],terms:["isTrue"]},this.events();var e=$("#trial").val();this.data.plantype=$("#plantype").val(),1==e&&"time"===this.data.plantype&&(this.data.trial="true",this.validateRules.changeterms=["isTrue"]),this.validateFields=Object.keys(this.validateRules)}).prototype=new Acme.Form(Acme.Validators),SubscribeForm.constructor=SubscribeForm,SubscribeForm.prototype.render=function(e){this.clearInlineErrors(),this.addInlineErrors(),e&&(this.data.terms&&("true"!==this.data.trial||this.data.changeterms)||(this.confirmView=new Acme.modal("modal","signin-modal",{terms:"subscribeTerms"}),this.confirmView.render("terms","Terms of use")))},SubscribeForm.prototype.submit=function(e){var t=this;e.preventDefault();var i=t.validate();if(t.render(!0),i)if($("#card-errors").text(""),$("#password").val()===$("#verifypassword").val())if((botTimer<5||""!==$("#email-confirm").val())&&(window.location.href=location.origin+"/auth/thank-you"),$("#code-redeem").length>0)modal.render("spinner","Authorising code"),t.data.planid=$("#planid").val(),t.data.giftcode=$("#code-redeem").val(),t.data.stripetoken=null,n();else{modal.render("spinner","Your request is being processed.");stripe.createToken(card).then((function(e){e.error?(modal.closeWindow(),document.getElementById("card-errors").textContent=e.error.message):(t.data.stripetoken=e.token.id,t.data.planid=$("#planid").val(),t.data.redirect=!1,n())}))}else $("#card-errors").text("Password fields do not match.");function n(){formhandler(t.data,"/auth/paywall-signup").then((function(e){if(1==e.success){if(0!=t.data["group[1149][1]"]||0!=t.data["group[1149][2]"]){var i={EMAIL:t.data.email,FNAME:t.data.firstname,LNAME:t.data.lastname};t.data["group[1149][1]"]&&(i["group[1149][1]"]=1),t.data["group[1149][2]"]&&(i["group[1149][2]"]=2),Acme.server.create("https://hivenews.us7.list-manage.com/subscribe/post?u=9cf8330209dae95121b0d58a6&amp;id=2412c1d355",i).then((function(e){console.log(e)}))}setTimeout('window.location.href = location.origin + "/auth/thank-you";',2e3)}}))}},SubscribeForm.prototype.events=function(){var e=this;$("input, textarea").on("change",(function(t){t.stopPropagation(),t.preventDefault();var i={},n=$(t.target),o=n.attr("name"),s=n.attr("type");if("text"==s||"email"==s||"password"==s)i[o]=n.val(),"email"==s&&(i.username=Math.floor(1e8+9e15*Math.random()));else if("checkbox"==s){var r=n.is(":checked");i[o]=r}e.updateData(i);e.validate([o]);e.render()}));var t=document.getElementById("payment-form");null!=t&&t.addEventListener("submit",(function(t){e.submit(t)})),console.log("removing email confirm"),$("#email-confirm").addClass("email-confirm")},Acme.subscribe=new SubscribeForm;var formhandler=function(e,t){$('meta[name="csrf-token"]').attr("content");return $.ajax({url:_appJsConfig.appHostName+t,type:"post",data:e,dataType:"json",success:function(e){if(e.success)$("#card-errors").text("Completed successfully.");else{modal.closeWindow();var t="";for(var i in e.error)t=t+e.error[i]+" ";$("#card-errors").text(t)}},error:function(e){modal.closeWindow()}})},udform=document.getElementById("update-card-form");null!=udform&&udform.addEventListener("submit",(function(e){e.preventDefault(),modal.render("spinner","Your request is being processed."),$("#card-errors").text(""),stripe.createToken(card).then((function(e){e.error?(modal.closeWindow(),document.getElementById("card-errors").textContent=e.error.message):(formdata={stripetoken:e.token.id},formhandler(formdata,"/user/update-payment-details").then((function(){modal.closeWindow(),location.reload()})))}))}))}$(".j-mcsubscribe").click((function(e){var t=$("#"+$(e.currentTarget).data("input")).val();document.getElementById("mce-group[3]-"+$(e.currentTarget).data("type")).checked=!0,$("#j-box-"+$(e.currentTarget).data("type")).addClass("d-none"),$("#j-mcpopup-thankyou").text("You are signing up to the "+$(e.currentTarget).data("title")+"."),$("#mce-EMAIL").val(t),$("#j-mcpopup").removeClass("d-none")})),$(".j-mcmultisubscribe").click((function(e){$("#j-box-3-0").addClass("d-none"),$("#j-box-3-1").addClass("d-none"),$("#j-box-3-2").addClass("d-none"),$("#j-box-3-3").addClass("d-none"),$("#j-mcpopup-thankyou").text("Thank you for signing up"),$("#j-mcpopup-blurb").text("To unsubscribe, click the link in the email."),$("#j-mcpopup-cancel").text("CLOSE"),$("#j-mcpopup-signup").addClass("d-none")})),$(".j-mccancel").click((function(){$("#j-mcpopup").data("email",""),$("#j-mcpopup").addClass("d-none"),$("#j-mccheckbox-3-0").prop("checked",!1),$("#j-box-3-0").removeClass("d-none"),$("#j-mccheckbox-3-1").prop("checked",!1),$("#j-box-3-1").removeClass("d-none"),$("#j-mccheckbox-3-2").prop("checked",!1),$("#j-box-3-2").removeClass("d-none"),$("#j-mccheckbox-3-3").prop("checked",!1),$("#j-box-3-3").removeClass("d-none"),$("#j-mcpopup-signup").removeClass("d-none"),$("#j-mcpopup-cancel").html("CANCEL"),$("#j-mcpopup-blurb").html("While you’re here would you like to sign up to any of our other email newsletters?")})),$(".j-mcprosubscribe").click((function(e){$("#j-mcpopup").removeClass("d-none")})),Acme.Token=function(e){this.hasLocal="undefined"!=typeof localStorage,this.keyName=e,this.token={}},Acme.Token.prototype.getToken=function(){return this.hasLocal?(this.token=localStorage.getItem(this.keyName),this.token&&JSON.parse(this.token)):null},Acme.Token.prototype.setToken=function(e){this.hasLocal&&localStorage.setItem(this.keyName,e)},Acme.Token.prototype.removeToken=function(){if(this.hasLocal)return localStorage.removeItem(this.keyName)},Acme.UserProfileController=function(){this.csrfToken=$('meta[name="csrf-token"]').attr("content"),this.mailChimpUser=!1,this.emailLists=[],this.newsroom="2412c1d355",this.group="f6f5aaa06b",this.events(),this.userEvents(),this.listingEvents(),this.fetchEmailLists()},Acme.UserProfileController.prototype.subscribeToEmail=function(e,t){var i={_csrf:this.csrfToken,list:this.newsroom,group:t,user:e,action:"create"};return Acme.server.create(_appJsConfig.baseHttpPath+"/api/integration/mailchimp-subscription",i).done((function(e){console.log(e)}))},Acme.UserProfileController.prototype.fetchUserMailchimpStatus=function(e){var t={action:"get",list:e};return Acme.server.create(_appJsConfig.baseHttpPath+"/api/integration/mailchimp-subscription",t)},Acme.UserProfileController.prototype.fetchEmailLists=function(){var e=this;Acme.server.fetch(_appJsConfig.baseHttpPath+"/api/integration/mailchimp-get-list-data?list="+this.newsroom+"&group="+this.group).done((function(t){void 0!==t.data.interests&&(e.emailLists=t.data.interests);var i=Handlebars.compile(Acme.templates.mailchimpList);e.fetchUserMailchimpStatus(e.newsroom).done((function(t){e.mailChimpUser=!1!==t.data;for(var n=e.emailLists.length-1;n>-1;n--){var o="",s=e.emailLists[n].name;!1!==t.data&&!0===t.data.interests[e.emailLists[n].id]&&"unsubscribed"!==t.data.status&&(o="checked"),"daily summaries"==e.emailLists[n].name.toLowerCase()&&(s="Send me Jonathan Milne's <i>8 Things</i> email each day"),"breaking news alerts"==e.emailLists[n].name.toLowerCase()&&(s="Send me an email alert when important news breaks");var r={listId:e.newsroom,groupId:e.emailLists[n].id,name:s,checked:o};$("#account-form__email").append(i(r))}}))}))},Acme.UserProfileController.prototype.deleteUser=function(e){var t=$(e.target).closest("li"),i=t.attr("id"),n={user:i,list:this.newsroom,action:"unsubscribe"};Acme.server.create(_appJsConfig.baseHttpPath+"/api/integration/mailchimp-subscription",n).done((function(e){var n={id:i,_csrf:this.csrfToken};return $.ajax({type:"post",url:_appJsConfig.baseHttpPath+"/user/delete-managed-user",dataType:"json",data:n,success:function(e,i,n){if(1==e.success){t.remove(),$("#addManagedUser").removeClass("hidden");var o=$(".profile-section__users-left").text().split(" "),s=o[2];o=parseInt(o[0]),$(".profile-section__users-left").text(o-1+" of "+s+" used.")}else{var r="";for(var a in e.error)r=r+e.error[a]+" ";$("#createUserErrorMessage").text(r)}},error:function(e,t,i){$("#createUserErrorMessage").text(t)}})}))},Acme.UserProfileController.prototype.renderUser=function(e,t,i){var n=i?Handlebars.compile(i):Handlebars.compile(Acme.templates.managed_user);t.constructor!=Array&&(t=[t]);for(var o="",s=0;s<t.length;s++)o+=n(t[s]);e.empty().append(o)},Acme.UserProfileController.prototype.render=function(e){e=e.users.users||e.users;for(var t=[],i=0;i<e.length;i++)t.push({firstname:e[i].firstname,lastname:e[i].lastname,username:e[i].username,useremail:e[i].email,id:e[i].id});this.renderUser($("#mangedUsers"),t,Acme.managed_user),this.userEvents()},Acme.UserProfileController.prototype.search=function(e){var t=this;this.fetch(e,"search-managed-users").done((function(e){t.render(e)}))},Acme.UserProfileController.prototype.fetchUsers=function(e){var t=this;this.fetch(e,"load-more-managed").done((function(e){t.render(e)}))},Acme.UserProfileController.prototype.fetch=function(e,t){t=_appJsConfig.appHostName+"/api/user/"+t;return Acme.server.fetch(t,e)},Acme.UserProfileController.prototype.userEvents=function(){var e=this;$(".j-edit").unbind().on("click",(function(t){var i=$(t.target).closest("li"),n=i.attr("id");function o(e){return{firstname:i.find(".j-firstname")[e](),lastname:i.find(".j-lastname")[e](),username:i.find(".j-username")[e](),useremail:i.find(".j-email")[e]()}}var s=o("text"),r=Handlebars.compile(Acme.templates.edit_user)(s);i.empty().append(r),$("#cancelUserCreate").on("click",(function(t){e.renderUser(i,s),e.userEvents()})),$("#saveUser").on("click",(function(t){var s=o("val");s.id=n,s._csrf=this.csrfToken,$.ajax({type:"post",url:_appJsConfig.baseHttpPath+"/user/edit-managed-profile",dataType:"json",data:s,success:function(t,n,o){if(1==t.success)e.renderUser(i,s),$("#addManagedUser").removeClass("hidden"),$("#createUserErrorMessage").text("");else{var r="";for(var a in t.error)r=r+t.error[a]+" ";$("#createUserErrorMessage").text(r)}e.userEvents()},error:function(e,t,i){$("#createUserErrorMessage").text(t)}})}))})),$(".j-delete").unbind().on("click",(function(t){Acme.SigninView.render("userPlanChange","Are you sure you want to delete this user?").done((function(){e.deleteUser(t)}))}))},Acme.UserProfileController.prototype.events=function(){var e=this;$("#portal-session").on("click",(function(e){console.log("portal button click"),e.preventDefault(),Acme.server.create(_appJsConfig.baseHttpPath+"/api/paywall/user-portal-session").then((function(e){console.log(e.session.url),void 0!==e.session.url&&window.location.replace(e.session.url)}))})),$("#account-form__email").unbind().on("click",(function(t){var i=$(t.target),n=i.is(":checked")?e.mailChimpUser?"subscribe":"create":"unsubscribe",o=i.val().split(":");requestData={list:o[0],group:o[1],action:n},Acme.server.create(_appJsConfig.baseHttpPath+"/api/integration/mailchimp-subscription",requestData).done((function(t){1==t.success&&(e.mailChimpUser=!0)})).fail((function(e){$("#createUserErrorMessage").text(e.errorText)}))})),$("#profile-form").submit((function(e){e.preventDefault();var t="";""==$("#firstname").val()&&(t+="First name cannot be empty. <br />"),""==$("#lastname").val()&&(t+="Last name cannot be empty.  <br />"),""==$("#email").val()&&(t+="Email cannot be empty. "),$("#account-form__errorText").html(t),t||$(this).unbind("submit").submit()})),$("#message-close").on("click",(function(e){e.preventDefault();$(this).parent().remove()})),$("#managed-user-search").on("submit",(function(t){t.preventDefault();var i={};$.each($(this).serializeArray(),(function(e,t){i[t.name]=t.value})),e.search(i),$("#user-search-submit").hide(),$("#user-search-clear").show()})),$("#user-search-clear").on("click",(function(t){t.preventDefault(),e.fetchUsers(),$("#managed-user-search-field").val(""),$("#user-search-submit").show(),$("#user-search-clear").hide()})),$("#addManagedUser").on("click",(function(t){t.preventDefault();var i='<li id="newUser" class="user-editor user-editor__add"><p class="text-button">Add User</p>'+Handlebars.compile(Acme.templates.create_user)({firstname:"First name",lastname:"Last name",username:"Username",useremail:"Email"})+"</li>";$("#createManagedUser").append(i),$("#newuserfirstname").focus(),$("#addManagedUser").addClass("hidden"),$("#nousers").addClass("hidden"),$("#saveUser").on("click",(function(t){$("#userError").text("");var i={firstname:$("#newuserfirstname").val(),lastname:$("#newuserlastname").val(),username:Math.floor(1e8+9e15*Math.random()),useremail:$("#newuseruseremail").val(),_csrf:this.csrfToken},n="";""===i.firstname&&(n+="First name cannot be blank. "),""===i.lastname&&(n+="Last name cannot be blank. "),""===i.useremail&&(n+="Email cannot be blank. "),""==n?($("#user-editor__spinner").addClass("spinner"),$.ajax({type:"post",url:_appJsConfig.appHostName+"/user/create-paywall-managed-user",dataType:"json",data:i,success:function(t,i,n){if($("#user-editor__spinner").removeClass("spinner"),1==t.success){var o=e.emailLists.map((function(e){return e.id}));e.subscribeToEmail(t.user,o),location.reload(!1)}else{var s="";for(var r in t.error)s=s+t.error[r]+" ";$("#createUserErrorMessage").text(s)}},error:function(e,t,i){$("#user-editor-buttons").removeClass("spinner"),$("#createUserErrorMessage").text(t)}})):$("#userError").text(n)})),$("#cancelUserCreate").on("click",(function(e){$("#newUser").remove(),$("#addManagedUser").removeClass("hidden"),$("#createUserErrorMessage").text("")}))})),$("#cancelAccount").on("click",(function(e){e.preventDefault();$(e.target).closest("li");var t="cancelled";message="Are you sure you want to cancel your plan?","Restart Subscription"==$(e.target).text()&&(message="Do you want to reactivate your plan? You will be billed on the next payment date.",t="paid");var i={status:t,_csrf:this.csrfToken};Acme.SigninView.render("userPlanChange",message).done((function(){$("#dialog").parent().remove(),$.ajax({type:"post",url:_appJsConfig.baseHttpPath+"/user/paywall-account-status",dataType:"json",data:i,success:function(e,t,i){if(1==e.success)window.location.reload(!1);else{var n="";for(var o in e.error)n=n+e.error[o]+" ";$("#createUserErrorMessage").text(n)}},error:function(e,t,i){$("#createUserErrorMessage").text(t)}})}))})),$(".j-setplan").on("click",(function(e){e.stopPropagation();var t=new Acme.modal("modal","signin-modal",{userPlan:"userPlanMessage",userPlanChange:"userPlanOkCancel"}),i=$(e.target);i.hasClass("j-setplan")||(i=$(e.target.parentNode));var n=$("#currentPlanStats"),o=n.data("cardsupplied"),s=+n.data("currentusers"),r=+n.data("currentcost"),a=+n.data("currentplanperiodcount"),l=n.data("expiry"),c=n.data("currentperiod"),u=n.data("currenttype"),d=+i.data("planusercount"),p=+i.data("plancost"),h=+i.data("planperiodcount"),m=i.data("planperiod"),f=i.data("plantype");if(s>0&&s>=d)t.render("userPlan","You have too many users to change to that plan.");else{"week"==m&&(m=7),"month"==m&&(m=365/12),"year"==m&&(m=365),"week"==c&&(c=7),"month"==c&&(c=365/12),"year"==c&&(c=365);var g=p/(m*=h),v=r/(c*=a),y="",b=0;("article"==f&&"time"!==u||"time"==f&&"article"===u)&&(b=p/100),"signup"===u&&(b=p/100),"time"===u&&"time"===f&&p<r&&(b=0);var w=new Date(l),_=function(e,t){const i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((n-i)/864e5)}(new Date,w);if("time"===u&&"time"===f&&_>0&&(g-v)*_>=0&&(b=Math.round((g-v)*_/100)),b>0&&(y="This will cost $"+b.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")),"f"===o)return y+="However, we need you to supply your credit card details. <br />You can enter those a little lower on the page and then we can finalise the plan change.",void t.render("userPlan","Almost there!",{message:y});var C={planid:i.data("planid"),_csrf:$('meta[name="csrf-token"]').attr("content")};t.render("userPlanChange","Are you sure you want to change plan?"+y).done((function(){$("#dialog").parent().remove(),$.ajax({type:"post",url:_appJsConfig.baseHttpPath+"/user/change-paywall-plan",dataType:"json",data:C,success:function(e,t,i){1==e.success?window.location.reload():($("#dialog").parent().remove(),Acme.SigninView.render("userPlan",e.error))},error:function(e,t,i){$("#createUserErrorMessage").text(t)}})}))}}))},Acme.UserProfileController.prototype.listingEvents=function(){$(".j-deleteListing").unbind().on("click",(function(e){e.preventDefault();var t=$(e.target).closest("a.card"),i=t.data("guid");Acme.SigninView.render("userPlanChange","Are you sure you want to delete this listing?").done((function(){Acme.server.create("/api/article/delete-user-article",{articleguid:i}).done((function(e){t.remove()})).fail((function(e){}))}))}))};